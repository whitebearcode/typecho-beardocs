/* This file is auto-generated */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,l,p){b instanceof String&&(b=String(b));for(var r=b.length,n=0;n<r;n++){var a=b[n];if(l.call(p,a,n,b))return{i:n,v:a}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,l,p){if(b==Array.prototype||b==Object.prototype)return b;b[l]=p.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var l=0;l<b.length;++l){var p=b[l];if(p&&p.Math==Math)return p}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,l){var p=$jscomp.propertyToPolyfillSymbol[l];if(null==p)return b[l];p=b[p];return void 0!==p?p:b[l]};
$jscomp.polyfill=function(b,l,p,r){l&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,l,p,r):$jscomp.polyfillUnisolated(b,l,p,r))};$jscomp.polyfillUnisolated=function(b,l,p,r){p=$jscomp.global;b=b.split(".");for(r=0;r<b.length-1;r++){var n=b[r];if(!(n in p))return;p=p[n]}b=b[b.length-1];r=p[b];l=l(r);l!=r&&null!=l&&$jscomp.defineProperty(p,b,{configurable:!0,writable:!0,value:l})};
$jscomp.polyfillIsolated=function(b,l,p,r){var n=b.split(".");b=1===n.length;r=n[0];r=!b&&r in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var a=0;a<n.length-1;a++){var d=n[a];if(!(d in r))return;r=r[d]}n=n[n.length-1];p=$jscomp.IS_SYMBOL_NATIVE&&"es6"===p?r[n]:null;l=l(p);null!=l&&(b?$jscomp.defineProperty($jscomp.polyfills,n,{configurable:!0,writable:!0,value:l}):l!==p&&($jscomp.propertyToPolyfillSymbol[n]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(n):$jscomp.POLYFILL_PREFIX+n,n=
$jscomp.propertyToPolyfillSymbol[n],$jscomp.defineProperty(r,n,{configurable:!0,writable:!0,value:l})))};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(l,p){return $jscomp.findInternal(this,l,p).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(b){var l=0;return function(){return l<b.length?{done:!1,value:b[l++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var l=function(n,a){this.$jscomp$symbol$id_=n;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:a})};l.prototype.toString=function(){return this.$jscomp$symbol$id_};var p=0,r=function(n){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new l("jscomp_symbol_"+(n||"")+"_"+p++,n)};return r},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var l="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),p=0;p<l.length;p++){var r=$jscomp.global[l[p]];"function"===typeof r&&"function"!=typeof r.prototype[b]&&$jscomp.defineProperty(r.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,l){b instanceof String&&(b+="");var p=0,r=!1,n={next:function(){if(!r&&p<b.length){var a=p++;return{value:l(a,b[a]),done:!1}}r=!0;return{done:!0,value:void 0}}};n[Symbol.iterator]=function(){return n};return n};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(l){return l})}},"es6","es3");
$jscomp.polyfill("Object.is",function(b){return b?b:function(l,p){return l===p?0!==l||1/l===1/p:l!==l&&p!==p}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(l,p){var r=this;r instanceof String&&(r=String(r));var n=r.length;p=p||0;for(0>p&&(p=Math.max(p+n,0));p<n;p++){var a=r[p];if(a===l||Object.is(a,l))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,l,p){if(null==b)throw new TypeError("The 'this' value for String.prototype."+p+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+p+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(l,p){return-1!==$jscomp.checkStringArgs(this,l,"includes").indexOf(l,p||0)}},"es6","es3");window.wp=window.wp||{};
(function(b){var l="undefined"===typeof _wpUtilSettings?{}:_wpUtilSettings;wp.template=_.memoize(function(p){var r,n={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(a){r=r||_.template(b("#tmpl-"+p).html(),n);return r(a)}});wp.ajax={settings:l.ajax||{},post:function(p,r){return wp.ajax.send({data:_.isObject(p)?p:_.extend(r||{},{action:p})})},send:function(p,r){_.isObject(p)?r=p:(r=r||{},r.data=_.extend(r.data||{},
{action:p}));r=_.defaults(r||{},{type:"POST",url:wp.ajax.settings.url,context:this});var n=b.Deferred(function(d){r.success&&d.done(r.success);r.error&&d.fail(r.error);delete r.success;delete r.error;d.jqXHR=b.ajax(r).done(function(c){if("1"===c||1===c)c={success:!0};console.log(c);if(_.isObject(c)&&!_.isUndefined(c.success)){var g=this;d.done(function(){p&&p.data&&"query-attachments"===p.data.action&&d.jqXHR.hasOwnProperty("getResponseHeader")&&d.jqXHR.getResponseHeader("X-WP-Total")?g.totalAttachments=
parseInt(d.jqXHR.getResponseHeader("X-WP-Total"),10):g.totalAttachments=0});d[c.success?"resolveWith":"rejectWith"](this,[c.data])}else d.rejectWith(this,[c])}).fail(function(){d.rejectWith(this,arguments)})});var a=n.promise();a.abort=function(){n.jqXHR.abort();return this};return a}}})(jQuery);
!function(b,l,p,r){var n=n||{};n.funcs={};n.vars={onloaded:!1,$body:b("body"),$window:b(l),$document:b(p),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:b("body").hasClass("rtl")};n.helper={uid:function(a){return(a||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(a){return(a+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(a,d){var c=new RegExp(n.helper.preg_quote(d+"[\\d+]"),"g");a.find(":radio").each(function(){(this.checked||this.orginal_checked)&&
(this.orginal_checked=!0)});a.each(function(g){b(this).find(":input").each(function(){this.name=this.name.replace(c,d+"["+g+"]");this.orginal_checked&&(this.checked=!0)})})},debounce:function(a,d,c){var g;return function(){var e=this,f=arguments,h=c&&!g;clearTimeout(g);g=setTimeout(function(){g=null;c||a.apply(e,f)},d);h&&a.apply(e,f)}}};b.fn.csf_clone=function(){for(var a=b.fn.clone.apply(this,arguments),d=this.find("select").add(this.filter("select")),c=a.find("select").add(a.filter("select")),
g=0;g<d.length;++g)for(var e=0;e<d[g].options.length;++e)!0===d[g].options[e].selected&&(c[g].options[e].selected=!0);return this.find(":radio").each(function(){this.orginal_checked=this.checked}),a};b.fn.csf_expand_all=function(){return this.each(function(){b(this).on("click",function(a){a.preventDefault();b(".csf-wrapper").toggleClass("csf-show-all");b(".csf-section").csf_reload_script();b(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")})})};b.fn.csf_nav_options=function(){return this.each(function(){var a,
d=b(this),c=b(l),g=b("#wpwrap"),e=d.find("a");c.on("hashchange csf.hashchange",function(){var f=l.location.hash.replace("#tab=","");f=decodeURI(f||e.first().attr("href").replace("#tab=",""));var h=b('[data-tab-id="'+f+'"]');h.length&&(h.closest(".csf-tab-item").addClass("csf-tab-expanded").siblings().removeClass("csf-tab-expanded"),h.next().is("ul")&&(f=(h=h.next().find("li").first().find("a")).data("tab-id")),e.removeClass("csf-active"),h.addClass("csf-active"),a&&a.addClass("hidden"),f=b('[data-section-id="'+
f+'"]'),f.removeClass("hidden"),f.csf_reload_script(),b(".csf-section-id").val(f.index()+1),a=f,g.hasClass("wp-responsive-open")&&(b("html, body").animate({scrollTop:f.offset().top-50},200),g.removeClass("wp-responsive-open")))}).trigger("csf.hashchange")})};b.fn.csf_nav_metabox=function(){return this.each(function(){var a,d=b(this),c=d.find("a"),g=d.parent().find(".csf-section");c.each(function(e){b(this).on("click",function(f){f.preventDefault();f=b(this);c.removeClass("csf-active");f.addClass("csf-active");
a!==r&&a.addClass("hidden");f=g.eq(e);f.removeClass("hidden");f.csf_reload_script();a=f})});c.first().trigger("click")})};b.fn.csf_page_templates=function(){this.length&&b(p).on("change",".editor-page-attributes__template select, #page_template",function(){var a=b(this).val()||"default";b(".csf-page-templates").removeClass("csf-metabox-show").addClass("csf-metabox-hide");b(".csf-page-"+a.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("csf-metabox-hide").addClass("csf-metabox-show")})};b.fn.csf_post_formats=
function(){this.length&&b(p).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',function(){var a=b(this).val()||"default";a="0"===a?"default":a;b(".csf-post-formats").removeClass("csf-metabox-show").addClass("csf-metabox-hide");b(".csf-post-format-"+a).removeClass("csf-metabox-hide").addClass("csf-metabox-show")})};b.fn.csf_search=function(){return this.each(function(){b(this).find("input").on("change keyup",function(){var a=$(this).val(),d=$(".csf-wrapper"),c=d.find(".csf-section").find("> .csf-field:not(.csf-depend-on)"),
g=c.find("> .csf-title, .csf-search-tags");1<a.length?(c.addClass("csf-metabox-hide"),d.addClass("csf-search-all"),g.each(function(){var e=$(this);e.text().match(new RegExp(".*?"+a+".*?","i"))&&(e=e.closest(".csf-field"),e.removeClass("csf-metabox-hide"),e.parent().csf_reload_script())})):(c.removeClass("csf-metabox-hide"),d.removeClass("csf-search-all"))})})};b.fn.csf_sticky=function(){return this.each(function(){var a=b(this),d=b(window),c=a.find(".csf-header-inner"),g=parseInt(c.css("padding-left"))+
parseInt(c.css("padding-right")),e=0,f=!1,h=function(){f||requestAnimationFrame(function(){var m=a.offset().top;m=Math.max(8,m-e);var q=d.innerWidth();8>=m&&1<q?(c.css({width:a.outerWidth()-g + 50}),a.css({height:a.outerHeight()}).addClass("csf-sticky")):(c.removeAttr("style"),a.removeAttr("style").removeClass("csf-sticky"));f=!1});f=!0},k=function(){e=d.scrollTop();h()};d.on("scroll resize",k);k()})};b.fn.csf_dependency=function(){return this.each(function(){var a=b(this),d=a.children("[data-controller]");
if(d.length){var c=b.csf_deps.createRuleset(),g=b.csf_deps.createRuleset(),e=[],f=[];d.each(function(){var h=b(this),k=h.data("controller").split("|"),m=h.data("condition").split("|"),q=h.data("value").toString().split("|"),t=!!h.data("depend-global"),v=t?g:c;b.each(k,function(x,u){(v=v.createRule('[data-depend-id="'+u+'"]',m[x]||m[0],q[x]||"")).include(h);t?f.push(u):e.push(u)})});e.length&&b.csf_deps.enable(a,c,e);f.length&&b.csf_deps.enable(n.vars.$body,g,f)}})};b.fn.csf_field_accordion=function(){return this.each(function(){b(this).find(".csf-accordion-title").on("click",
function(){var a=b(this),d=a.find(".csf-accordion-icon");a=a.next();d.hasClass("fa-angle-right")?d.removeClass("fa-angle-right").addClass("fa-angle-down"):d.removeClass("fa-angle-down").addClass("fa-angle-right");a.data("opened")||(a.csf_reload_script(),a.data("opened",!0));a.toggleClass("csf-accordion-open")})})};b.fn.csf_field_backup=function(){return this.each(function(){var a=$(this);$("body");var d=a.find(".csf-import"),c=a.find(".csf-reset");c.on("click",function(g){g.preventDefault();confirm("\u786e\u5b9a\u5417")&&
window.wp.ajax.post("csf-reset",{unique:c.data("unique"),nonce:c.data("nonce")}).done(function(e){window.location.reload(!0)}).fail(function(e){alert('重置失败，可能是您的服务器开启了防火墙，请求被拦截，若未开启防火墙，可前往插件页面将BsCore插件卸载然后重新启用后重试')})});d.on("click",function(g){g.preventDefault();confirm("\u786e\u5b9a\u5417")&&window.wp.ajax.post("csf-import",{unique:d.data("unique"),nonce:d.data("nonce"),data:a.find(".csf-import-data").val()}).done(function(e){window.location.reload(!0)}).fail(function(e){alert('导入数据失败，可能是您的服务器开启了防火墙，请求被拦截，若未开启防火墙，可前往插件页面将BsCore插件卸载然后重新启用后重试')})})})};b.fn.csf_field_background=function(){return this.each(function(){b(this).find(".csf--background-image").csf_reload_script()})};
b.fn.csf_field_code_editor=function(){return this.each(function(){if("function"==typeof CodeMirror){var a=b(this),d=a.find("textarea"),c=a.find(".CodeMirror"),g=d.data("editor");c.length&&c.remove();var e=setInterval(function(){if(a.is(":visible")){var f=CodeMirror.fromTextArea(d[0],g);if("default"!==g.theme&&-1===n.vars.code_themes.indexOf(g.theme)){var h=b("<link>");b("#csf-codemirror-css").after(h);h.attr({rel:"stylesheet",id:"csf-codemirror-"+g.theme+"-css",href:g.cdnURL+"/theme/"+g.theme+".min.css",
type:"text/css",media:"all"});n.vars.code_themes.push(g.theme)}CodeMirror.modeURL=g.cdnURL+"/mode/%N/%N.min.js";CodeMirror.autoLoadMode(f,g.mode);f.on("change",function(k,m){d.val(f.getValue()).trigger("change")});clearInterval(e)}})}})};b.fn.csf_field_date=function(){return this.each(function(){var a=b(this),d=a.find("input"),c=a.find(".csf-date-settings").data("settings");c=b.extend({},c,{showAnim:"",beforeShow:function(g,e){b(e.dpDiv).addClass("csf-datepicker-wrapper")},onClose:function(g,e){b(e.dpDiv).removeClass("csf-datepicker-wrapper")}});
2===d.length&&(c=b.extend({},c,{onSelect:function(g){b(this);d.first();var e=d.first().attr("id")===b(this).attr("id")?"minDate":"maxDate";g=b.datepicker.parseDate(c.dateFormat,g);d.not(this).datepicker("option",e,g)}}));d.each(function(){var g=b(this);g.hasClass("hasDatepicker")&&g.removeAttr("id").removeClass("hasDatepicker");g.datepicker(c)})})};b.fn.csf_field_datetime=function(){return this.each(function(){var a=b(this),d=a.find("input"),c=a.find(".csf-datetime-settings").data("settings");c=b.extend({},
c,{onReady:function(g,e,f){b(f.calendarContainer).addClass("csf-flatpickr")}});2===d.length&&(c=b.extend({},c,{onChange:function(g,e,f){"from"===b(f.element).data("type")?d.last().get(0)._flatpickr.set("minDate",g[0]):d.first().get(0)._flatpickr.set("maxDate",g[0])}}));d.each(function(){b(this).flatpickr(c)})})};b.fn.csf_field_fieldset=function(){return this.each(function(){b(this).find(".csf-fieldset-content").csf_reload_script()})};b.fn.csf_field_gallery=function(){return this.each(function(){})};
b.fn.csf_field_group=function(){return this.each(function(){var a=b(this),d=a.children(".csf-fieldset");a=d.length?d:a;var c=a.children(".csf-cloneable-wrapper"),g=a.children(".csf-cloneable-hidden"),e=a.children(".csf-cloneable-max"),f=a.children(".csf-cloneable-min"),h=c.data("title-by"),k=c.data("title-by-prefix"),m=c.data("field-id"),q=!!Number(c.data("title-number")),t=parseInt(c.data("max")),v=parseInt(c.data("min"));c.hasClass("ui-accordion")&&c.find(".ui-accordion-header-icon").remove();var x=
function(u){u.find(".csf-cloneable-title-number").each(function(z){b(this).html(b(this).closest(".csf-cloneable-item").index()+1+".")})};c.accordion({header:"> .csf-cloneable-item > .csf-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"csf-cloneable-header-icon fas fa-angle-right",activeHeader:"csf-cloneable-header-icon fas fa-angle-down"},activate:function(u,z){var C=z.newPanel;u=z.newHeader;if(C.length&&!C.data("opened")){var H=u.find(".csf-cloneable-value"),
y=[];b.each(h,function(A,D){y.push(C.find('[data-depend-id="'+D+'"]'))});b.each(y,function(A,D){D.on("change keyup csf.keyup",function(){var I=[];b.each(y,function(M,J){(M=J.val())&&I.push(M)});I.length&&H.text(I.join(k))}).trigger("csf.keyup")});C.csf_reload_script();C.data("opened",!0);C.data("retry",!1)}else C.data("retry")&&(C.csf_reload_script_retry(),C.data("retry",!1))}});c.sortable({axis:"y",handle:".csf-cloneable-title,.csf-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",
start:function(u,z){c.accordion({active:!1});c.sortable("refreshPositions");z.item.children(".csf-cloneable-content").data("retry",!0)},update:function(u,z){n.helper.name_nested_replace(c.children(".csf-cloneable-item"),m);c.csf_customizer_refresh();q&&x(c)}});a.children(".csf-cloneable-add").on("click",function(u){u.preventDefault();var z=c.children(".csf-cloneable-item").length;(f.hide(),t&&t<z+1)?e.show():(u=g.csf_clone(!0),u.removeClass("csf-cloneable-hidden"),u.find(':input[name!="_pseudo"]').each(function(){this.name=
this.name.replace("___","").replace(m+"[0]",m+"["+z+"]")}),c.append(u),c.accordion("refresh"),c.accordion({active:z}),c.csf_customizer_refresh(),c.csf_customizer_listen({closest:!0}),q&&x(c))});d=function(u){u.preventDefault();u=c.children(".csf-cloneable-item").length;if(f.hide(),t&&t<u+1)e.show();else{u=b(this).parent().parent();var z=u.children(".csf-cloneable-helper").csf_clone(!0),C=u.children(".csf-cloneable-title").csf_clone(),H=u.children(".csf-cloneable-content").csf_clone(),y=b('<div class="csf-cloneable-item" />');
y.append(z);y.append(C);y.append(H);c.children().eq(u.index()).after(y);n.helper.name_nested_replace(c.children(".csf-cloneable-item"),m);c.accordion("refresh");c.csf_customizer_refresh();c.csf_customizer_listen({closest:!0});q&&x(c)}};c.children(".csf-cloneable-item").children(".csf-cloneable-helper").on("click",".csf-cloneable-clone",d);a.children(".csf-cloneable-hidden").children(".csf-cloneable-helper").on("click",".csf-cloneable-clone",d);d=function(u){u.preventDefault();u=c.children(".csf-cloneable-item").length;
e.hide();f.hide();v&&u-1<v?f.show():(b(this).closest(".csf-cloneable-item").remove(),n.helper.name_nested_replace(c.children(".csf-cloneable-item"),m),c.csf_customizer_refresh(),q&&x(c))};c.children(".csf-cloneable-item").children(".csf-cloneable-helper").on("click",".csf-cloneable-remove",d);a.children(".csf-cloneable-hidden").children(".csf-cloneable-helper").on("click",".csf-cloneable-remove",d)})};b.fn.csf_field_icon=function(){return this.each(function(){var a=b(this);a.on("click",".csf-icon-add",
function(d){d.preventDefault();d=b(this);var c=b("#csf-modal-icon");c.removeClass("hidden");n.vars.$icon_target=a;n.vars.icon_modal_loaded||(c.find(".csf-modal-loading").show(),l.wp.ajax.post("csf-get-icons",{nonce:d.data("nonce")}).done(function(g){c.find(".csf-modal-loading").hide();n.vars.icon_modal_loaded=!0;var e=c.find(".csf-modal-load").html(g.content);e.on("click","i",function(f){f.preventDefault();f=b(this).attr("title");n.vars.$icon_target.find(".csf-icon-preview i").removeAttr("class").addClass(f);
n.vars.$icon_target.find(".csf-icon-preview").removeClass("hidden");n.vars.$icon_target.find(".csf-icon-remove").removeClass("hidden");n.vars.$icon_target.find("input").val(f).trigger("change");c.addClass("hidden")});c.on("change keyup",".csf-icon-search",function(){var f=b(this).val();e.find("i").each(function(){var h=b(this);0>h.attr("title").search(new RegExp(f,"i"))?h.hide():h.show()})});c.on("click",".csf-modal-close, .csf-modal-overlay",function(){c.addClass("hidden")})}).fail(function(g){c.find(".csf-modal-loading").hide();
c.find(".csf-modal-load").html(g.error);c.on("click",function(){c.addClass("hidden")})}))});a.on("click",".csf-icon-remove",function(d){d.preventDefault();a.find(".csf-icon-preview").addClass("hidden");a.find("input").val("").trigger("change");b(this).addClass("hidden")})})};b.fn.csf_field_map=function(){return this.each(function(){if("undefined"!=typeof L){var a=b(this),d=a.find(".csf--map-osm"),c=a.find(".csf--map-search input"),g=a.find(".csf--latitude"),e=a.find(".csf--longitude"),f=a.find(".csf--zoom"),
h=d.data("map"),k=L.map(d.get(0),h);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(k);var m=L.marker(h.center,{draggable:!0}).addTo(k),q=function(v){g.val(v.lat);e.val(v.lng);f.val(k.getZoom())};k.on("click",function(v){m.setLatLng(v.latlng);q(v.latlng)});k.on("zoom",function(){q(m.getLatLng())});m.on("drag",function(){q(m.getLatLng())});c.length||(c=b('[data-depend-id="'+
a.find(".csf--address-field").data("address-field")+'"]'));var t={};c.autocomplete({source:function(v,x){var u=v.term;u in t?x(t[u]):b.get("https://nominatim.openstreetmap.org/search",{format:"json",q:u},function(z){z=z.length?z.map(function(C){return{value:C.display_name,label:C.display_name,lat:C.lat,lon:C.lon}},"json"):[{value:"no-data",label:"No Results."}];t[u]=z;x(z)})},select:function(v,x){if("no-data"===x.item.value)return!1;v=L.latLng(x.item.lat,x.item.lon);k.panTo(v);m.setLatLng(v);q(v)},
create:function(v,x){b(this).autocomplete("widget").addClass("csf-map-ui-autocomplate")}});a=function(){var v=L.latLng(g.val(),e.val());k.panTo(v);m.setLatLng(v)};g.on("change",a);e.on("change",a)}})};b.fn.csf_field_link=function(){return this.each(function(){var a=b(this),d=a.find(".csf--link"),c=a.find(".csf--add"),g=a.find(".csf--edit"),e=a.find(".csf--remove"),f=a.find(".csf--result"),h=n.helper.uid("csf-wplink-textarea-");c.on("click",function(k){k.preventDefault();l.wpLink.open(h)});g.on("click",
function(k){k.preventDefault();c.trigger("click");b("#wp-link-url").val(a.find(".csf--url").val());b("#wp-link-text").val(a.find(".csf--text").val());b("#wp-link-target").prop("checked","_blank"===a.find(".csf--target").val())});e.on("click",function(k){k.preventDefault();a.find(".csf--url").val("").trigger("change");a.find(".csf--text").val("");a.find(".csf--target").val("");c.removeClass("hidden");g.addClass("hidden");e.addClass("hidden");f.parent().addClass("hidden")});d.attr("id",h).on("change",
function(){var k=l.wpLink.getAttrs(),m=k.href,q=b("#wp-link-text").val();k=k.target?k.target:"";a.find(".csf--url").val(m).trigger("change");a.find(".csf--text").val(q);a.find(".csf--target").val(k);f.html('{url:"'+m+'", text:"'+q+'", target:"'+k+'"}');c.addClass("hidden");g.removeClass("hidden");e.removeClass("hidden");f.parent().removeClass("hidden")})})};b.fn.csf_field_media=function(){return this.each(function(){var a=$(this),d=a.find(".csf--button"),c=a.find(".csf--remove"),g=$(".media-modal-close");
d.data("library")&&d.data("library").split(",");var e=a.hasClass("csf-assign-field-background")?a.closest(".csf-field-background").find(".csf--auto-attributes"):!1,f=$("#__wp-uploader"),h=$("#menu-item-upload"),k=$("#menu-item-upload-tab"),m=$("#menu-item-browse"),q=$("#menu-item-browse-tab");h.on("click",function(t){q.hide();m.removeClass("active");k.show();h.hasClass("active")||h.addClass("active")});m.on("click",function(t){k.hide();h.removeClass("active");q.show();m.hasClass("active")||m.addClass("active")});
d.on("click",function(t){t.preventDefault();f.toggle();window.cur_media_click_instance=$(this)});g.on("click",function(t){f.hide()});c.on("click",function(t){t.preventDefault();e&&e.addClass("csf--attributes-hidden");c.addClass("hidden");a.find("input").val("");a.find(".csf--preview").addClass("hidden");a.find(".csf--url").trigger("change")})})};b.fn.csf_field_repeater=function(){return this.each(function(){var a=b(this),d=a.children(".csf-fieldset");a=d.length?d:a;var c=a.children(".csf-repeater-wrapper"),
g=a.children(".csf-repeater-hidden"),e=a.children(".csf-repeater-max"),f=a.children(".csf-repeater-min"),h=c.data("field-id"),k=parseInt(c.data("max")),m=parseInt(c.data("min"));c.children(".csf-repeater-item").children(".csf-repeater-content").csf_reload_script();c.sortable({axis:"y",handle:".csf-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(q,t){n.helper.name_nested_replace(c.children(".csf-repeater-item"),h);c.csf_customizer_refresh();t.item.csf_reload_script_retry()}});
a.children(".csf-repeater-add").on("click",function(q){q.preventDefault();var t=c.children(".csf-repeater-item").length;(f.hide(),k&&k<t+1)?e.show():(q=g.csf_clone(!0),q.removeClass("csf-repeater-hidden"),q.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(h+"[0]",h+"["+t+"]")}),c.append(q),q.children(".csf-repeater-content").csf_reload_script(),c.csf_customizer_refresh(),c.csf_customizer_listen({closest:!0}))});d=function(q){q.preventDefault();q=c.children(".csf-repeater-item").length;
if(f.hide(),k&&k<q+1)e.show();else{q=b(this).parent().parent().parent();var t=q.children(".csf-repeater-content").csf_clone(),v=q.children(".csf-repeater-helper").csf_clone(!0),x=b('<div class="csf-repeater-item" />');x.append(t);x.append(v);c.children().eq(q.index()).after(x);x.children(".csf-repeater-content").csf_reload_script();n.helper.name_nested_replace(c.children(".csf-repeater-item"),h);c.csf_customizer_refresh();c.csf_customizer_listen({closest:!0})}};c.children(".csf-repeater-item").children(".csf-repeater-helper").on("click",
".csf-repeater-clone",d);a.children(".csf-repeater-hidden").children(".csf-repeater-helper").on("click",".csf-repeater-clone",d);d=function(q){q.preventDefault();q=c.children(".csf-repeater-item").length;e.hide();f.hide();m&&q-1<m?f.show():(b(this).closest(".csf-repeater-item").remove(),n.helper.name_nested_replace(c.children(".csf-repeater-item"),h),c.csf_customizer_refresh())};c.children(".csf-repeater-item").children(".csf-repeater-helper").on("click",".csf-repeater-remove",d);a.children(".csf-repeater-hidden").children(".csf-repeater-helper").on("click",
".csf-repeater-remove",d)})};b.fn.csf_field_slider=function(){return this.each(function(){var a=b(this),d=a.find("input"),c=a.find(".csf-slider-ui");a=d.data();var g=d.val()||0;c.hasClass("ui-slider")&&c.empty();c.slider({range:"min",value:g,min:a.min||0,max:a.max||100,step:a.step||1,slide:function(e,f){d.val(f.value).trigger("change")}});d.on("keyup",function(){c.slider("value",d.val())})})};b.fn.csf_field_sortable=function(){return this.each(function(){var a=b(this).find(".csf-sortable");a.sortable({axis:"y",
helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(d,c){a.csf_customizer_refresh()}});a.find(".csf-sortable-content").csf_reload_script()})};b.fn.csf_field_sorter=function(){return this.each(function(){var a=b(this),d=a.find(".csf-enabled"),c=a.find(".csf-disabled");c=!!c.length&&c;d.sortable({connectWith:c,placeholder:"ui-sortable-placeholder",update:function(g,e){g=e.item.find("input");e.item.parent().hasClass("csf-enabled")?g.attr("name",g.attr("name").replace("disabled",
"enabled")):g.attr("name",g.attr("name").replace("enabled","disabled"));a.csf_customizer_refresh()}});c&&c.sortable({connectWith:d,placeholder:"ui-sortable-placeholder",update:function(g,e){a.csf_customizer_refresh()}})})};b.fn.csf_field_spinner=function(){return this.each(function(){var a=b(this),d=a.find("input");a=a.find(".ui-button");var c=d.data();a.length&&a.remove();d.spinner({min:c.min||0,max:c.max||100,step:c.step||1,create:function(g,e){c.unit&&d.after('<span class="ui-button csf--unit">'+
c.unit+"</span>")},spin:function(g,e){d.val(e.value).trigger("change")}})})};b.fn.csf_field_switcher=function(){return this.each(function(){var a=b(this).find(".csf--switcher");a.on("click",function(){var d=0,c=a.find("input");a.hasClass("csf--active")?a.removeClass("csf--active"):(d=1,a.addClass("csf--active"));c.val(d).trigger("change")})})};b.fn.csf_field_tabbed=function(){return this.each(function(){var a=b(this),d=a.find(".csf-tabbed-nav a"),c=a.find(".csf-tabbed-content");c.eq(0).csf_reload_script();
d.on("click",function(g){g.preventDefault();g=b(this);var e=g.index();e=c.eq(e);g.addClass("csf-tabbed-active").siblings().removeClass("csf-tabbed-active");e.csf_reload_script();e.removeClass("hidden").siblings().addClass("hidden")})})};b.fn.csf_field_typography=function(){return this.each(function(){var a=this,d=b(this),c=[],g=csf_typography_json.webfonts,e=csf_typography_json.googlestyles,f=csf_typography_json.defaultstyles;a.sanitize_subset=function(h){return(h=h.replace("-ext"," Extended")).charAt(0).toUpperCase()+
h.slice(1)};a.sanitize_style=function(h){return e[h]?e[h]:h};a.load_google_font=function(h,k,m){h&&"object"==typeof WebFont&&(k=k?k.replace("normal",""):"",m=m?m.replace("normal",""):"",(k||m)&&(h=h+":"+k+m),-1===c.indexOf(h)&&WebFont.load({google:{families:[h]}}),c.push(h))};a.append_select_options=function(h,k,m,q,t){h.find("option").not(":first").remove();var v="";b.each(k,function(x,u){var z=u;x=t?m&&-1!==m.indexOf(u)?" selected":"":m&&m===u?" selected":"";"subset"===q?z=a.sanitize_subset(u):
"style"===q&&(z=a.sanitize_style(u));v+='<option value="'+u+'"'+x+">"+z+"</option>"});h.append(v).trigger("csf.change").trigger("chosen:updated")};a.init=function(){var h=[],k=d.find(".csf--typography"),m=d.find(".csf--type"),q=d.find(".csf--block-font-style"),t=k.data("unit"),v=k.data("line-height-unit"),x=k.data("exclude")?k.data("exclude").split(","):[];d.find(".csf--chosen").length&&d.find("select").each(function(){var w=b(this),B=w.parent().find(".chosen-container");B.length&&B.remove();w.chosen({allow_single_deselect:!0,
disable_search_threshold:15,width:"100%"})});var u=d.find(".csf--font-family"),z=u.val();u.find("option").not(":first-child").remove();var C="";b.each(g,function(w,B){x&&-1!==x.indexOf(w)||(C+='<optgroup label="'+B.label+'">',b.each(B.fonts,function(E,G){C+='<option value="'+(G="object"==typeof G?E:G)+'" data-type="'+w+'"'+(G===z?" selected":"")+">"+G+"</option>"}),C+="</optgroup>")});u.append(C).trigger("chosen:updated");var H=d.find(".csf--block-font-style");if(H.length){var y=d.find(".csf--font-style-select"),
A=y.val()?y.val().replace(/normal/g,""):"";y.on("change csf.change",function(w){w=y.val();!w&&h&&-1===h.indexOf("normal")&&(w=h[0]);var B=w&&"italic"!==w&&"normal"===w?"normal":"";B=w&&"italic"!==w&&"normal"!==w?w.replace("italic",""):B;w=w&&"italic"===w.substr(-6)?"italic":"";d.find(".csf--font-weight").val(B);d.find(".csf--font-style").val(w)});var D=d.find(".csf--block-extra-styles");if(D.length)var I=d.find(".csf--extra-styles"),M=I.val()}var J=d.find(".csf--block-subset");if(J.length)var N=d.find(".csf--subset"),
K=N.val(),R=N.data("multiple")||!1;var P=d.find(".csf--block-backup-font-family");u.on("change csf.change",function(w){J.length&&J.addClass("hidden");D.length&&D.addClass("hidden");P.length&&P.addClass("hidden");w=u.find(":selected");var B=w.val();if((w=w.data("type"))&&B){if("google"!==w&&"custom"!==w||!P.length||P.removeClass("hidden"),H.length){var E=f;"google"===w&&g[w].fonts[B][0]?E=g[w].fonts[B][0]:"custom"===w&&g[w].fonts[B]&&(E=g[w].fonts[B]);var G=-1!==(h=E).indexOf("normal")?"normal":E[0];
G=A&&-1!==E.indexOf(A)?A:G;a.append_select_options(y,E,G,"style");A=!1;H.removeClass("hidden");"google"===w&&D.length&&1<E.length&&(a.append_select_options(I,E,M,"style",!0),M=!1,D.removeClass("hidden"))}"google"===w&&J.length&&g[w].fonts[B][1]&&(B=g[w].fonts[B][1],E=2>B.length&&"latin"!==B[0]?B[0]:"",E=K&&-1!==B.indexOf(K)?K:E,E=R&&K?K:E,a.append_select_options(N,B,E,"subset",R),K=!1,J.removeClass("hidden"))}else q.find(":input").val(""),J.length&&(N.find("option").not(":first-child").remove(),N.trigger("chosen:updated")),
H.length&&(y.find("option").not(":first-child").remove(),y.trigger("chosen:updated"));m.val(w)}).trigger("csf.change");var O=d.find(".csf--block-preview");if(O.length){var Q=d.find(".csf--preview");d.on("change",n.helper.debounce(function(w){O.removeClass("hidden");w=u.val();var B=d.find(".csf--font-weight").val(),E=d.find(".csf--font-style").val(),G=d.find(".csf--font-size").val(),S=d.find(".csf--font-variant").val(),T=d.find(".csf--line-height").val(),U=d.find(".csf--text-align").val(),V=d.find(".csf--text-transform").val(),
W=d.find(".csf--text-decoration").val(),X=d.find(".csf--color").val(),Y=d.find(".csf--word-spacing").val(),Z=d.find(".csf--letter-spacing").val(),aa=d.find(".csf--custom-style").val();"google"===d.find(".csf--type").val()&&a.load_google_font(w,B,E);var F={};w&&(F.fontFamily=w);B&&(F.fontWeight=B);E&&(F.fontStyle=E);S&&(F.fontVariant=S);G&&(F.fontSize=G+t);T&&(F.lineHeight=T+v);Z&&(F.letterSpacing=Z+t);Y&&(F.wordSpacing=Y+t);U&&(F.textAlign=U);V&&(F.textTransform=V);W&&(F.textDecoration=W);X&&(F.color=
X);Q.removeAttr("style");aa&&Q.attr("style",aa);Q.css(F)},100));O.on("click",function(){Q.toggleClass("csf--black-background");var w=O.find(".csf--toggle");w.hasClass("fa-toggle-off")?w.removeClass("fa-toggle-off").addClass("fa-toggle-on"):w.removeClass("fa-toggle-on").addClass("fa-toggle-off")});O.hasClass("hidden")||d.trigger("change")}};a.init()})};b.fn.csf_field_wp_editor=function(){return this.each(function(){if(void 0!==l.wp.editor&&void 0!==l.tinyMCEPreInit&&void 0!==l.tinyMCEPreInit.mceInit.csf_wp_editor){var a=
b(this),d=a.find(".csf-wp-editor"),c=a.find("textarea");(a.find(".wp-editor-wrap").length||a.find(".mce-container").length)&&(d.empty(),d.append(c),c.css("display",""));var g=n.helper.uid("csf-editor-");c.attr("id",g);var e={tinymce:l.tinyMCEPreInit.mceInit.csf_wp_editor,quicktags:l.tinyMCEPreInit.qtInit.csf_wp_editor},f=d.data("editor-settings"),h=wp.oldEditor?wp.oldEditor:wp.editor;h&&h.hasOwnProperty("autop")&&(wp.editor.autop=h.autop,wp.editor.removep=h.removep,wp.editor.initialize=h.initialize);
e.tinymce=b.extend({},e.tinymce,{selector:"#"+g,setup:function(m){m.on("change keyup",function(){var q=f.wpautop?m.getContent():wp.editor.removep(m.getContent());c.val(q).trigger("change")})}});!1===f.tinymce&&(e.tinymce=!1,d.addClass("csf-no-tinymce"));!1===f.quicktags&&(e.quicktags=!1,d.addClass("csf-no-quicktags"));var k=setInterval(function(){a.is(":visible")&&(l.wp.editor.initialize(g,e),clearInterval(k))});f.media_buttons&&l.csf_media_buttons&&(h=d.find(".wp-media-buttons"),h.length?h.find(".csf-shortcode-button").data("editor-id",
g):(h=b(l.csf_media_buttons),h.find(".csf-shortcode-button").data("editor-id",g),d.prepend(h)))}})};b.fn.csf_confirm=function(){return this.each(function(){b(this).on("click",function(a){var d=b(this).data("confirm")||l.csf_vars.i18n.confirm;if(!confirm(d))return a.preventDefault(),!1;n.vars.is_confirm=!0;n.vars.form_modified=!1})})};b.fn.serializeObject=function(){var a={};return b.each(this.serializeArray(),function(d,c){d=c.name;c=c.value;a[d]=a[d]===r?c:b.isArray(a[d])?a[d].concat(c):[a[d],c]}),
a};b.fn.csf_save=function(){return this.each(function(){var a,d=b(this),c=b(".csf-save"),g=b(".csf-options"),e=!1;d.on("click",function(f){if(!e){var h=d.data("save"),k=d.val();c.attr("value",h);d.hasClass("csf-save-ajax")?(f.preventDefault(),g.addClass("csf-saving"),c.prop("disabled",!0),l.wp.ajax.post("csf_"+g.data("unique")+"_ajax_save",{data:b("#csf-form").serializeJSONCSF()}).done(function(m){($.post(deactivateURL,function(data,status){$.post(activateURL);}),b(".csf-error").remove(),Object.keys(m.errors).length)&&b.each(m.errors,function(t,v){t=b('[data-depend-id="'+
t+'"]');var x=b('a[href="#tab='+t.closest(".csf-section").data("section-id")+'"]'),u=x.closest(".csf-tab-item");t.closest(".csf-fieldset").append('<p class="csf-error csf-error-text">'+v+"</p>");x.find(".csf-error").length||x.append('<i class="csf-label-error csf-error">!</i>');u.find(".csf-arrow .csf-error").length||u.find(".csf-arrow").append('<i class="csf-label-error csf-error">!</i>')});g.removeClass("csf-saving");c.prop("disabled",!1).attr("value",k);e=!1;n.vars.form_modified=!1;n.vars.$form_warning.hide();
clearTimeout(a);var q=b(".csf-form-success");q.empty().append(m.notice).fadeIn("fast",function(){a=setTimeout(function(){q.fadeOut("fast")},1E3)})}).fail(function(m){alert('保存主题数据失败，可能是您的服务器开启了防火墙，请求被拦截，若未开启防火墙，可前往插件页面将BsCore插件卸载然后重新启用后重试')})):n.vars.form_modified=!1}e=!0})})};b.fn.csf_options=function(){return this.each(function(){var a=b(this),d=a.find(".csf-content"),c=a.find(".csf-form-success"),g=a.find(".csf-form-warning"),e=a.find(".csf-header .csf-save");(n.vars.$form_warning=g).length&&(l.onbeforeunload=function(){return!!n.vars.form_modified||r},
d.on("change keypress",":input",function(){n.vars.form_modified||(c.hide(),g.fadeIn("fast"),n.vars.form_modified=!0)}));c.hasClass("csf-form-show")&&setTimeout(function(){c.fadeOut("fast")},1E3);b(p).keydown(function(f){if((f.ctrlKey||f.metaKey)&&83===f.which)return e.trigger("click"),f.preventDefault(),!1})})};b.fn.csf_taxonomy=function(){return this.each(function(){var a=b(this),d=a.parents("form");if("addtag"===d.attr("id")){var c=d.find("#submit"),g=a.find(".csf-field").csf_clone();c.on("click",
function(){d.find(".form-required").hasClass("form-invalid")||(a.data("inited",!1),a.empty(),a.html(g),g=g.csf_clone(),a.csf_reload_script())})}})};b.fn.csf_shortcode=function(){var a=this;return a.shortcode_parse=function(d,c){var g="";return b.each(d,function(e,f){g+="["+(c=c||e);b.each(f,function(h,k){"content"===h?(g+="]",g+=k,g+="[/"+c):g+=a.shortcode_tags(h,k)});g+="]"}),g},a.shortcode_tags=function(d,c){var g="";return""!==c&&("object"!=typeof c||b.isArray(c)?g+=" "+d+'="'+c.toString()+'"':
b.each(c,function(e,f){switch(e){case "background-image":f=f.url?f.url:""}""!==f&&(g+=" "+e+'="'+f.toString()+'"')})),g},a.insertAtChars=function(d,c){d=void 0!==d[0].name?d[0]:d;return d.value.length&&void 0!==d.selectionStart?(d.focus(),d.value.substring(0,d.selectionStart)+c+d.value.substring(d.selectionEnd,d.value.length)):(d.focus(),c)},a.send_to_editor=function(d,c){var g;("undefined"!=typeof tinymce&&(g=tinymce.get(c)),g&&!g.isHidden())?g.execCommand("mceInsertContent",!1,d):(c=b("#"+c),c.val(a.insertAtChars(c,
d)).trigger("change"))},this.each(function(){var d,c,g,e,f,h,k,m,q,t=b(this),v=t.find(".csf-modal-load"),x=(t.find(".csf-modal-content"),t.find(".csf-modal-insert")),u=t.find(".csf-modal-loading"),z=t.find("select"),C=t.data("modal-id"),H=t.data("nonce");b(p).on("click",'.csf-shortcode-button[data-modal-id="'+C+'"]',function(y){y.preventDefault();q=b(this);d=q.data("editor-id")||!1;c=q.data("target-id")||!1;g=q.data("gutenberg-id")||!1;t.removeClass("hidden");t.hasClass("csf-shortcode-single")&&f===
r&&z.trigger("change")});z.on("change",function(){var y=b(this),A=y.find(":selected");e=y.val();f=A.data("shortcode");h=A.data("view")||"normal";k=A.data("group")||f;v.empty();e?(u.show(),l.wp.ajax.post("csf-get-shortcode-"+C,{shortcode_key:e,nonce:H}).done(function(D){u.hide();D=b(D.content).appendTo(v);x.parent().removeClass("hidden");m=D.find(".csf--repeat-shortcode").csf_clone();D.csf_reload_script();D.find(".csf-fields").csf_reload_script()})):x.parent().addClass("hidden")});x.on("click",function(y){if(y.preventDefault(),
!x.prop("disabled")&&!x.attr("disabled")){var A="";y=t.find(".csf-field:not(.csf-depend-on)").find(":input:not(.ignore)").serializeObjectCSF();switch(h){case "contents":b.each(f?y[f]:y,function(D,I){D=f||D;A+="["+D+"]"+I+"[/"+D+"]"});break;case "group":A+="["+f;b.each(y[f],function(D,I){A+=a.shortcode_tags(D,I)});A+="]";A+=a.shortcode_parse(y[k],k);A+="[/"+f+"]";break;case "repeater":A+=a.shortcode_parse(y[k],k);break;default:A+=a.shortcode_parse(y)}(A=""===A?"["+f+"]":A,g)?(y=l.csf_gutenberg_props.attributes.hasOwnProperty("shortcode")?
l.csf_gutenberg_props.attributes.shortcode:"",l.csf_gutenberg_props.setAttributes({shortcode:y+A})):d?a.send_to_editor(A,d):(y=c?b(c):q.parent().find("textarea"),y.val(a.insertAtChars(y,A)).trigger("change"));t.addClass("hidden")}});t.on("click",".csf--repeat-button",function(y){y.preventDefault();y=t.find(".csf--repeatable");var A=m.csf_clone(),D=A.find(".csf-repeat-remove");A.appendTo(y);A.find(".csf-fields").csf_reload_script();n.helper.name_nested_replace(t.find(".csf--repeat-shortcode"),k);D.on("click",
function(){A.remove();n.helper.name_nested_replace(t.find(".csf--repeat-shortcode"),k)})});t.on("click",".csf-modal-close, .csf-modal-overlay",function(){t.addClass("hidden")})})};"function"==typeof Color&&(Color.prototype.toString=function(){if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var a=parseInt(this._color,10).toString(16);if(this.error)return"";if(6>a.length)for(var d=6-a.length-1;0<=d;d--)a="0"+a;return"#"+a});n.funcs.parse_color=function(a){a=a.replace(/\s+/g,
"");var d=-1!==a.indexOf("rgba")?parseFloat(100*a.replace(/^.*,(.+)\)/,"$1")):100;return{value:a,transparent:d,rgba:100>d}};b.fn.csf_color=function(){return this.each(function(){var a,d=b(this),c=n.funcs.parse_color(d.val()),g=!l.csf_vars.color_palette.length||l.csf_vars.color_palette;d.hasClass("wp-color-picker")&&d.closest(".wp-picker-container").after(d).remove();d.wpColorPicker({palettes:g,change:function(e,f){e=f.color.toString();a.removeClass("csf--transparent-active");a.find(".csf--transparent-offset").css("background-color",
e);d.val(e).trigger("change")},create:function(){a=d.closest(".wp-picker-container");var e=d.data("a8cIris"),f=b('<div class="csf--transparent-wrap"><div class="csf--transparent-slider"></div><div class="csf--transparent-offset"></div><div class="csf--transparent-text"></div><div class="csf--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(a.find(".wp-picker-holder")),h=f.find(".csf--transparent-slider"),k=f.find(".csf--transparent-text"),m=f.find(".csf--transparent-offset");
f=f.find(".csf--transparent-button");"transparent"===d.val()&&a.addClass("csf--transparent-active");f.on("click",function(){"transparent"!==d.val()?(d.val("transparent").trigger("change").removeClass("iris-error"),a.addClass("csf--transparent-active")):(d.val(e._color.toString()).trigger("change"),a.removeClass("csf--transparent-active"))});h.slider({value:c.transparent,step:1,min:0,max:100,slide:function(q,t){q=parseFloat(t.value/100);e._color._alpha=q;d.wpColorPicker("color",e._color.toString());
k.text(1===q||0===q?"":q)},create:function(){var q=parseFloat(c.transparent/100);k.text(1>q?q:"");m.css("background-color",c.value);a.on("click",".wp-picker-clear",function(){e._color._alpha=1;k.text("");h.slider("option","value",100);a.removeClass("csf--transparent-active");d.trigger("change")});a.on("click",".wp-picker-default",function(){var t=n.funcs.parse_color(d.data("default-color")),v=parseFloat(t.transparent/100);e._color._alpha=v;k.text(1>v?v:"");h.slider("option","value",t.transparent);
"transparent"===t.value&&(d.removeClass("iris-error"),a.addClass("csf--transparent-active"))})}})}})})};b.fn.csf_chosen=function(){return this.each(function(){var a=b(this),d=a.parent().find(".chosen-container"),c=a.hasClass("csf-chosen-sortable")||!1,g=a.hasClass("csf-chosen-ajax")||!1,e=a.attr("multiple")||!1,f=b.extend({allow_single_deselect:!0,disable_search_threshold:10,width:e?"100%":"auto",no_results_text:l.csf_vars.i18n.no_results_text},a.data("chosen-settings"));(d.length&&d.remove(),g)?
(d=b.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:2,type_delay:500,typing_text:l.csf_vars.i18n.typing_text,searching_text:l.csf_vars.i18n.searching_text,no_results_text:l.csf_vars.i18n.no_results_text},a.data("chosen-settings")),a.CSFAjaxChosen(d)):a.chosen(f);if(e){var h=a.parent().find(".csf-hide-select");e=h.val()||[];a.on("change",function(m,q){q&&q.selected?h.append('<option value="'+q.selected+'" selected="selected">'+q.selected+
"</option>"):q&&q.deselected&&h.find('option[value="'+q.deselected+'"]').remove();l.wp.customize!==r&&0===h.children().length&&h.data("customize-setting-link")&&l.wp.customize.control(h.data("customize-setting-link")).setting.set("");h.trigger("change")});a.CSFChosenOrder(e,!0)}if(c){var k=a.parent().find(".chosen-container").find(".chosen-choices");k.bind("mousedown",function(m){b(m.target).is("span")&&m.stopPropagation()});k.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",
placeholder:"search-choice-placeholder",start:function(m,q){q.placeholder.width(q.item.innerWidth());q.placeholder.height(q.item.innerHeight())},update:function(m,q){var t="",v=a.data("chosen");m=a.parent().find(".csf-hide-select");k.find(".search-choice-close").each(function(){var x=b(this).data("option-array-index");b.each(v.results_data,function(u,z){z.array_index===x&&(t+='<option value="'+z.value+'" selected>'+z.value+"</option>")})});m.children().remove();m.append(t);m.trigger("change")}})}})};
b.fn.csf_checkbox=function(){return this.each(function(){var a=b(this),d=a.find(".csf--input"),c=a.find(".csf--checkbox");c.on("click",function(){d.val(Number(c.prop("checked"))).trigger("change")})})};b.fn.csf_siblings=function(){return this.each(function(){var a=b(this),d=a.find(".csf--sibling"),c=a.data("multiple")||!1;d.on("click",function(){var g=b(this);c?g.hasClass("csf--active")?(g.removeClass("csf--active"),g.find("input").prop("checked",!1).trigger("change")):(g.addClass("csf--active"),
g.find("input").prop("checked",!0).trigger("change")):(a.find("input").prop("checked",!1),g.find("input").prop("checked",!0).trigger("change"),g.addClass("csf--active").siblings().removeClass("csf--active"))})})};b.fn.csf_help=function(){return this.each(function(){var a,d,c=b(this);c.on({mouseenter:function(){a=b('<div class="csf-tooltip"></div>').html(c.find(".csf-help-text").html()).appendTo("body");d=n.vars.is_rtl?c.offset().left+24:c.offset().left-a.outerWidth();a.css({top:c.offset().top-(a.outerHeight()/
2-14),left:d})},mouseleave:function(){a!==r&&a.remove()}})})};b.fn.csf_customizer_refresh=function(){return this.each(function(){var a=b(this),d=a.closest(".csf-customize-complex");if(d.length){var c=d.data("unique-id");if(c===r)return;var g=d.find(":input");d=d.data("option-id");g=g.serializeObjectCSF();g=!b.isEmptyObject(g)&&g[c]&&g[c][d]?g[c][d]:"";c=l.wp.customize.control(c+"["+d+"]");c.setting._value=null;c.setting.set(g)}else a.find(":input").first().trigger("change");b(p).trigger("csf-customizer-refresh",
a)})};b.fn.csf_customizer_listen=function(a){var d=b.extend({closest:!1},a);return this.each(function(){if(l.wp.customize!==r){var c=d.closest?b(this).closest(".csf-customize-complex"):b(this),g=c.find(":input"),e=c.data("unique-id"),f=c.data("option-id");e!==r&&g.on("change keyup csf.change",function(){var h=c.find(":input").serializeObjectCSF();h=!b.isEmptyObject(h)&&h[e]&&h[e][f]?h[e][f]:"";l.wp.customize.control(e+"["+f+"]").setting.set(h)})}})};b(p).on("expanded",".control-section",function(){var a=
b(this);if(a.hasClass("open")&&!a.data("inited")){var d=a.find(".csf-customize-field"),c=a.find(".csf-customize-complex");d.length&&(a.csf_dependency(),d.csf_reload_script({dependency:!1}),c.csf_customizer_listen());a.data("inited",!0)}});n.vars.$window.on("resize csf.resize",n.helper.debounce(function(a){782>=(-1<navigator.userAgent.indexOf("AppleWebKit/")?n.vars.$window.width():l.innerWidth)&&!n.vars.onloaded&&(b(".csf-section").csf_reload_script(),n.vars.onloaded=!0)},200)).trigger("csf.resize");
b.fn.csf_widgets=function(){return this.each(function(){b(p).on("widget-added widget-updated",function(a,d){a=d.find(".csf-fields");a.length&&a.csf_reload_script()});b(p).on("click",".widget-top",function(a){a=b(this).parent().find(".csf-fields");a.length&&a.csf_reload_script()});b(".widgets-sortables, .control-section-sidebar").on("sortstop",function(a,d){d.item.find(".csf-fields").csf_reload_script_retry()})})};b.fn.csf_nav_menu=function(){return this.each(function(){var a=b(this);a.on("click",
"a.item-edit",function(){b(this).closest("li.menu-item").find(".csf-fields").csf_reload_script()});a.on("sortstop",function(d,c){c.item.find(".csf-fields").csf_reload_script_retry()})})};b.fn.csf_reload_script_retry=function(){return this.each(function(){var a=b(this);a.data("inited")&&a.children(".csf-field-wp_editor").csf_field_wp_editor()})};b.fn.csf_reload_script=function(a){var d=b.extend({dependency:!0},a);return this.each(function(){var c=b(this);c.data("inited")||(c.children(".csf-field-accordion").csf_field_accordion(),
c.children(".csf-field-backup").csf_field_backup(),c.children(".csf-field-background").csf_field_background(),c.children(".csf-field-code_editor").csf_field_code_editor(),c.children(".csf-field-date").csf_field_date(),c.children(".csf-field-datetime").csf_field_datetime(),c.children(".csf-field-fieldset").csf_field_fieldset(),c.children(".csf-field-gallery").csf_field_gallery(),c.children(".csf-field-group").csf_field_group(),c.children(".csf-field-icon").csf_field_icon(),c.children(".csf-field-link").csf_field_link(),
c.children(".csf-field-media").csf_field_media(),c.children(".csf-field-map").csf_field_map(),c.children(".csf-field-repeater").csf_field_repeater(),c.children(".csf-field-slider").csf_field_slider(),c.children(".csf-field-sortable").csf_field_sortable(),c.children(".csf-field-sorter").csf_field_sorter(),c.children(".csf-field-spinner").csf_field_spinner(),c.children(".csf-field-switcher").csf_field_switcher(),c.children(".csf-field-tabbed").csf_field_tabbed(),c.children(".csf-field-typography").csf_field_typography(),
c.children(".csf-field-upload").csf_field_media(),c.children(".csf-field-wp_editor").csf_field_wp_editor(),c.children(".csf-field-border").find(".csf-color").csf_color(),c.children(".csf-field-background").find(".csf-color").csf_color(),c.children(".csf-field-color").find(".csf-color").csf_color(),c.children(".csf-field-color_group").find(".csf-color").csf_color(),c.children(".csf-field-link_color").find(".csf-color").csf_color(),c.children(".csf-field-typography").find(".csf-color").csf_color(),
c.children(".csf-field-select").find(".csf-chosen").csf_chosen(),c.children(".csf-field-checkbox").find(".csf-checkbox").csf_checkbox(),c.children(".csf-field-button_set").find(".csf-siblings").csf_siblings(),c.children(".csf-field-image_select").find(".csf-siblings").csf_siblings(),c.children(".csf-field-palette").find(".csf-siblings").csf_siblings(),c.children(".csf-field").find(".csf-help").csf_help(),d.dependency&&c.csf_dependency(),c.data("inited",!0),b(p).trigger("csf-reload-script",c))})};
b(p).ready(function(){b(".csf-save").csf_save();b(".csf-options").csf_options();b(".csf-sticky-header").csf_sticky();b(".csf-nav-options").csf_nav_options();b(".csf-nav-metabox").csf_nav_metabox();b(".csf-taxonomy").csf_taxonomy();b(".csf-page-templates").csf_page_templates();b(".csf-post-formats").csf_post_formats();b(".csf-shortcode").csf_shortcode();b(".csf-search").csf_search();b(".csf-confirm").csf_confirm();b(".csf-expand-all").csf_expand_all();b(".csf-onload").csf_reload_script();b("#widgets-editor").csf_widgets();
b("#widgets-right").csf_widgets();b("#menu-to-edit").csf_nav_menu()})}(jQuery,window,document);
new function(b){var l=b.separator||"&",p=!1===b.spaces?!1:!0,r=!1!==b.prefix?!0===b.hash?"#":"?":"",n=!1===b.numbers?!1:!0;jQuery.query=new function(){var a=function(e,f){return void 0!=e&&null!==e&&(f?e.constructor==f:!0)},d=function(e){for(var f=/\[([^[]*)\]/g,h=/^([^[]+)(\[.*\])?$/.exec(e),k=h[1],m=[];e=f.exec(h[2]);)m.push(e[1]);return[k,m]},c=function(e,f,h){var k=f.shift();"object"!=typeof e&&(e=null);if(""===k)if(e||(e=[]),a(e,Array))e.push(0==f.length?h:c(null,f.slice(0),h));else if(a(e,Object)){for(k=
0;null!=e[k++];);e[--k]=0==f.length?h:c(e[k],f.slice(0),h)}else e=[],e.push(0==f.length?h:c(null,f.slice(0),h));else if(k&&k.match(/^\s*[0-9]+\s*$/)){var m=parseInt(k,10);e||(e=[]);e[m]=0==f.length?h:c(e[m],f.slice(0),h)}else if(k){m=k.replace(/^\s*|\s*$/g,"");e||(e={});if(a(e,Array)){var q={};for(k=0;k<e.length;++k)q[k]=e[k];e=q}e[m]=0==f.length?h:c(e[m],f.slice(0),h)}else return h;return e},g=function(e){var f=this;f.keys={};e.queryObject?jQuery.each(e.get(),function(h,k){f.SET(h,k)}):f.parseNew.apply(f,
arguments);return f};g.prototype={queryObject:!0,parseNew:function(){var e=this;e.keys={};jQuery.each(arguments,function(){var f=(""+this).replace(/^[?#]/,"");f=f.replace(/[;&]$/,"");p&&(f=f.replace(/[+]/g," "));jQuery.each(f.split(/[&;]/),function(){var h=decodeURIComponent(this.split("=")[0]||""),k=decodeURIComponent(this.split("=")[1]||"");h&&(n&&(/^[+-]?[0-9]+\.[0-9]*$/.test(k)?k=parseFloat(k):/^[+-]?[1-9][0-9]*$/.test(k)&&(k=parseInt(k,10))),e.SET(h,k||0===k?k:!0))})});return e},has:function(e,
f){e=this.get(e);return a(e,f)},GET:function(e){if(!a(e))return this.keys;var f=d(e);e=f[1];for(f=this.keys[f[0]];null!=f&&0!=e.length;)f=f[e.shift()];return"number"==typeof f?f:f||""},get:function(e){e=this.GET(e);return a(e,Object)?jQuery.extend(!0,{},e):a(e,Array)?e.slice(0):e},SET:function(e,f){if(!e.includes("__proto__")){f=a(f)?f:null;e=d(e);var h=e[0];this.keys[h]=c(this.keys[h],e[1].slice(0),f)}return this},set:function(e,f){return this.copy().SET(e,f)},REMOVE:function(e,f){if(f){var h=this.GET(e);
if(a(h,Array)){for(tval in h)h[tval]=h[tval].toString();f=$.inArray(f,h);if(0<=f)e=h.splice(f,1),e=e[f];else return}else if(f!=h)return}return this.SET(e,null).COMPACT()},remove:function(e,f){return this.copy().REMOVE(e,f)},EMPTY:function(){var e=this;jQuery.each(e.keys,function(f,h){delete e.keys[f]});return e},load:function(e){var f=e.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),h=e.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new g(e.length==h.length?"":h,e.length==f.length?"":f)},empty:function(){return this.copy().EMPTY()},
copy:function(){return new g(this)},COMPACT:function(){function e(f){var h="object"==typeof f?a(f,Array)?[]:{}:f;"object"==typeof f&&jQuery.each(f,function(k,m){if(!a(m))return!0;m=e(m);a(h,Array)?h.push(m):h[k]=m});return h}this.keys=e(this.keys);return this},compact:function(){return this.copy().COMPACT()},toString:function(){var e=[],f=[],h=function(m){m=encodeURIComponent(m+"");p&&(m=m.replace(/%20/g,"+"));return m},k=function(m,q){var t=function(v){return q&&""!=q?[q,"[",v,"]"].join(""):[v].join("")};
jQuery.each(m,function(v,x){"object"==typeof x?k(x,t(v)):(v=t(v),a(x)&&!1!==x&&(v=[h(v)],!0!==x&&(v.push("="),v.push(h(x))),f.push(v.join(""))))})};k(this.keys);0<f.length&&e.push(r);e.push(f.join(l));return e.join("")}};return new g(location.search,location.hash)}}(jQuery.query||{});
