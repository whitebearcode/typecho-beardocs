/*
 2014, macek <paulmacek@gmail.com>
 @link https://github.com/macek/jquery-serialize-object
 @license BSD
 @version 2.5.0

 Customized by Codestar

 *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
(function(y,E){"object"===typeof exports&&"undefined"!==typeof module?module.exports=E():"function"===typeof define&&define.amd?define(E):(y="undefined"!==typeof globalThis?globalThis:y||self,y.flatpickr=E())})(this,function(){function y(){for(var f=0,l=0,q=arguments.length;l<q;l++)f+=arguments[l].length;f=Array(f);var H=0;for(l=0;l<q;l++)for(var B=arguments[l],C=0,T=B.length;C<T;C++,H++)f[H]=B[C];return f}function E(f,l){var q;return function(){var H=this;clearTimeout(q);q=setTimeout(function(){return f.apply(H,
arguments)},l)}}function w(f,l,q){if(!0===q)return f.classList.add(l);f.classList.remove(l)}function n(f,l,q){f=window.document.createElement(f);q=q||"";f.className=l||"";void 0!==q&&(f.textContent=q);return f}function A(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function r(f,l){if(l(f))return f;if(f.parentNode)return r(f.parentNode,l)}function x(f,l){var q=n("div","numInputWrapper");f=n("input","numInput "+f);var H=n("span","arrowUp"),B=n("span","arrowDown");-1===navigator.userAgent.indexOf("MSIE 9.0")?
f.type="number":(f.type="text",f.pattern="\\d*");if(void 0!==l)for(var C in l)f.setAttribute(C,l[C]);q.appendChild(f);q.appendChild(H);q.appendChild(B);return q}function h(f){try{return"function"===typeof f.composedPath?f.composedPath()[0]:f.target}catch(l){return f.target}}function e(f,l,q){void 0===q&&(q=!0);return!1!==q?(new Date(f.getTime())).setHours(0,0,0,0)-(new Date(l.getTime())).setHours(0,0,0,0):f.getTime()-l.getTime()}function d(f){var l=f.defaultHour,q=f.defaultMinute,H=f.defaultSeconds;
if(void 0!==f.minDate){var B=f.minDate.getHours(),C=f.minDate.getMinutes(),T=f.minDate.getSeconds();l<B&&(l=B);l===B&&q<C&&(q=C);l===B&&q===C&&H<T&&(H=f.minDate.getSeconds())}void 0!==f.maxDate&&(B=f.maxDate.getHours(),C=f.maxDate.getMinutes(),l=Math.min(l,B),l===B&&(q=Math.min(C,q)),l===B&&q===C&&(H=f.maxDate.getSeconds()));return{hours:l,minutes:q,seconds:H}}function k(f,l){function q(){a.utils={getDaysInMonth:function(b,c){void 0===b&&(b=a.currentMonth);void 0===c&&(c=a.currentYear);return 1===
b&&(0===c%4&&0!==c%100||0===c%400)?29:a.l10n.daysInMonth[b]}}}function H(b){return b.bind(a)}function B(){var b=a.config;!1===b.weekNumbers&&1===b.showMonths||!0===b.noCalendar||window.requestAnimationFrame(function(){void 0!==a.calendarContainer&&(a.calendarContainer.style.visibility="hidden",a.calendarContainer.style.display="block");if(void 0!==a.daysContainer){var c=(a.days.offsetWidth+1)*b.showMonths;a.daysContainer.style.width=c+"px";a.calendarContainer.style.width=c+(void 0!==a.weekWrapper?
a.weekWrapper.offsetWidth:0)+"px";a.calendarContainer.style.removeProperty("visibility");a.calendarContainer.style.removeProperty("display")}})}function C(b){if(0===a.selectedDates.length){var c=void 0===a.config.minDate||0<=e(new Date,a.config.minDate)?new Date:new Date(a.config.minDate.getTime()),g=d(a.config);c.setHours(g.hours,g.minutes,g.seconds,c.getMilliseconds());a.selectedDates=[c];a.latestSelectedDateObj=c}if(void 0!==b&&"blur"!==b.type){b.preventDefault();var m="keydown"===b.type;c=h(b);
void 0!==a.amPM&&c===a.amPM&&(a.amPM.textContent=a.l10n.amPM[N(a.amPM.textContent===a.l10n.amPM[0])]);g=parseFloat(c.getAttribute("min"));var p=parseFloat(c.getAttribute("max")),t=parseFloat(c.getAttribute("step")),z=parseInt(c.value,10);b=z+t*(b.delta||(m?38===b.which?1:-1:0));if("undefined"!==typeof c.value&&2===c.value.length){m=c===a.hourElement;var J=c===a.minuteElement;b<g?(b=p+b+N(!m)+(N(m)&&N(!a.amPM)),J&&Z(void 0,-1,a.hourElement)):b>p&&(b=c===a.hourElement?b-p-N(!a.amPM):g,J&&Z(void 0,1,
a.hourElement));a.amPM&&m&&(1===t?23===b+z:Math.abs(b-z)>t)&&(a.amPM.textContent=a.l10n.amPM[N(a.amPM.textContent===a.l10n.amPM[0])]);c.value=K(b)}}c=a._input.value;T();aa();a._input.value!==c&&a._debouncedChange()}function T(){if(void 0!==a.hourElement&&void 0!==a.minuteElement){var b=(parseInt(a.hourElement.value.slice(-2),10)||0)%24,c=(parseInt(a.minuteElement.value,10)||0)%60,g=void 0!==a.secondElement?(parseInt(a.secondElement.value,10)||0)%60:0;void 0!==a.amPM&&(b=b%12+12*N(a.amPM.textContent===
a.l10n.amPM[1]));var m=void 0!==a.config.minTime||a.config.minDate&&a.minDateHasTime&&a.latestSelectedDateObj&&0===e(a.latestSelectedDateObj,a.config.minDate,!0);if(void 0!==a.config.maxTime||a.config.maxDate&&a.maxDateHasTime&&a.latestSelectedDateObj&&0===e(a.latestSelectedDateObj,a.config.maxDate,!0)){var p=void 0!==a.config.maxTime?a.config.maxTime:a.config.maxDate;b=Math.min(b,p.getHours());b===p.getHours()&&(c=Math.min(c,p.getMinutes()));c===p.getMinutes()&&(g=Math.min(g,p.getSeconds()))}m&&
(m=void 0!==a.config.minTime?a.config.minTime:a.config.minDate,b=Math.max(b,m.getHours()),b===m.getHours()&&c<m.getMinutes()&&(c=m.getMinutes()),c===m.getMinutes()&&(g=Math.max(g,m.getSeconds())));ba(b,c,g)}}function R(b){(b=b||a.latestSelectedDateObj)&&ba(b.getHours(),b.getMinutes(),b.getSeconds())}function ba(b,c,g){void 0!==a.latestSelectedDateObj&&a.latestSelectedDateObj.setHours(b%24,c,g||0,0);a.hourElement&&a.minuteElement&&!a.isMobile&&(a.hourElement.value=K(a.config.time_24hr?b:(12+b)%12+
12*N(0===b%12)),a.minuteElement.value=K(c),void 0!==a.amPM&&(a.amPM.textContent=a.l10n.amPM[N(12<=b)]),void 0!==a.secondElement&&(a.secondElement.value=K(g)))}function O(b){var c=h(b);c=parseInt(c.value)+(b.delta||0);(1<c/1E3||"Enter"===b.key&&!/[^\d]/.test(c.toString()))&&pa(c)}function G(b,c,g,m){if(c instanceof Array)return c.forEach(function(p){return G(b,p,g,m)});if(b instanceof Array)return b.forEach(function(p){return G(p,c,g,m)});b.addEventListener(c,g,m);a._handlers.push({remove:function(){return b.removeEventListener(c,
g)}})}function W(){M("onChange")}function va(){a.config.wrap&&["open","close","toggle","clear"].forEach(function(c){Array.prototype.forEach.call(a.element.querySelectorAll("[data-"+c+"]"),function(g){return G(g,"click",a[c])})});if(a.isMobile)Sa();else{var b=E(Ta,50);a._debouncedChange=E(W,300);a.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&G(a.daysContainer,"mouseover",function(c){"range"===a.config.mode&&wa(h(c))});G(window.document.body,"keydown",Ua);a.config.inline||a.config.static||
G(window,"resize",b);void 0!==window.ontouchstart?G(window.document,"touchstart",xa):G(window.document,"mousedown",xa);G(window.document,"focus",xa,{capture:!0});!0===a.config.clickOpens&&(G(a._input,"focus",a.open),G(a._input,"click",a.open));void 0!==a.daysContainer&&(G(a.monthNav,"click",Va),G(a.monthNav,["keyup","increment"],O),G(a.daysContainer,"click",Ga));void 0!==a.timeContainer&&void 0!==a.minuteElement&&void 0!==a.hourElement&&(G(a.timeContainer,["increment"],C),G(a.timeContainer,"blur",
C,{capture:!0}),G(a.timeContainer,"click",ea),G([a.hourElement,a.minuteElement],["focus","click"],function(c){return h(c).select()}),void 0!==a.secondElement&&G(a.secondElement,"focus",function(){return a.secondElement&&a.secondElement.select()}),void 0!==a.amPM&&G(a.amPM,"click",function(c){C(c);W()}));a.config.allowInput&&G(a._input,"blur",Wa)}}function ca(b,c){b=void 0!==b?a.parseDate(b):a.latestSelectedDateObj||(a.config.minDate&&a.config.minDate>a.now?a.config.minDate:a.config.maxDate&&a.config.maxDate<
a.now?a.config.maxDate:a.now);var g=a.currentYear,m=a.currentMonth;try{void 0!==b&&(a.currentYear=b.getFullYear(),a.currentMonth=b.getMonth())}catch(p){p.message="Invalid date supplied: "+b,a.config.errorHandler(p)}c&&a.currentYear!==g&&(M("onYearChange"),ia());!c||a.currentYear===g&&a.currentMonth===m||M("onMonthChange");a.redraw()}function ea(b){var c=h(b);~c.className.indexOf("arrow")&&Z(b,c.classList.contains("arrowUp")?1:-1)}function Z(b,c,g){b=b&&h(b);g=g||b&&b.parentNode&&b.parentNode.firstChild;
b=ya("increment");b.delta=c;g&&g.dispatchEvent(b)}function ma(b,c,g,m){var p=fa(c,!0),t=n("span","flatpickr-day "+b,c.getDate().toString());t.dateObj=c;t.$i=m;t.setAttribute("aria-label",a.formatDate(c,a.config.ariaDateFormat));-1===b.indexOf("hidden")&&0===e(c,a.now)&&(a.todayDateElem=t,t.classList.add("today"),t.setAttribute("aria-current","date"));p?(t.tabIndex=-1,za(c)&&(t.classList.add("selected"),a.selectedDateElem=t,"range"===a.config.mode&&(w(t,"startRange",a.selectedDates[0]&&0===e(c,a.selectedDates[0],
!0)),w(t,"endRange",a.selectedDates[1]&&0===e(c,a.selectedDates[1],!0)),"nextMonthDay"===b&&t.classList.add("inRange")))):t.classList.add("flatpickr-disabled");"range"===a.config.mode&&(m="range"!==a.config.mode||2>a.selectedDates.length?!1:0<=e(c,a.selectedDates[0])&&0>=e(c,a.selectedDates[1]),m&&!za(c)&&t.classList.add("inRange"));a.weekNumbers&&1===a.config.showMonths&&"prevMonthDay"!==b&&1===g%7&&a.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+a.config.getWeek(c)+"</span>");
M("onDayCreate",t);return t}function ja(b){b.focus();"range"===a.config.mode&&wa(b)}function ka(b){for(var c=0<b?a.config.showMonths:-1,g=0<b?0:a.config.showMonths-1;g!=c;g+=b)for(var m=a.daysContainer.children[g],p=0<b?m.children.length:-1,t=0<b?0:m.children.length-1;t!=p;t+=b){var z=m.children[t];if(-1===z.className.indexOf("hidden")&&fa(z.dateObj))return z}}function na(b,c){var g=qa(document.activeElement||document.body);b=void 0!==b?b:g?document.activeElement:void 0!==a.selectedDateElem&&qa(a.selectedDateElem)?
a.selectedDateElem:void 0!==a.todayDateElem&&qa(a.todayDateElem)?a.todayDateElem:ka(0<c?1:-1);if(void 0===b)a._input.focus();else if(g)a:{g=-1===b.className.indexOf("Month")?b.dateObj.getMonth():a.currentMonth;for(var m=0<c?a.config.showMonths:-1,p=0<c?1:-1,t=g-a.currentMonth;t!=m;t+=p)for(var z=a.daysContainer.children[t],J=z.children.length,F=g-a.currentMonth===t?b.$i+c:0>c?z.children.length-1:0;0<=F&&F<J&&F!=(0<c?J:-1);F+=p){var X=z.children[F];if(-1===X.className.indexOf("hidden")&&fa(X.dateObj)&&
Math.abs(b.$i-F)>=Math.abs(c)){ja(X);break a}}a.changeMonth(p);na(ka(p),0)}else ja(b)}function ra(){if(void 0!==a.daysContainer){A(a.daysContainer);a.weekNumbers&&A(a.weekNumbers);for(var b=document.createDocumentFragment(),c=0;c<a.config.showMonths;c++){var g=new Date(a.currentYear,a.currentMonth,1);g.setMonth(a.currentMonth+c);var m=b,p=m.appendChild,t=g.getFullYear(),z=g.getMonth(),J=((new Date(t,z,1)).getDay()-a.l10n.firstDayOfWeek+7)%7,F=a.utils.getDaysInMonth((z-1+12)%12,t),X=a.utils.getDaysInMonth(z,
t);g=window.document.createDocumentFragment();var ha=1<a.config.showMonths,U=ha?"prevMonthDay hidden":"prevMonthDay";ha=ha?"nextMonthDay hidden":"nextMonthDay";for(var V=F+1-J,S=0;V<=F;V++,S++)g.appendChild(ma(U,new Date(t,z-1,V),V,S));for(V=1;V<=X;V++,S++)g.appendChild(ma("",new Date(t,z,V),V,S));for(F=X+1;F<=42-J&&(1===a.config.showMonths||0!==S%7);F++,S++)g.appendChild(ma(ha,new Date(t,z+1,F%X),F,S));t=n("div","dayContainer");t.appendChild(g);p.call(m,t)}a.daysContainer.appendChild(b);a.days=a.daysContainer.firstChild;
"range"===a.config.mode&&1===a.selectedDates.length&&wa()}}function ia(){if(!(1<a.config.showMonths||"dropdown"!==a.config.monthSelectorType)){a.monthsDropdownContainer.tabIndex=-1;a.monthsDropdownContainer.innerHTML="";for(var b=0;12>b;b++){var c=b;c=void 0!==a.config.minDate&&a.currentYear===a.config.minDate.getFullYear()&&c<a.config.minDate.getMonth()?!1:!(void 0!==a.config.maxDate&&a.currentYear===a.config.maxDate.getFullYear()&&c>a.config.maxDate.getMonth());c&&(c=n("option","flatpickr-monthDropdown-month"),
c.value=(new Date(a.currentYear,b)).getMonth().toString(),c.textContent=da(b,a.config.shorthandCurrentMonth,a.l10n),c.tabIndex=-1,a.currentMonth===b&&(c.selected=!0),a.monthsDropdownContainer.appendChild(c))}}}function Xa(){var b=n("div","flatpickr-month"),c=window.document.createDocumentFragment();if(1<a.config.showMonths||"static"===a.config.monthSelectorType)var g=n("span","cur-month");else a.monthsDropdownContainer=n("select","flatpickr-monthDropdown-months"),a.monthsDropdownContainer.setAttribute("aria-label",
a.l10n.monthAriaLabel),G(a.monthsDropdownContainer,"change",function(z){z=h(z);z=parseInt(z.value,10);a.changeMonth(z-a.currentMonth);M("onMonthChange")}),ia(),g=a.monthsDropdownContainer;var m=x("cur-year",{tabindex:"-1"}),p=m.getElementsByTagName("input")[0];p.setAttribute("aria-label",a.l10n.yearAriaLabel);a.config.minDate&&p.setAttribute("min",a.config.minDate.getFullYear().toString());a.config.maxDate&&(p.setAttribute("max",a.config.maxDate.getFullYear().toString()),p.disabled=!!a.config.minDate&&
a.config.minDate.getFullYear()===a.config.maxDate.getFullYear());var t=n("div","flatpickr-current-month");t.appendChild(g);t.appendChild(m);c.appendChild(t);b.appendChild(c);return{container:b,yearElement:p,monthElement:g}}function Ha(){A(a.monthNav);a.monthNav.appendChild(a.prevMonthNav);a.config.showMonths&&(a.yearElements=[],a.monthElements=[]);for(var b=a.config.showMonths;b--;){var c=Xa();a.yearElements.push(c.yearElement);a.monthElements.push(c.monthElement);a.monthNav.appendChild(c.container)}a.monthNav.appendChild(a.nextMonthNav)}
function Ya(){a.monthNav=n("div","flatpickr-months");a.yearElements=[];a.monthElements=[];a.prevMonthNav=n("span","flatpickr-prev-month");a.prevMonthNav.innerHTML=a.config.prevArrow;a.nextMonthNav=n("span","flatpickr-next-month");a.nextMonthNav.innerHTML=a.config.nextArrow;Ha();Object.defineProperty(a,"_hidePrevMonthArrow",{get:function(){return a.__hidePrevMonthArrow},set:function(b){a.__hidePrevMonthArrow!==b&&(w(a.prevMonthNav,"flatpickr-disabled",b),a.__hidePrevMonthArrow=b)}});Object.defineProperty(a,
"_hideNextMonthArrow",{get:function(){return a.__hideNextMonthArrow},set:function(b){a.__hideNextMonthArrow!==b&&(w(a.nextMonthNav,"flatpickr-disabled",b),a.__hideNextMonthArrow=b)}});a.currentYearElement=a.yearElements[0];sa();return a.monthNav}function Ia(){a.weekdayContainer?A(a.weekdayContainer):a.weekdayContainer=n("div","flatpickr-weekdays");for(var b=a.config.showMonths;b--;){var c=n("div","flatpickr-weekdaycontainer");a.weekdayContainer.appendChild(c)}Ja();return a.weekdayContainer}function Ja(){if(a.weekdayContainer){var b=
a.l10n.firstDayOfWeek,c=y(a.l10n.weekdays.shorthand);0<b&&b<c.length&&(c=y(c.splice(b,c.length),c.splice(0,b)));for(b=a.config.showMonths;b--;)a.weekdayContainer.children[b].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+c.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Aa(b,c){void 0===c&&(c=!0);b=c?b:b-a.currentMonth;if(!(0>b&&!0===a._hidePrevMonthArrow||0<b&&!0===a._hideNextMonthArrow)){a.currentMonth+=b;if(0>a.currentMonth||11<a.currentMonth)a.currentYear+=
11<a.currentMonth?1:-1,a.currentMonth=(a.currentMonth+12)%12,M("onYearChange"),ia();ra();M("onMonthChange");sa()}}function la(b){return a.config.appendTo&&a.config.appendTo.contains(b)?!0:a.calendarContainer.contains(b)}function xa(b){if(a.isOpen&&!a.config.inline){var c=h(b),g=la(c),m=c===a.input||c===a.altInput||a.element.contains(c)||b.path&&b.path.indexOf&&(~b.path.indexOf(a.input)||~b.path.indexOf(a.altInput));b="blur"===b.type?m&&b.relatedTarget&&!la(b.relatedTarget):!m&&!g&&!la(b.relatedTarget);
g=!a.config.ignoredFocusElements.some(function(p){return p.contains(c)});b&&g&&(void 0!==a.timeContainer&&void 0!==a.minuteElement&&void 0!==a.hourElement&&""!==a.input.value&&void 0!==a.input.value&&C(),a.close(),a.config&&"range"===a.config.mode&&1===a.selectedDates.length&&(a.clear(!1),a.redraw()))}}function pa(b){if(!(!b||a.config.minDate&&b<a.config.minDate.getFullYear()||a.config.maxDate&&b>a.config.maxDate.getFullYear())){var c=a.currentYear!==b;a.currentYear=b||a.currentYear;a.config.maxDate&&
a.currentYear===a.config.maxDate.getFullYear()?a.currentMonth=Math.min(a.config.maxDate.getMonth(),a.currentMonth):a.config.minDate&&a.currentYear===a.config.minDate.getFullYear()&&(a.currentMonth=Math.max(a.config.minDate.getMonth(),a.currentMonth));c&&(a.redraw(),M("onYearChange"),ia())}}function fa(b,c){var g;void 0===c&&(c=!0);b=a.parseDate(b,void 0,c);if(a.config.minDate&&b&&0>e(b,a.config.minDate,void 0!==c?c:!a.minDateHasTime)||a.config.maxDate&&b&&0<e(b,a.config.maxDate,void 0!==c?c:!a.maxDateHasTime))return!1;
if(!a.config.enable&&0===a.config.disable.length)return!0;if(void 0===b)return!1;c=!!a.config.enable;var m=null!==(g=a.config.enable)&&void 0!==g?g:a.config.disable;g=0;for(var p;g<m.length;g++){p=m[g];if("function"===typeof p&&p(b)||p instanceof Date&&void 0!==b&&p.getTime()===b.getTime())return c;if("string"===typeof p)return(g=a.parseDate(p,void 0,!0))&&g.getTime()===b.getTime()?c:!c;if("object"===typeof p&&void 0!==b&&p.from&&p.to&&b.getTime()>=p.from.getTime()&&b.getTime()<=p.to.getTime())return c}return!c}
function qa(b){return void 0!==a.daysContainer?-1===b.className.indexOf("hidden")&&-1===b.className.indexOf("flatpickr-disabled")&&a.daysContainer.contains(b):!1}function Wa(b){b.target!==a._input||!(0<a.selectedDates.length||0<a._input.value.length)||b.relatedTarget&&la(b.relatedTarget)||a.setDate(a._input.value,!0,b.target===a.altInput?a.config.altFormat:a.config.dateFormat)}function Ua(b){var c=h(b),g=a.config.wrap?f.contains(c):c===a._input,m=a.config.allowInput,p=a.isOpen&&(!m||!g),t=a.config.inline&&
g&&!m;if(13===b.keyCode&&g){if(m)return a.setDate(a._input.value,!0,c===a.altInput?a.config.altFormat:a.config.dateFormat),c.blur();a.open()}else if(la(c)||p||t)switch(p=!!a.timeContainer&&a.timeContainer.contains(c),b.keyCode){case 13:p?(b.preventDefault(),C(),Ba()):Ga(b);break;case 27:b.preventDefault();Ba();break;case 8:case 46:g&&!a.config.allowInput&&(b.preventDefault(),a.clear());break;case 37:case 39:p||g?a.hourElement&&a.hourElement.focus():(b.preventDefault(),void 0!==a.daysContainer&&(!1===
m||document.activeElement&&qa(document.activeElement))&&(m=39===b.keyCode?1:-1,b.ctrlKey?(b.stopPropagation(),Aa(m),na(ka(1),0)):na(void 0,m)));break;case 38:case 40:b.preventDefault();m=40===b.keyCode?1:-1;a.daysContainer&&void 0!==c.$i||c===a.input||c===a.altInput?b.ctrlKey?(b.stopPropagation(),pa(a.currentYear-m),na(ka(1),0)):p||na(void 0,7*m):c===a.currentYearElement?pa(a.currentYear-m):a.config.enableTime&&(!p&&a.hourElement&&a.hourElement.focus(),C(b),a._debouncedChange());break;case 9:p?(m=
[a.hourElement,a.minuteElement,a.secondElement,a.amPM].concat(a.pluginElements).filter(function(z){return z}),p=m.indexOf(c),-1!==p&&(m=m[p+(b.shiftKey?-1:1)],b.preventDefault(),(m||a._input).focus())):!a.config.noCalendar&&a.daysContainer&&a.daysContainer.contains(c)&&b.shiftKey&&(b.preventDefault(),a._input.focus())}if(void 0!==a.amPM&&c===a.amPM)switch(b.key){case a.l10n.amPM[0].charAt(0):case a.l10n.amPM[0].charAt(0).toLowerCase():a.amPM.textContent=a.l10n.amPM[0];T();aa();break;case a.l10n.amPM[1].charAt(0):case a.l10n.amPM[1].charAt(0).toLowerCase():a.amPM.textContent=
a.l10n.amPM[1],T(),aa()}(g||la(c))&&M("onKeyDown",b)}function wa(b){if(1===a.selectedDates.length&&(!b||b.classList.contains("flatpickr-day")&&!b.classList.contains("flatpickr-disabled"))){for(var c=b?b.dateObj.getTime():a.days.firstElementChild.dateObj.getTime(),g=a.parseDate(a.selectedDates[0],void 0,!0).getTime(),m=Math.min(c,a.selectedDates[0].getTime()),p=Math.max(c,a.selectedDates[0].getTime()),t=!1,z=0,J=0,F=m;F<p;F+=Za.DAY)fa(new Date(F),!0)||(t=t||F>m&&F<p,F<g&&(!z||F>z)?z=F:F>g&&(!J||F<
J)&&(J=F));for(m=0;m<a.config.showMonths;m++){var X=a.daysContainer.children[m];p=function(U,V){var S=X.children[U];U=S.dateObj.getTime();if(V=0<z&&U<z||0<J&&U>J)return S.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ca){S.classList.remove(Ca)}),"continue";if(t&&!V)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(Ca){S.classList.remove(Ca)});void 0!==b&&(b.classList.add(c<=a.selectedDates[0].getTime()?"startRange":"endRange"),g<
c&&U===g?S.classList.add("startRange"):g>c&&U===g&&S.classList.add("endRange"),U>=z&&(0===J||U<=J)&&U>Math.min(g,c)&&U<Math.max(g,c)&&S.classList.add("inRange"))};F=0;for(var ha=X.children.length;F<ha;F++)p(F,ha)}}}function Ta(){!a.isOpen||a.config.static||a.config.inline||ta()}function Ka(b){return function(c){c=a.config["_"+b+"Date"]=a.parseDate(c,a.config.dateFormat);var g=a.config["_"+("min"===b?"max":"min")+"Date"];void 0!==c&&(a["min"===b?"minDateHasTime":"maxDateHasTime"]=0<c.getHours()||0<
c.getMinutes()||0<c.getSeconds());a.selectedDates&&(a.selectedDates=a.selectedDates.filter(function(m){return fa(m)}),a.selectedDates.length||"min"!==b||R(c),aa());a.daysContainer&&(La(),void 0!==c?a.currentYearElement[b]=c.getFullYear().toString():a.currentYearElement.removeAttribute(b),a.currentYearElement.disabled=!!g&&void 0!==c&&g.getFullYear()===c.getFullYear())}}function $a(){var b="wrap weekNumbers allowInput allowInvalidPreload clickOpens time_24hr enableTime noCalendar altInput shorthandCurrentMonth inline static enableSeconds disableMobile".split(" "),
c=u(u({},JSON.parse(JSON.stringify(f.dataset||{}))),l),g={};a.config.parseDate=c.parseDate;a.config.formatDate=c.formatDate;Object.defineProperty(a.config,"enable",{get:function(){return a.config._enable},set:function(z){a.config._enable=Ma(z)}});Object.defineProperty(a.config,"disable",{get:function(){return a.config._disable},set:function(z){a.config._disable=Ma(z)}});var m="time"===c.mode;if(!c.dateFormat&&(c.enableTime||m)){var p=P.defaultConfig.dateFormat||L.dateFormat;g.dateFormat=c.noCalendar||
m?"H:i"+(c.enableSeconds?":S":""):p+" H:i"+(c.enableSeconds?":S":"")}c.altInput&&(c.enableTime||m)&&!c.altFormat&&(p=P.defaultConfig.altFormat||L.altFormat,g.altFormat=c.noCalendar||m?"h:i"+(c.enableSeconds?":S K":" K"):p+(" h:i"+(c.enableSeconds?":S":"")+" K"));Object.defineProperty(a.config,"minDate",{get:function(){return a.config._minDate},set:Ka("min")});Object.defineProperty(a.config,"maxDate",{get:function(){return a.config._maxDate},set:Ka("max")});m=function(z){return function(J){a.config["min"===
z?"_minTime":"_maxTime"]=a.parseDate(J,"H:i:S")}};Object.defineProperty(a.config,"minTime",{get:function(){return a.config._minTime},set:m("min")});Object.defineProperty(a.config,"maxTime",{get:function(){return a.config._maxTime},set:m("max")});"time"===c.mode&&(a.config.noCalendar=!0,a.config.enableTime=!0);Object.assign(a.config,g,c);for(g=0;g<b.length;g++)a.config[b[g]]=!0===a.config[b[g]]||"true"===a.config[b[g]];I.filter(function(z){return void 0!==a.config[z]}).forEach(function(z){a.config[z]=
Q(a.config[z]||[]).map(H)});a.isMobile=!a.config.disableMobile&&!a.config.inline&&"single"===a.config.mode&&!a.config.disable.length&&!a.config.enable&&!a.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(g=0;g<a.config.plugins.length;g++){b=a.config.plugins[g](a)||{};for(var t in b)-1<I.indexOf(t)?a.config[t]=Q(b[t]).map(H).concat(a.config[t]):"undefined"===typeof c[t]&&(a.config[t]=b[t])}c.altInputClass||(a.config.altInputClass=Na().className+
" "+a.config.altInputClass);M("onParseConfig")}function Na(){return a.config.wrap?f.querySelector("[data-input]"):f}function Oa(){"object"!==typeof a.config.locale&&"undefined"===typeof P.l10ns[a.config.locale]&&a.config.errorHandler(Error("flatpickr: invalid locale "+a.config.locale));a.l10n=u(u({},P.l10ns.default),"object"===typeof a.config.locale?a.config.locale:"default"!==a.config.locale?P.l10ns[a.config.locale]:void 0);Da.K="("+a.l10n.amPM[0]+"|"+a.l10n.amPM[1]+"|"+a.l10n.amPM[0].toLowerCase()+
"|"+a.l10n.amPM[1].toLowerCase()+")";void 0===u(u({},l),JSON.parse(JSON.stringify(f.dataset||{}))).time_24hr&&void 0===P.defaultConfig.time_24hr&&(a.config.time_24hr=a.l10n.time_24hr);a.formatDate=Pa(a);a.parseDate=Ea({config:a.config,l10n:a.l10n})}function ta(b){if("function"===typeof a.config.position)return void a.config.position(a,b);if(void 0!==a.calendarContainer){M("onPreCalendarPosition");var c=b||a._positionElement,g=Array.prototype.reduce.call(a.calendarContainer.children,function(J,F){return J+
F.offsetHeight},0),m=a.calendarContainer.offsetWidth;b=a.config.position.split(" ");var p=b[0],t=1<b.length?b[1]:null;b=c.getBoundingClientRect();var z=window.innerHeight-b.bottom;p="above"===p||"below"!==p&&z<g&&b.top>g;c=window.pageYOffset+b.top+(p?-g-2:c.offsetHeight+2);w(a.calendarContainer,"arrowTop",!p);w(a.calendarContainer,"arrowBottom",p);a.config.inline||(g=window.pageXOffset+b.left,z=p=!1,"center"===t?(g-=(m-b.width)/2,p=!0):"right"===t&&(g-=m-b.width,z=!0),w(a.calendarContainer,"arrowLeft",
!p&&!z),w(a.calendarContainer,"arrowCenter",p),w(a.calendarContainer,"arrowRight",z),t=window.document.body.offsetWidth-(window.pageXOffset+b.right),p=g+m>window.document.body.offsetWidth,z=t+m>window.document.body.offsetWidth,w(a.calendarContainer,"rightMost",p),a.config.static||(a.calendarContainer.style.top=c+"px",p?z?(t=ab(),void 0!==t&&(m=Math.max(0,window.document.body.offsetWidth/2-m/2),c=t.cssRules.length,b="{left:"+b.left+"px;right:auto;}",w(a.calendarContainer,"rightMost",!1),w(a.calendarContainer,
"centerMost",!0),t.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+b,c),a.calendarContainer.style.left=m+"px",a.calendarContainer.style.right="auto")):(a.calendarContainer.style.left="auto",a.calendarContainer.style.right=t+"px"):(a.calendarContainer.style.left=g+"px",a.calendarContainer.style.right="auto")))}}function ab(){for(var b=null,c=0;c<document.styleSheets.length;c++){var g=document.styleSheets[c];try{g.cssRules}catch(m){continue}b=g;break}null==b&&
(b=document.createElement("style"),document.head.appendChild(b),b=b.sheet);return b}function La(){a.config.noCalendar||a.isMobile||(ia(),sa(),ra())}function Ba(){a._input.focus();-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(a.close,0):a.close()}function Ga(b){b.preventDefault();b.stopPropagation();b=r(h(b),function(p){return p.classList&&p.classList.contains("flatpickr-day")&&!p.classList.contains("flatpickr-disabled")&&!p.classList.contains("notAllowed")});
if(void 0!==b){var c=a.latestSelectedDateObj=new Date(b.dateObj.getTime()),g=(c.getMonth()<a.currentMonth||c.getMonth()>a.currentMonth+a.config.showMonths-1)&&"range"!==a.config.mode;a.selectedDateElem=b;if("single"===a.config.mode)a.selectedDates=[c];else if("multiple"===a.config.mode){var m=za(c);m?a.selectedDates.splice(parseInt(m),1):a.selectedDates.push(c)}else"range"===a.config.mode&&(2===a.selectedDates.length&&a.clear(!1,!1),a.latestSelectedDateObj=c,a.selectedDates.push(c),0!==e(c,a.selectedDates[0],
!0)&&a.selectedDates.sort(function(p,t){return p.getTime()-t.getTime()}));T();g&&(m=a.currentYear!==c.getFullYear(),a.currentYear=c.getFullYear(),a.currentMonth=c.getMonth(),m&&(M("onYearChange"),ia()),M("onMonthChange"));sa();ra();aa();g||"range"===a.config.mode||1!==a.config.showMonths?void 0!==a.selectedDateElem&&void 0===a.hourElement&&a.selectedDateElem&&a.selectedDateElem.focus():ja(b);void 0!==a.hourElement&&void 0!==a.hourElement&&a.hourElement.focus();a.config.closeOnSelect&&(b="range"===
a.config.mode&&2===a.selectedDates.length&&!a.config.enableTime,("single"===a.config.mode&&!a.config.enableTime||b)&&Ba());W()}}function Qa(b,c){var g=[];if(b instanceof Array)g=b.map(function(m){return a.parseDate(m,c)});else if(b instanceof Date||"number"===typeof b)g=[a.parseDate(b,c)];else if("string"===typeof b)switch(a.config.mode){case "single":case "time":g=[a.parseDate(b,c)];break;case "multiple":g=b.split(a.config.conjunction).map(function(m){return a.parseDate(m,c)});break;case "range":g=
b.split(a.l10n.rangeSeparator).map(function(m){return a.parseDate(m,c)})}else a.config.errorHandler(Error("Invalid date supplied: "+JSON.stringify(b)));a.selectedDates=a.config.allowInvalidPreload?g:g.filter(function(m){return m instanceof Date&&fa(m,!1)});"range"===a.config.mode&&a.selectedDates.sort(function(m,p){return m.getTime()-p.getTime()})}function Ma(b){return b.slice().map(function(c){return"string"===typeof c||"number"===typeof c||c instanceof Date?a.parseDate(c,void 0,!0):c&&"object"===
typeof c&&c.from&&c.to?{from:a.parseDate(c.from,void 0),to:a.parseDate(c.to,void 0)}:c}).filter(function(c){return c})}function Sa(){var b=a.config.enableTime?a.config.noCalendar?"time":"datetime-local":"date";a.mobileInput=n("input",a.input.className+" flatpickr-mobile");a.mobileInput.tabIndex=1;a.mobileInput.type=b;a.mobileInput.disabled=a.input.disabled;a.mobileInput.required=a.input.required;a.mobileInput.placeholder=a.input.placeholder;a.mobileFormatStr="datetime-local"===b?"Y-m-d\\TH:i:S":"date"===
b?"Y-m-d":"H:i:S";0<a.selectedDates.length&&(a.mobileInput.defaultValue=a.mobileInput.value=a.formatDate(a.selectedDates[0],a.mobileFormatStr));a.config.minDate&&(a.mobileInput.min=a.formatDate(a.config.minDate,"Y-m-d"));a.config.maxDate&&(a.mobileInput.max=a.formatDate(a.config.maxDate,"Y-m-d"));a.input.getAttribute("step")&&(a.mobileInput.step=String(a.input.getAttribute("step")));a.input.type="hidden";void 0!==a.altInput&&(a.altInput.type="hidden");try{a.input.parentNode&&a.input.parentNode.insertBefore(a.mobileInput,
a.input.nextSibling)}catch(c){}G(a.mobileInput,"change",function(c){a.setDate(h(c).value,!1,a.mobileFormatStr);M("onChange");M("onClose")})}function M(b,c){if(void 0!==a.config){var g=a.config[b];if(void 0!==g&&0<g.length)for(var m=0;g[m]&&m<g.length;m++)g[m](a.selectedDates,a.input.value,a,c);"onChange"===b&&(a.input.dispatchEvent(ya("change")),a.input.dispatchEvent(ya("input")))}}function ya(b){var c=document.createEvent("Event");c.initEvent(b,!0,!0);return c}function za(b){for(var c=0;c<a.selectedDates.length;c++)if(0===
e(a.selectedDates[c],b))return""+c;return!1}function sa(){a.config.noCalendar||a.isMobile||!a.monthNav||(a.yearElements.forEach(function(b,c){var g=new Date(a.currentYear,a.currentMonth,1);g.setMonth(a.currentMonth+c);1<a.config.showMonths||"static"===a.config.monthSelectorType?a.monthElements[c].textContent=da(g.getMonth(),a.config.shorthandCurrentMonth,a.l10n)+" ":a.monthsDropdownContainer.value=g.getMonth().toString();b.value=g.getFullYear().toString()}),a._hidePrevMonthArrow=void 0!==a.config.minDate&&
(a.currentYear===a.config.minDate.getFullYear()?a.currentMonth<=a.config.minDate.getMonth():a.currentYear<a.config.minDate.getFullYear()),a._hideNextMonthArrow=void 0!==a.config.maxDate&&(a.currentYear===a.config.maxDate.getFullYear()?a.currentMonth+1>a.config.maxDate.getMonth():a.currentYear>a.config.maxDate.getFullYear()))}function Ra(b){return a.selectedDates.map(function(c){return a.formatDate(c,b)}).filter(function(c,g,m){return"range"!==a.config.mode||a.config.enableTime||m.indexOf(c)===g}).join("range"!==
a.config.mode?a.config.conjunction:a.l10n.rangeSeparator)}function aa(b){void 0===b&&(b=!0);void 0!==a.mobileInput&&a.mobileFormatStr&&(a.mobileInput.value=void 0!==a.latestSelectedDateObj?a.formatDate(a.latestSelectedDateObj,a.mobileFormatStr):"");a.input.value=Ra(a.config.dateFormat);void 0!==a.altInput&&(a.altInput.value=Ra(a.config.altFormat));!1!==b&&M("onValueUpdate")}function Va(b){b=h(b);var c=a.prevMonthNav.contains(b),g=a.nextMonthNav.contains(b);c||g?Aa(c?-1:1):0<=a.yearElements.indexOf(b)?
b.select():b.classList.contains("arrowUp")?a.changeYear(a.currentYear+1):b.classList.contains("arrowDown")&&a.changeYear(a.currentYear-1)}var a={config:u(u({},L),P.defaultConfig),l10n:D};a.parseDate=Ea({config:a.config,l10n:a.l10n});a._handlers=[];a.pluginElements=[];a.loadedPlugins=[];a._bind=G;a._setHoursFromDate=R;a._positionCalendar=ta;a.changeMonth=Aa;a.changeYear=pa;a.clear=function(b,c){void 0===b&&(b=!0);void 0===c&&(c=!0);a.input.value="";void 0!==a.altInput&&(a.altInput.value="");void 0!==
a.mobileInput&&(a.mobileInput.value="");a.selectedDates=[];a.latestSelectedDateObj=void 0;!0===c&&(a.currentYear=a._initialDate.getFullYear(),a.currentMonth=a._initialDate.getMonth());!0===a.config.enableTime&&(c=d(a.config),ba(c.hours,c.minutes,c.seconds));a.redraw();b&&M("onChange")};a.close=function(){a.isOpen=!1;a.isMobile||(void 0!==a.calendarContainer&&a.calendarContainer.classList.remove("open"),void 0!==a._input&&a._input.classList.remove("active"));M("onClose")};a._createElement=n;a.destroy=
function(){void 0!==a.config&&M("onDestroy");for(var b=a._handlers.length;b--;)a._handlers[b].remove();a._handlers=[];if(a.mobileInput)a.mobileInput.parentNode&&a.mobileInput.parentNode.removeChild(a.mobileInput),a.mobileInput=void 0;else if(a.calendarContainer&&a.calendarContainer.parentNode)if(a.config.static&&a.calendarContainer.parentNode){if(b=a.calendarContainer.parentNode,b.lastChild&&b.removeChild(b.lastChild),b.parentNode){for(;b.firstChild;)b.parentNode.insertBefore(b.firstChild,b);b.parentNode.removeChild(b)}}else a.calendarContainer.parentNode.removeChild(a.calendarContainer);
a.altInput&&(a.input.type="text",a.altInput.parentNode&&a.altInput.parentNode.removeChild(a.altInput),delete a.altInput);a.input&&(a.input.type=a.input._type,a.input.classList.remove("flatpickr-input"),a.input.removeAttribute("readonly"));"_showTimeInput latestSelectedDateObj _hideNextMonthArrow _hidePrevMonthArrow __hideNextMonthArrow __hidePrevMonthArrow isMobile isOpen selectedDateElem minDateHasTime maxDateHasTime days daysContainer _input _positionElement innerContainer rContainer monthNav todayDateElem calendarContainer weekdayContainer prevMonthNav nextMonthNav monthsDropdownContainer currentMonthElement currentYearElement navigationCurrentMonth selectedDateElem config".split(" ").forEach(function(c){try{delete a[c]}catch(g){}})};
a.isEnabled=fa;a.jumpToDate=ca;a.open=function(b,c){void 0===c&&(c=a._positionElement);if(!0===a.isMobile)b&&(b.preventDefault(),(b=h(b))&&b.blur()),void 0!==a.mobileInput&&(a.mobileInput.focus(),a.mobileInput.click()),M("onOpen");else if(!a._input.disabled&&!a.config.inline){var g=a.isOpen;a.isOpen=!0;g||(a.calendarContainer.classList.add("open"),a._input.classList.add("active"),M("onOpen"),ta(c));!0===a.config.enableTime&&!0===a.config.noCalendar&&(!1!==a.config.allowInput||void 0!==b&&a.timeContainer.contains(b.relatedTarget)||
setTimeout(function(){return a.hourElement.select()},50))}};a.redraw=La;a.set=function(b,c){if(null!==b&&"object"===typeof b){Object.assign(a.config,b);for(var g in b)void 0!==ua[g]&&ua[g].forEach(function(m){return m()})}else a.config[b]=c,void 0!==ua[b]?ua[b].forEach(function(m){return m()}):-1<I.indexOf(b)&&(a.config[b]=Q(c));a.redraw();aa(!0)};a.setDate=function(b,c,g){void 0===c&&(c=!1);void 0===g&&(g=a.config.dateFormat);if(0!==b&&!b||b instanceof Array&&0===b.length)return a.clear(c);Qa(b,
g);a.latestSelectedDateObj=a.selectedDates[a.selectedDates.length-1];a.redraw();ca(void 0,c);R();0===a.selectedDates.length&&a.clear(!1);aa(c);c&&M("onChange")};a.toggle=function(b){if(!0===a.isOpen)return a.close();a.open(b)};var ua={locale:[Oa,Ja],showMonths:[Ha,B,Ia],minDate:[ca],maxDate:[ca],clickOpens:[function(){!0===a.config.clickOpens?(G(a._input,"focus",a.open),G(a._input,"click",a.open)):(a._input.removeEventListener("focus",a.open),a._input.removeEventListener("click",a.open))}]};(function(){a.element=
a.input=f;a.isOpen=!1;$a();Oa();a.input=Na();a.input?(a.input._type=a.input.type,a.input.type="text",a.input.classList.add("flatpickr-input"),a._input=a.input,a.config.altInput&&(a.altInput=n(a.input.nodeName,a.config.altInputClass),a._input=a.altInput,a.altInput.placeholder=a.input.placeholder,a.altInput.disabled=a.input.disabled,a.altInput.required=a.input.required,a.altInput.tabIndex=a.input.tabIndex,a.altInput.type="text",a.input.setAttribute("type","hidden"),!a.config.static&&a.input.parentNode&&
a.input.parentNode.insertBefore(a.altInput,a.input.nextSibling)),a.config.allowInput||a._input.setAttribute("readonly","readonly"),a._positionElement=a.config.positionElement||a._input):a.config.errorHandler(Error("Invalid input element specified"));a.selectedDates=[];a.now=a.parseDate(a.config.now)||new Date;var b=a.config.defaultDate||("INPUT"!==a.input.nodeName&&"TEXTAREA"!==a.input.nodeName||!a.input.placeholder||a.input.value!==a.input.placeholder?a.input.value:null);b&&Qa(b,a.config.dateFormat);
a._initialDate=0<a.selectedDates.length?a.selectedDates[0]:a.config.minDate&&a.config.minDate.getTime()>a.now.getTime()?a.config.minDate:a.config.maxDate&&a.config.maxDate.getTime()<a.now.getTime()?a.config.maxDate:a.now;a.currentYear=a._initialDate.getFullYear();a.currentMonth=a._initialDate.getMonth();0<a.selectedDates.length&&(a.latestSelectedDateObj=a.selectedDates[0]);void 0!==a.config.minTime&&(a.config.minTime=a.parseDate(a.config.minTime,"H:i"));void 0!==a.config.maxTime&&(a.config.maxTime=
a.parseDate(a.config.maxTime,"H:i"));a.minDateHasTime=!!a.config.minDate&&(0<a.config.minDate.getHours()||0<a.config.minDate.getMinutes()||0<a.config.minDate.getSeconds());a.maxDateHasTime=!!a.config.maxDate&&(0<a.config.maxDate.getHours()||0<a.config.maxDate.getMinutes()||0<a.config.maxDate.getSeconds());q();if(!a.isMobile){b=window.document.createDocumentFragment();a.calendarContainer=n("div","flatpickr-calendar");a.calendarContainer.tabIndex=-1;if(!a.config.noCalendar){b.appendChild(Ya());a.innerContainer=
n("div","flatpickr-innerContainer");if(a.config.weekNumbers){a.calendarContainer.classList.add("hasWeeks");var c=n("div","flatpickr-weekwrapper");c.appendChild(n("span","flatpickr-weekday",a.l10n.weekAbbreviation));var g=n("div","flatpickr-weeks");c.appendChild(g);var m=c;c=g;g=m;a.innerContainer.appendChild(g);a.weekNumbers=c;a.weekWrapper=g}a.rContainer=n("div","flatpickr-rContainer");a.rContainer.appendChild(Ia());a.daysContainer||(a.daysContainer=n("div","flatpickr-days"),a.daysContainer.tabIndex=
-1);ra();a.rContainer.appendChild(a.daysContainer);a.innerContainer.appendChild(a.rContainer);b.appendChild(a.innerContainer)}if(a.config.enableTime){c=b.appendChild;a.calendarContainer.classList.add("hasTime");a.config.noCalendar&&a.calendarContainer.classList.add("noCalendar");g=d(a.config);a.timeContainer=n("div","flatpickr-time");a.timeContainer.tabIndex=-1;m=n("span","flatpickr-time-separator",":");var p=x("flatpickr-hour",{"aria-label":a.l10n.hourAriaLabel});a.hourElement=p.getElementsByTagName("input")[0];
var t=x("flatpickr-minute",{"aria-label":a.l10n.minuteAriaLabel});a.minuteElement=t.getElementsByTagName("input")[0];a.hourElement.tabIndex=a.minuteElement.tabIndex=-1;var z=a.hourElement;if(a.latestSelectedDateObj)var J=a.latestSelectedDateObj.getHours();else if(a.config.time_24hr)J=g.hours;else a:switch(J=g.hours,J%24){case 0:case 12:J=12;break a;default:J%=12}z.value=K(J);a.minuteElement.value=K(a.latestSelectedDateObj?a.latestSelectedDateObj.getMinutes():g.minutes);a.hourElement.setAttribute("step",
a.config.hourIncrement.toString());a.minuteElement.setAttribute("step",a.config.minuteIncrement.toString());a.hourElement.setAttribute("min",a.config.time_24hr?"0":"1");a.hourElement.setAttribute("max",a.config.time_24hr?"23":"12");a.hourElement.setAttribute("maxlength","2");a.minuteElement.setAttribute("min","0");a.minuteElement.setAttribute("max","59");a.minuteElement.setAttribute("maxlength","2");a.timeContainer.appendChild(p);a.timeContainer.appendChild(m);a.timeContainer.appendChild(t);a.config.time_24hr&&
a.timeContainer.classList.add("time24hr");a.config.enableSeconds&&(a.timeContainer.classList.add("hasSeconds"),m=x("flatpickr-second"),a.secondElement=m.getElementsByTagName("input")[0],a.secondElement.value=K(a.latestSelectedDateObj?a.latestSelectedDateObj.getSeconds():g.seconds),a.secondElement.setAttribute("step",a.minuteElement.getAttribute("step")),a.secondElement.setAttribute("min","0"),a.secondElement.setAttribute("max","59"),a.secondElement.setAttribute("maxlength","2"),a.timeContainer.appendChild(n("span",
"flatpickr-time-separator",":")),a.timeContainer.appendChild(m));a.config.time_24hr||(a.amPM=n("span","flatpickr-am-pm",a.l10n.amPM[N(11<(a.latestSelectedDateObj?a.hourElement.value:a.config.defaultHour))]),a.amPM.title=a.l10n.toggleTitle,a.amPM.tabIndex=-1,a.timeContainer.appendChild(a.amPM));c.call(b,a.timeContainer)}w(a.calendarContainer,"rangeMode","range"===a.config.mode);w(a.calendarContainer,"animate",!0===a.config.animate);w(a.calendarContainer,"multiMonth",1<a.config.showMonths);a.calendarContainer.appendChild(b);
b=void 0!==a.config.appendTo&&void 0!==a.config.appendTo.nodeType;if(a.config.inline||a.config.static)a.calendarContainer.classList.add(a.config.inline?"inline":"static"),a.config.inline&&(!b&&a.element.parentNode?a.element.parentNode.insertBefore(a.calendarContainer,a._input.nextSibling):void 0!==a.config.appendTo&&a.config.appendTo.appendChild(a.calendarContainer)),a.config.static&&(b=n("div","flatpickr-wrapper"),a.element.parentNode&&a.element.parentNode.insertBefore(b,a.element),b.appendChild(a.element),
a.altInput&&b.appendChild(a.altInput),b.appendChild(a.calendarContainer));a.config.static||a.config.inline||(void 0!==a.config.appendTo?a.config.appendTo:window.document.body).appendChild(a.calendarContainer)}va();if(a.selectedDates.length||a.config.noCalendar)a.config.enableTime&&R(a.config.noCalendar?a.latestSelectedDateObj:void 0),aa(!1);B();b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!a.isMobile&&b&&ta();M("onReady")})();return a}function v(f,l){f=Array.prototype.slice.call(f).filter(function(C){return C instanceof
HTMLElement});for(var q=[],H=0;H<f.length;H++){var B=f[H];try{null===B.getAttribute("data-fp-omit")&&(void 0!==B._flatpickr&&(B._flatpickr.destroy(),B._flatpickr=void 0),B._flatpickr=k(B,l||{}),q.push(B._flatpickr))}catch(C){console.error(C)}}return 1===q.length?q[0]:q}var u=function(){u=Object.assign||function(f){for(var l,q=1,H=arguments.length;q<H;q++){l=arguments[q];for(var B in l)Object.prototype.hasOwnProperty.call(l,B)&&(f[B]=l[B])}return f};return u.apply(this,arguments)},I="onChange onClose onDayCreate onDestroy onKeyDown onMonthChange onOpen onParseConfig onReady onValueUpdate onYearChange onPreCalendarPosition".split(" "),
L={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"===typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(f){return"undefined"!==typeof console&&console.warn(f)},getWeek:function(f){f=
new Date(f.getTime());f.setHours(0,0,0,0);f.setDate(f.getDate()+3-(f.getDay()+6)%7);var l=new Date(f.getFullYear(),0,4);return 1+Math.round(((f.getTime()-l.getTime())/864E5-3+(l.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",
noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,
showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},D={weekdays:{shorthand:"Sun Mon Tue Wed Thu Fri Sat".split(" "),longhand:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},months:{shorthand:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),longhand:"January February March April May June July August September October November December".split(" ")},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(f){f%=100;if(3<f&&21>f)return"th";
switch(f%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},K=function(f,l){void 0===l&&(l=2);return("000"+f).slice(-1*l)},N=function(f){return!0===f?1:0},Q=function(f){return f instanceof Array?f:[f]},Y=function(){},da=function(f,l,q){return q.months[l?
"shorthand":"longhand"][f]},Fa={D:Y,F:function(f,l,q){f.setMonth(q.months.longhand.indexOf(l))},G:function(f,l){f.setHours(parseFloat(l))},H:function(f,l){f.setHours(parseFloat(l))},J:function(f,l){f.setDate(parseFloat(l))},K:function(f,l,q){f.setHours(f.getHours()%12+12*N((new RegExp(q.amPM[1],"i")).test(l)))},M:function(f,l,q){f.setMonth(q.months.shorthand.indexOf(l))},S:function(f,l){f.setSeconds(parseFloat(l))},U:function(f,l){return new Date(1E3*parseFloat(l))},W:function(f,l,q){l=parseInt(l);
f=new Date(f.getFullYear(),0,2+7*(l-1),0,0,0,0);f.setDate(f.getDate()-f.getDay()+q.firstDayOfWeek);return f},Y:function(f,l){f.setFullYear(parseFloat(l))},Z:function(f,l){return new Date(l)},d:function(f,l){f.setDate(parseFloat(l))},h:function(f,l){f.setHours(parseFloat(l))},i:function(f,l){f.setMinutes(parseFloat(l))},j:function(f,l){f.setDate(parseFloat(l))},l:Y,m:function(f,l){f.setMonth(parseFloat(l)-1)},n:function(f,l){f.setMonth(parseFloat(l)-1)},s:function(f,l){f.setSeconds(parseFloat(l))},
u:function(f,l){return new Date(parseFloat(l))},w:Y,y:function(f,l){f.setFullYear(2E3+parseFloat(l))}},Da={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},oa={Z:function(f){return f.toISOString()},D:function(f,l,q){return l.weekdays.shorthand[oa.w(f,
l,q)]},F:function(f,l,q){return da(oa.n(f,l,q)-1,!1,l)},G:function(f,l,q){return K(oa.h(f,l,q))},H:function(f){return K(f.getHours())},J:function(f,l){return void 0!==l.ordinal?f.getDate()+l.ordinal(f.getDate()):f.getDate()},K:function(f,l){return l.amPM[N(11<f.getHours())]},M:function(f,l){return da(f.getMonth(),!0,l)},S:function(f){return K(f.getSeconds())},U:function(f){return f.getTime()/1E3},W:function(f,l,q){return q.getWeek(f)},Y:function(f){return K(f.getFullYear(),4)},d:function(f){return K(f.getDate())},
h:function(f){return f.getHours()%12?f.getHours()%12:12},i:function(f){return K(f.getMinutes())},j:function(f){return f.getDate()},l:function(f,l){return l.weekdays.longhand[f.getDay()]},m:function(f){return K(f.getMonth()+1)},n:function(f){return f.getMonth()+1},s:function(f){return f.getSeconds()},u:function(f){return f.getTime()},w:function(f){return f.getDay()},y:function(f){return String(f.getFullYear()).substring(2)}},Pa=function(f){var l=f.config,q=void 0===l?L:l;l=f.l10n;var H=void 0===l?
D:l;f=f.isMobile;var B=void 0===f?!1:f;return function(C,T,R){var ba=R||H;return void 0===q.formatDate||B?T.split("").map(function(O,G,W){return oa[O]&&"\\"!==W[G-1]?oa[O](C,ba,q):"\\"!==O?O:""}).join(""):q.formatDate(C,T,ba)}},Ea=function(f){var l=f.config,q=void 0===l?L:l;f=f.l10n;var H=void 0===f?D:f;return function(B,C,T,R){if(0===B||B){var ba=R||H;if(B instanceof Date)var O=new Date(B.getTime());else if("string"!==typeof B&&void 0!==B.toFixed)O=new Date(B);else if("string"===typeof B)if(C=C||
(q||L).dateFormat,R=String(B).trim(),"today"===R)O=new Date,T=!0;else if(/Z$/.test(R)||/GMT$/.test(R))O=new Date(B);else if(q&&q.parseDate)O=q.parseDate(B,C);else{O=q&&q.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);R=void 0;for(var G=[],W=0,va=0,ca="";W<C.length;W++){var ea=C[W],Z="\\"===ea,ma="\\"===C[W-1]||Z;if(Da[ea]&&!ma){if(ca+=Da[ea],(Z=(new RegExp(ca)).exec(B))&&(R=!0))G["Y"!==ea?"push":"unshift"]({fn:Fa[ea],val:Z[++va]})}else Z||(ca+=".");
G.forEach(function(ja){var ka=ja.fn;return O=ka(O,ja.val,ba)||O})}O=R?O:void 0}if(O instanceof Date&&!isNaN(O.getTime()))return!0===T&&O.setHours(0,0,0,0),O;q.errorHandler(Error("Invalid date provided: "+B))}}},Za={DAY:864E5};"function"!==typeof Object.assign&&(Object.assign=function(f){for(var l=[],q=1;q<arguments.length;q++)l[q-1]=arguments[q];if(!f)throw TypeError("Cannot convert undefined or null to object");q=function(B){B&&Object.keys(B).forEach(function(C){return f[C]=B[C]})};for(var H=0;H<
l.length;H++)q(l[H]);return f});"undefined"!==typeof HTMLElement&&"undefined"!==typeof HTMLCollection&&"undefined"!==typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(f){return v(this,f)},HTMLElement.prototype.flatpickr=function(f){return v([this],f)});var P=function(f,l){return"string"===typeof f?v(window.document.querySelectorAll(f),l):f instanceof Node?v([f],l):v(f,l)};P.defaultConfig={};P.l10ns={en:u({},D),default:u({},D)};P.localize=function(f){P.l10ns.default=
u(u({},P.l10ns.default),f)};P.setDefaults=function(f){P.defaultConfig=u(u({},P.defaultConfig),f)};P.parseDate=Ea({});P.formatDate=Pa({});P.compareDates=e;"undefined"!==typeof jQuery&&"undefined"!==typeof jQuery.fn&&(jQuery.fn.flatpickr=function(f){return v(this,f)});Date.prototype.fp_incr=function(f){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"===typeof f?parseInt(f,10):f))};"undefined"!==typeof window&&(window.flatpickr=P);return P});
(function(y){function E(w,n){this.element=y(w);this.options=n;this.init()}E.prototype.init=function(){this.element.chosen(this.options);this.container=this.element.next(".chosen-container");this.search_field=this.container.find(".chosen-search-input");this.is_multiple=this.container.hasClass("chosen-container-multi");this.is_typing=!1;this.chosenXhr=null;this.events()};E.prototype.events=function(){var w=this;this.search_field.on("compositionstart",function(){w.is_typing=!0});this.search_field.on("compositionend",
function(){w.is_typing=!1;w.update_list()});this.search_field.on("keyup",function(){w.update_list()});this.search_field.on("focus",function(){w.search_field_focused()})};E.prototype.search_field_focused=function(){this.search_welcome_message();0===this.options.min_length&&0===this.search_field.val().length&&this.update_list()};E.prototype.search_welcome_message=function(){var w=y.trim(this.search_field.val()),n=this.container.find(".chosen-results");0===n.children().length&&0===w.length&&n.html('<li class="no-results">'+
this.options.typing_text.replace("%s",this.options.min_length-w.length)+"</li>")};E.prototype.update_list=function(){var w=this;this.search_welcome_message();if(!this.is_typing){var n=y.trim(this.search_field.val()),A=n.length<this.options.min_length?this.options.typing_text.replace("%s",this.options.min_length-n.length):this.options.searching_text;this.container.find(".no-results").text(A);n!==this.search_field.data("prevVal")&&(this.search_field.data("prevVal",n),this.timer&&clearTimeout(this.timer),
n.length<this.options.min_length||(this.timer=setTimeout(function(){w.chosenXhr&&w.chosenXhr.abort();w.options.data.term=n;w.chosenXhr=window.wp.ajax.post("csf-chosen",w.options.data).done(function(r){w.show_results(r)}).fail(function(r){w.container.find(".no-results").text(r.error)})},this.options.type_delay)))}};E.prototype.show_results=function(w){var n=this;if(!this.is_typing&&null!==w)if(0===w.length)this.element.data().chosen.no_results_clear(),this.element.data().chosen.no_results(this.search_field.val());
else{var A=[];this.element.find("option").each(function(){y(this).is(":selected")?A.push(y(this).val()+"-"+y(this).text()):y(this).attr("value").length&&y(this).remove()});y.each(w,function(e,d){-1===y.inArray(d.value+"-"+d.text,A)&&y("<option />").attr("value",d.value).html(d.text).appendTo(n.element)});var r=this.search_field.val(),x=this.search_field.innerWidth();this.element.trigger("chosen:updated");if(this.is_multiple){var h=this.element.parent().find(".csf-hide-select").val()||[];this.element.CSFChosenOrder(h,
!0);this.search_field.css("width",x)}this.search_field.val(r);null!==this.chosenXhr.done&&this.chosenXhr.done(w)}};y.fn.CSFAjaxChosen=function(w){return this.each(function(){new E(this,w)})}})(jQuery);
(function(){var y,E=[].indexOf||function(x){for(var h=0,e=this.length;h<e;h++)if(h in this&&this[h]===x)return h;return-1},w={}.hasOwnProperty,n=function(x,h){function e(){this.constructor=x}for(var d in h)w.call(h,d)&&(x[d]=h[d]);e.prototype=h.prototype;x.prototype=new e;x.__super__=h.prototype;return x};var A=function(){function x(){}x.insertAt=function(h,e,d){return d.insertBefore(h,d.children[e].nextSibling)};x.getFlattenedOptionsAndGroups=function(h){var e,d;var k=Array.prototype.filter.call(h.childNodes,
function(D){var K;return"OPTION"===(K=D.nodeName.toUpperCase())||"OPTGROUP"===K});h=[];var v=0;for(e=k.length;v<e;v++){var u=k[v];h.push(u);if("OPTGROUP"===u.nodeName.toUpperCase()){var I=Array.prototype.filter.call(u.childNodes,function(D){return"OPTION"===D.nodeName.toUpperCase()});var L=0;for(d=I.length;L<d;L++)u=I[L],h.push(u)}}return h};x.isValidMultipleSelectElement=function(h){return null!==h&&"undefined"!==typeof h&&"SELECT"===h.nodeName&&h.multiple};x.getChosenUIContainer=function(h){return""!==
h.id?document.getElementById(h.id.replace(/-/g,"_")+"_chosen"):this.searchChosenUIContainer(h)};x.isChosenified=function(h){return null!=this.getChosenUIContainer(h)};x.forceSelection=function(h,e){var d,k;var v=this.getFlattenedOptionsAndGroups(h);for(d=0;d<v.length;){var u=v[d];(k=u.getAttribute("value"),0<=E.call(e,k))?(u.selected=!0,u.setAttribute("selected","")):(u.selected=!1,u.removeAttribute("selected"));d++}return this.triggerEvent(h,"chosen:updated")};x.CSFChosenOrder=function(h,e,d){var k,
v,u;null!=this.getDOMElement&&(h=this.getDOMElement(h));if(this.isValidMultipleSelectElement(h)){var I=this.getChosenUIContainer(h);if(null!=I&&e instanceof Array){e=e.map(Function.prototype.call,String.prototype.trim);var L=this.getFlattenedOptionsAndGroups(h);null!=d&&!0===d&&this.forceSelection(h,e);var D=[];h=d=0;for(v=e.length;d<v;h=++d){var K=e[h];var N=null;var Q=k=0;for(u=L.length;k<u;Q=++k){var Y=L[Q];Y.value===K&&(N=Q)}Q=I.querySelectorAll(".search-choice");var da=this.relAttributeName;
Q=Array.prototype.filter.call(Q,function(Fa){return null!=Fa.querySelector("a.search-choice-close["+da+'="'+N+'"]')})[0];null!=Q&&(I.querySelector("ul.chosen-choices"),D.push(this.insertAt(Q,h,I.querySelector("ul.chosen-choices"))))}return D}}};return x}();var r=jQuery;r.fn.extend({CSFChosenOrder:function(x,h){return _CSFChosenOrder.CSFChosenOrder(this,x,h)}});this._CSFChosenOrder=function(x){function h(){return y=h.__super__.constructor.apply(this,arguments)}n(h,x);h.relAttributeName="data-option-array-index";
h.isjQueryObject=function(e){return"undefined"!==typeof jQuery&&null!==jQuery&&e instanceof jQuery};h.getDOMElement=function(e){return this.isjQueryObject(e)?e.get(0):e};h.searchChosenUIContainer=function(e){return null!=r(e).data("chosen")?r(e).data("chosen").container[0]:r(e).next(".chosen-container.chosen-container-multi").get(0)};h.triggerEvent=function(e,d){return r(e).trigger(d)};return h}(A)}).call(this);
(function(){var y=function(h,e){return function(){return h.apply(e,arguments)}},E=function(h,e){function d(){this.constructor=h}for(var k in e)w.call(e,k)&&(h[k]=e[k]);d.prototype=e.prototype;h.prototype=new d;h.__super__=e.prototype;return h},w={}.hasOwnProperty;var n=function(){function h(){this.options_index=0;this.parsed=[]}h.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)};h.prototype.add_group=function(e){var d;var k=this.parsed.length;
this.parsed.push({array_index:k,group:!0,label:e.label,title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className});var v=e.childNodes;var u=[];var I=0;for(d=v.length;I<d;I++){var L=v[I];u.push(this.add_option(L,k,e.disabled))}return u};h.prototype.add_option=function(e,d,k){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=d&&(this.parsed[d].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,
html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===k?k:e.disabled,group_array_index:d,group_label:null!=d?this.parsed[d].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1};return h}();n.select_to_array=function(h){var e;var d=new n;var k=h.childNodes;var v=0;for(e=k.length;v<e;v++)h=k[v],d.add_node(h);return d.parsed};var A=function(){function h(e,d){this.form_field=
e;this.options=null!=d?d:{};this.label_click_handler=y(this.label_click_handler,this);h.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}h.prototype.set_default_values=function(){this.click_test_action=function(e){return function(d){return e.test_active_click(d)}}(this);this.activate_action=function(e){return function(d){return e.activate_field(d)}}(this);
this.results_showing=this.mouse_on_container=this.active_field=!1;this.result_highlighted=null;this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className);this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||!1;this.enable_split_word_search=
null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0;this.group_search=null!=this.options.group_search?this.options.group_search:!0;this.search_contains=this.options.search_contains||!1;this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||!1;this.display_selected_options=
null!=this.options.display_selected_options?this.options.display_selected_options:!0;this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0;this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1;this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY;this.case_sensitive_search=this.options.case_sensitive_search||!1;return this.hide_results_on_select=null!=this.options.hide_results_on_select?
this.options.hide_results_on_select:!0};h.prototype.set_default_text=function(){this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.default_text=this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||h.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||h.default_single_text;this.default_text=this.escape_html(this.default_text);return this.results_none_found=
this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||h.default_no_result_text};h.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+this.escape_html(e.group_label)+"</b>"+e.html:e.html};h.prototype.mouse_enter=function(){return this.mouse_on_container=!0};h.prototype.mouse_leave=function(){return this.mouse_on_container=!1};h.prototype.input_focus=function(e){if(this.is_multiple){if(!this.active_field)return setTimeout(function(d){return function(){return d.container_mousedown()}}(this),
50)}else if(!this.active_field)return this.activate_field()};h.prototype.input_blur=function(e){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(d){return function(){return d.blur_test()}}(this),100)};h.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()};h.prototype.results_option_build=function(e){var d;var k="";var v=0;var u=this.results_data;var I=0;for(d=u.length;I<d;I++){var L=u[I];var D=L.group?this.result_add_group(L):
this.result_add_option(L);""!==D&&(v++,k+=D);null!=e&&e.first&&(L.selected&&this.is_multiple?this.choice_build(L):L.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(L)));if(v>=this.max_shown_results)break}return k};h.prototype.result_add_option=function(e){if(!e.search_match||!this.include_option_in_results(e))return"";var d=[];e.disabled||e.selected&&this.is_multiple||d.push("active-result");!e.disabled||e.selected&&this.is_multiple||d.push("disabled-result");e.selected&&
d.push("result-selected");null!=e.group_array_index&&d.push("group-option");""!==e.classes&&d.push(e.classes);var k=document.createElement("li");k.className=d.join(" ");e.style&&(k.style.cssText=e.style);k.setAttribute("data-option-array-index",e.array_index);k.innerHTML=e.highlighted_html||e.html;e.title&&(k.title=e.title);return this.outerHTML(k)};h.prototype.result_add_group=function(e){if(!e.search_match&&!e.group_match||!(0<e.active_options))return"";var d=[];d.push("group-result");e.classes&&
d.push(e.classes);var k=document.createElement("li");k.className=d.join(" ");k.innerHTML=e.highlighted_html||this.escape_html(e.label);e.title&&(k.title=e.title);return this.outerHTML(k)};h.prototype.results_update_field=function(){this.set_default_text();this.is_multiple||this.results_reset_cleanup();this.result_clear_highlight();this.results_build();if(this.results_showing)return this.winnow_results()};h.prototype.reset_single_select_options=function(){var e;var d=this.results_data;var k=[];var v=
0;for(e=d.length;v<e;v++){var u=d[v];u.selected?k.push(u.selected=!1):k.push(void 0)}return k};h.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};h.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()};h.prototype.winnow_results=function(e){var d;this.no_results_clear();var k=0;var v=this.get_search_text();var u=v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");var I=this.get_search_regex(u);var L=
this.results_data;u=0;for(d=L.length;u<d;u++){var D=L[u];D.search_match=!1;var K=null;D.highlighted_html="";if(this.include_option_in_results(D)){D.group&&(D.group_match=!1,D.active_options=0);null!=D.group_array_index&&this.results_data[D.group_array_index]&&(K=this.results_data[D.group_array_index],0===K.active_options&&K.search_match&&(k+=1),K.active_options+=1);var N=D.group?D.label:D.text;if(!D.group||this.group_search){var Q=this.search_string_match(N,I);D.search_match=null!=Q;D.search_match&&
!D.group&&(k+=1);if(D.search_match){if(v.length){var Y=Q.index;var da=N.slice(0,Y);Q=N.slice(Y,Y+v.length);N=N.slice(Y+v.length);D.highlighted_html=this.escape_html(da)+"<em>"+this.escape_html(Q)+"</em>"+this.escape_html(N)}null!=K&&(K.group_match=!0)}else null!=D.group_array_index&&this.results_data[D.group_array_index].search_match&&(D.search_match=!0)}}}this.result_clear_highlight();if(1>k&&v.length)return this.update_results_content(""),this.no_results(v);this.update_results_content(this.results_option_build());
if(null==e||!e.skip_highlight)return this.winnow_results_set_highlight()};h.prototype.get_search_regex=function(e){e=this.search_contains?e:"(^|\\s|\\b)"+e+"[^\\s]*";this.enable_split_word_search||this.search_contains||(e="^"+e);return new RegExp(e,this.case_sensitive_search?"":"i")};h.prototype.search_string_match=function(e,d){e=d.exec(e);!this.search_contains&&null!=e&&e[1]&&(e.index+=1);return e};h.prototype.choices_count=function(){var e;if(null!=this.selected_option_count)return this.selected_option_count;
this.selected_option_count=0;var d=this.form_field.options;var k=0;for(e=d.length;k<e;k++){var v=d[k];v.selected&&(this.selected_option_count+=1)}return this.selected_option_count};h.prototype.choices_click=function(e){e.preventDefault();this.activate_field();if(!this.results_showing&&!this.is_disabled)return this.results_show()};h.prototype.keydown_checker=function(e){var d;var k=null!=(d=e.which)?d:e.keyCode;this.search_field_scale();8!==k&&this.pending_backstroke&&this.clear_backstroke();switch(k){case 8:this.backstroke_length=
this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e);this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault();this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}};h.prototype.keyup_checker=function(e){var d;var k=null!=(d=e.which)?d:e.keyCode;this.search_field_scale();
switch(k){case 8:this.is_multiple&&1>this.backstroke_length&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault();this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}};h.prototype.clipboard_event_checker=function(e){if(!this.is_disabled)return setTimeout(function(d){return function(){return d.results_search()}}(this),
50)};h.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"};h.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected||!this.display_disabled_options&&e.disabled||e.empty?!1:!0};h.prototype.search_results_touchstart=function(e){this.touch_started=!0;return this.search_results_mouseover(e)};h.prototype.search_results_touchmove=function(e){this.touch_started=!1;return this.search_results_mouseout(e)};
h.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)};h.prototype.outerHTML=function(e){if(e.outerHTML)return e.outerHTML;var d=document.createElement("div");d.appendChild(e);return d.innerHTML};h.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'};
h.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'};h.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(e)+"</span>\n</li>"};h.browser_is_supported=function(){return true};h.default_multiple_text="Select Some Options";h.default_single_text="Select an Option";h.default_no_result_text="No results match";return h}();var r=jQuery;
r.fn.extend({chosen:function(h){return A.browser_is_supported()?this.each(function(e){e=r(this);var d=e.data("chosen");"destroy"===h?d instanceof x&&d.destroy():d instanceof x||e.data("chosen",new x(this,h))}):this}});var x=function(h){function e(){return e.__super__.constructor.apply(this,arguments)}E(e,h);e.prototype.setup=function(){this.form_field_jq=r(this.form_field);return this.current_selectedIndex=this.form_field.selectedIndex};e.prototype.set_up_html=function(){var d=["chosen-container"];
d.push("chosen-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&d.push(this.form_field.className);this.is_rtl&&d.push("chosen-rtl");d={"class":d.join(" "),title:this.form_field.title};this.form_field.id.length&&(d.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen");this.container=r("<div />",d);this.container.width(this.container_width());this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html());
this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=
this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first());this.results_build();this.set_tab_index();return this.set_label_behavior()};e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})};e.prototype.register_observers=function(){this.container.on("touchstart.chosen",function(d){return function(k){d.container_mousedown(k)}}(this));this.container.on("touchend.chosen",function(d){return function(k){d.container_mouseup(k)}}(this));
this.container.on("mousedown.chosen",function(d){return function(k){d.container_mousedown(k)}}(this));this.container.on("mouseup.chosen",function(d){return function(k){d.container_mouseup(k)}}(this));this.container.on("mouseenter.chosen",function(d){return function(k){d.mouse_enter(k)}}(this));this.container.on("mouseleave.chosen",function(d){return function(k){d.mouse_leave(k)}}(this));this.search_results.on("mouseup.chosen",function(d){return function(k){d.search_results_mouseup(k)}}(this));this.search_results.on("mouseover.chosen",
function(d){return function(k){d.search_results_mouseover(k)}}(this));this.search_results.on("mouseout.chosen",function(d){return function(k){d.search_results_mouseout(k)}}(this));this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(d){return function(k){d.search_results_mousewheel(k)}}(this));this.search_results.on("touchstart.chosen",function(d){return function(k){d.search_results_touchstart(k)}}(this));this.search_results.on("touchmove.chosen",function(d){return function(k){d.search_results_touchmove(k)}}(this));
this.search_results.on("touchend.chosen",function(d){return function(k){d.search_results_touchend(k)}}(this));this.form_field_jq.on("chosen:updated.chosen",function(d){return function(k){d.results_update_field(k)}}(this));this.form_field_jq.on("chosen:activate.chosen",function(d){return function(k){d.activate_field(k)}}(this));this.form_field_jq.on("chosen:open.chosen",function(d){return function(k){d.container_mousedown(k)}}(this));this.form_field_jq.on("chosen:close.chosen",function(d){return function(k){d.close_field(k)}}(this));
this.search_field.on("blur.chosen",function(d){return function(k){d.input_blur(k)}}(this));this.search_field.on("keyup.chosen",function(d){return function(k){d.keyup_checker(k)}}(this));this.search_field.on("keydown.chosen",function(d){return function(k){d.keydown_checker(k)}}(this));this.search_field.on("focus.chosen",function(d){return function(k){d.input_focus(k)}}(this));this.search_field.on("cut.chosen",function(d){return function(k){d.clipboard_event_checker(k)}}(this));this.search_field.on("paste.chosen",
function(d){return function(k){d.clipboard_event_checker(k)}}(this));return this.is_multiple?this.search_choices.on("click.chosen",function(d){return function(k){d.choices_click(k)}}(this)):this.container.on("click.chosen",function(d){d.preventDefault()})};e.prototype.destroy=function(){r(this.container[0].ownerDocument).off("click.chosen",this.click_test_action);0<this.form_field_label.length&&this.form_field_label.off("click.chosen");this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=
this.search_field[0].tabIndex);this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};e.prototype.search_field_disabled=function(){this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled");this.container.toggleClass("chosen-disabled",this.is_disabled);this.search_field[0].disabled=this.is_disabled;this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field);if(this.is_disabled)return this.close_field();
if(!this.is_multiple)return this.selected_item.on("focus.chosen",this.activate_field)};e.prototype.container_mousedown=function(d){var k;if(!this.is_disabled&&(!d||"mousedown"!==(k=d.type)&&"touchstart"!==k||this.results_showing||d.preventDefault(),null==d||!r(d.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!d||r(d.target)[0]!==this.selected_item[0]&&!r(d.target).parents("a.chosen-single").length||(d.preventDefault(),this.results_toggle()):(this.is_multiple&&
this.search_field.val(""),r(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field()};e.prototype.container_mouseup=function(d){if("ABBR"===d.target.nodeName&&!this.is_disabled)return this.results_reset(d)};e.prototype.search_results_mousewheel=function(d){var k;d.originalEvent&&(k=d.originalEvent.deltaY||-d.originalEvent.wheelDelta||d.originalEvent.detail);if(null!=k)return d.preventDefault(),"DOMMouseScroll"===d.type&&(k*=40),this.search_results.scrollTop(k+
this.search_results.scrollTop())};e.prototype.blur_test=function(d){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()};e.prototype.close_field=function(){r(this.container[0].ownerDocument).off("click.chosen",this.click_test_action);this.active_field=!1;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();this.search_field_scale();return this.search_field.blur()};e.prototype.activate_field=
function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()};e.prototype.test_active_click=function(d){d=r(d.target).closest(".chosen-container");return d.length&&this.container[0]===d[0]?this.active_field=!0:this.close_field()};e.prototype.results_build=function(){this.parsing=!0;this.selected_option_count=null;this.results_data=n.select_to_array(this.form_field);this.is_multiple?
this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch")));this.update_results_content(this.results_option_build({first:!0}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();
return this.parsing=!1};e.prototype.result_do_highlight=function(d){if(d.length){this.result_clear_highlight();this.result_highlight=d;this.result_highlight.addClass("highlighted");var k=parseInt(this.search_results.css("maxHeight"),10);var v=this.search_results.scrollTop();var u=k+v;var I=this.result_highlight.position().top+this.search_results.scrollTop();d=I+this.result_highlight.outerHeight();if(d>=u)return this.search_results.scrollTop(0<d-k?d-k:0);if(I<v)return this.search_results.scrollTop(I)}};
e.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null};e.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.container.addClass("chosen-with-drop");this.results_showing=!0;this.search_field.focus();this.search_field.val(this.get_search_field_value());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",
{chosen:this})};e.prototype.update_results_content=function(d){return this.search_results.html(d)};e.prototype.results_hide=function(){this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this}));return this.results_showing=!1};e.prototype.set_tab_index=function(d){if(this.form_field.tabIndex)return d=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=d};e.prototype.set_label_behavior=
function(){this.form_field_label=this.form_field_jq.parents("label");!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=r("label[for='"+this.form_field.id+"']"));if(0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)};e.prototype.show_search_field_default=function(){if(this.is_multiple&&1>this.choices_count()&&!this.active_field)return this.search_field.val(this.default_text),this.search_field.addClass("default");this.search_field.val("");
return this.search_field.removeClass("default")};e.prototype.search_results_mouseup=function(d){var k=r(d.target).hasClass("active-result")?r(d.target):r(d.target).parents(".active-result").first();if(k.length)return this.result_highlight=k,this.result_select(d),this.search_field.focus()};e.prototype.search_results_mouseover=function(d){if(d=r(d.target).hasClass("active-result")?r(d.target):r(d.target).parents(".active-result").first())return this.result_do_highlight(d)};e.prototype.search_results_mouseout=
function(d){if(r(d.target).hasClass("active-result")||r(d.target).parents(".active-result").first())return this.result_clear_highlight()};e.prototype.choice_build=function(d){var k=r("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(d)+"</span>");d.disabled?k.addClass("search-choice-disabled"):(d=r("<a />",{"class":"search-choice-close","data-option-array-index":d.array_index}),d.on("click.chosen",function(v){return function(u){return v.choice_destroy_link_click(u)}}(this)),k.append(d));
return this.search_container.before(k)};e.prototype.choice_destroy_link_click=function(d){d.preventDefault();d.stopPropagation();if(!this.is_disabled)return this.choice_destroy(r(d.target))};e.prototype.choice_destroy=function(d){if(this.result_deselect(d[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&1>this.get_search_field_value().length&&this.results_hide(),d.parents("li").first().remove(),
this.search_field_scale()};e.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=!0;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.trigger_form_field_change();if(this.active_field)return this.results_hide()};e.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};e.prototype.result_select=function(d){if(this.result_highlight){var k=
this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.is_multiple?k.removeClass("active-result"):this.reset_single_select_options();k.addClass("result-selected");k=this.results_data[k[0].getAttribute("data-option-array-index")];k.selected=!0;this.form_field.options[k.options_index].selected=!0;this.selected_option_count=null;this.is_multiple?this.choice_build(k):
this.single_set_selected_text(this.choice_label(k));this.is_multiple&&(!this.hide_results_on_select||d.metaKey||d.ctrlKey)?d.metaKey||d.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default());(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[k.options_index].value});this.current_selectedIndex=this.form_field.selectedIndex;
d.preventDefault();return this.search_field_scale()}};e.prototype.single_set_selected_text=function(d){null==d&&(d=this.default_text);d===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default"));return this.selected_item.find("span").html(d)};e.prototype.result_deselect=function(d){d=this.results_data[d];if(this.form_field.options[d.options_index].disabled)return!1;d.selected=!1;this.form_field.options[d.options_index].selected=
!1;this.selected_option_count=null;this.result_clear_highlight();this.results_showing&&this.winnow_results();this.trigger_form_field_change({deselected:this.form_field.options[d.options_index].value});this.search_field_scale();return!0};e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")};
e.prototype.get_search_field_value=function(){return this.search_field.val()};e.prototype.get_search_text=function(){return r.trim(this.get_search_field_value())};e.prototype.escape_html=function(d){return r("<div/>").text(d).html()};e.prototype.winnow_results_set_highlight=function(){var d=this.is_multiple?[]:this.search_results.find(".result-selected.active-result");d=d.length?d.first():this.search_results.find(".active-result").first();if(null!=d)return this.result_do_highlight(d)};e.prototype.no_results=
function(d){d=this.get_no_results_html(d);this.search_results.append(d);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};e.prototype.keydown_arrow=function(){var d;if(this.results_showing&&this.result_highlight){if(d=this.result_highlight.nextAll("li.active-result").first())return this.result_do_highlight(d)}else return this.results_show()};e.prototype.keyup_arrow=function(){if(!this.results_showing&&
!this.is_multiple)return this.results_show();if(this.result_highlight){var d=this.result_highlight.prevAll("li.active-result");if(d.length)return this.result_do_highlight(d.first());0<this.choices_count()&&this.results_hide();return this.result_clear_highlight()}};e.prototype.keydown_backstroke=function(){if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();var d=this.search_container.siblings("li.search-choice").last();if(d.length&&
!d.hasClass("search-choice-disabled"))return this.pending_backstroke=d,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")};e.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};e.prototype.search_field_scale=function(){var d;if(this.is_multiple){var k={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"};
var v="fontSize fontStyle fontWeight fontFamily lineHeight textTransform letterSpacing".split(" ");var u=0;for(d=v.length;u<d;u++){var I=v[u];k[I]=this.search_field.css(I)}u=r("<div />").css(k);u.text(this.get_search_field_value());r("body").append(u);d=u.width()+25;u.remove();this.container.is(":visible")&&(d=Math.min(this.container.outerWidth()-10,d));return this.search_field.width(d)}};e.prototype.trigger_form_field_change=function(d){this.form_field_jq.trigger("input",d);return this.form_field_jq.trigger("change",
d)};return e}(A)}).call(this);
(function(y){function E(n,A,r){this.init(n,A,r)}function w(){this.rules=[]}y.extend(E.prototype,{init:function(n,A,r){this.controller=n;this.condition=A;this.value=r;this.rules=[];this.controls=[]},evalCondition:function(n,A,r,x,h){if("=="==r)return this.checkBoolean(x)==this.checkBoolean(h);if("!="==r)return this.checkBoolean(x)!=this.checkBoolean(h);if(">="==r)return Number(h)>=Number(x);if("<="==r)return Number(h)<=Number(x);if(">"==r)return Number(h)>Number(x);if("<"==r)return Number(h)<Number(x);
if("()"==r)return window[x](n,A,h);if("any"==r)if(y.isArray(h))for(n=h.length-1;0<=n;n--){if(-1!==y.inArray(h[n],x.split(",")))return!0}else{if(-1!==y.inArray(h,x.split(",")))return!0}else if("not-any"==r)if(y.isArray(h))for(n=h.length-1;0<=n;n--){if(-1==y.inArray(h[n],x.split(",")))return!0}else{if(-1==y.inArray(h,x.split(",")))return!0}else if("contains"==r)if(y.isArray(h))for(n=h.length-1;0<=n;n--){if(-1!==y.inArray(h[n],x.split(",")))return!0}else if(-1!==y.inArray(h,x.split(",")))return!0;return!1},
checkBoolean:function(n){switch(n){case !0:case "true":case 1:case "1":n=!0;break;case null:case !1:case "false":case 0:case "0":n=!1}return n},checkCondition:function(n){if(!this.condition)return!0;'[data-depend-id="opt-depend-checkbox-1"]'==this.controller&&console.log(this.condition);var A=n.find(this.controller),r=this.getControlValue(n,A);if(void 0===r)return!1;r=this.normalizeValue(A,this.value,r);return this.evalCondition(n,A,this.condition,this.value,r)},normalizeValue:function(n,A,r){return"number"==
typeof A?parseFloat(r):r},getControlValue:function(n,A){return 1<A.length&&("radio"==A.attr("type")||"checkbox"==A.attr("type"))?A.filter(":checked").map(function(){return this.value}).get():"checkbox"==A.attr("type")||"radio"==A.attr("type")?A.is(":checked"):A.val()},createRule:function(n,A,r){n=new E(n,A,r);this.rules.push(n);return n},include:function(n){this.controls.push(n)},applyRule:function(n,A){A="undefined"==typeof A?this.checkCondition(n):A;var r=y.map(this.controls,function(x,h){return n.find(x)});
A?(y(r).each(function(){y(this).removeClass("csf-depend-on")}),y(this.rules).each(function(){this.applyRule(n)})):(y(r).each(function(){y(this).addClass("csf-depend-on")}),y(this.rules).each(function(){this.applyRule(n,!1)}))}});y.extend(w.prototype,{createRule:function(n,A,r){n=new E(n,A,r);this.rules.push(n);return n},applyRules:function(n){y(this.rules).each(function(){this.applyRule(n)})}});y.csf_deps={createRuleset:function(){return new w},enable:function(n,A,r){n.on("change keyup",function(x){x=
x.target.getAttribute("data-depend-id")||x.target.getAttribute("data-sub-depend-id");-1!==r.indexOf(x)&&A.applyRules(n)});A.applyRules(n);return!0}}})(jQuery);
(function(y,E){"function"===typeof define&&define.amd?define(["exports","jquery"],function(w,n){return E(w,n)}):"undefined"!==typeof exports?(y=require("jquery"),E(exports,y)):E(y,y.jQuery||y.Zepto||y.ender||y.$)})(this,function(y,E){function w(A,r){var x={},h={};this.addPair=function(e){if(!n.validate.test(e.name))return this;var d=e.name;e=e.value;for(var k=d.match(n.key),v;void 0!==(v=k.pop());)if(n.push.test(v)){v=d.replace(/\[\]$/,"");void 0===h[v]&&(h[v]=0);v=h[v]++;var u=[];u[v]=e;e=u}else n.fixed.test(v)?
(u=[],u[v]=e,e=u):n.named.test(v)&&(u={},u[v]=e,e=u);x=A.extend(!0,x,e);return this};this.addPairs=function(e){if(!A.isArray(e))throw Error("formSerializer.addPairs expects an Array");for(var d=0,k=e.length;d<k;d++)this.addPair(e[d]);return this};this.serialize=function(){return x};this.serializeJSON=function(){return JSON.stringify(x)}}var n={validate:/^(?!(_nonce|_pseudo))[a-zA-Z0-9_-]*(?:\[(?:\d*|(?!(_nonce|_pseudo))[a-zA-Z0-9_-]+)\])*$/i,key:/[a-zA-Z0-9_-]+|(?=\[\])/g,named:/^[a-zA-Z0-9_-]+$/,
push:/^$/,fixed:/^\d+$/};w.patterns=n;w.serializeObject=function(){return(new w(E,this)).addPairs(this.serializeArray()).serialize()};w.serializeJSON=function(){return(new w(E,this)).addPairs(this.serializeArray()).serializeJSON()};"undefined"!==typeof E.fn&&(E.fn.serializeObjectCSF=w.serializeObject,E.fn.serializeJSONCSF=w.serializeJSON);return y.FormSerializer=w});
