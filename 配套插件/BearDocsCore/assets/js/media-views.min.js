var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(f,g,d){f instanceof String&&(f=String(f));for(var b=f.length,c=0;c<b;c++){var a=f[c];if(g.call(d,a,c,f))return{i:c,v:a}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,g,d){if(f==Array.prototype||f==Object.prototype)return f;f[g]=d.value;return f};$jscomp.getGlobal=function(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var g=0;g<f.length;++g){var d=f[g];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(f,g){var d=$jscomp.propertyToPolyfillSymbol[g];if(null==d)return f[g];d=f[d];return void 0!==d?d:f[g]};
$jscomp.polyfill=function(f,g,d,b){g&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(f,g,d,b):$jscomp.polyfillUnisolated(f,g,d,b))};$jscomp.polyfillUnisolated=function(f,g,d,b){d=$jscomp.global;f=f.split(".");for(b=0;b<f.length-1;b++){var c=f[b];if(!(c in d))return;d=d[c]}f=f[f.length-1];b=d[f];g=g(b);g!=b&&null!=g&&$jscomp.defineProperty(d,f,{configurable:!0,writable:!0,value:g})};
$jscomp.polyfillIsolated=function(f,g,d,b){var c=f.split(".");f=1===c.length;b=c[0];b=!f&&b in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var a=0;a<c.length-1;a++){var e=c[a];if(!(e in b))return;b=b[e]}c=c[c.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?b[c]:null;g=g(d);null!=g&&(f?$jscomp.defineProperty($jscomp.polyfills,c,{configurable:!0,writable:!0,value:g}):g!==d&&($jscomp.propertyToPolyfillSymbol[c]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(c):$jscomp.POLYFILL_PREFIX+c,c=
$jscomp.propertyToPolyfillSymbol[c],$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:g})))};$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(g,d){return $jscomp.findInternal(this,g,d).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(f){var g=0;return function(){return g<f.length?{done:!1,value:f[g++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(f){if(f)return f;var g=function(c,a){this.$jscomp$symbol$id_=c;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:a})};g.prototype.toString=function(){return this.$jscomp$symbol$id_};var d=0,b=function(c){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new g("jscomp_symbol_"+(c||"")+"_"+d++,c)};return b},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(f){if(f)return f;f=Symbol("Symbol.iterator");for(var g="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<g.length;d++){var b=$jscomp.global[g[d]];"function"===typeof b&&"function"!=typeof b.prototype[f]&&$jscomp.defineProperty(b.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return f},"es6",
"es3");$jscomp.iteratorPrototype=function(f){f={next:f};f[Symbol.iterator]=function(){return this};return f};$jscomp.iteratorFromArray=function(f,g){f instanceof String&&(f+="");var d=0,b=!1,c={next:function(){if(!b&&d<f.length){var a=d++;return{value:g(a,f[a]),done:!1}}b=!0;return{done:!0,value:void 0}}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(g){return g})}},"es6","es3");
(function(f){function g(b){if(d[b])return d[b].exports;var c=d[b]={i:b,l:!1,exports:{}};f[b].call(c.exports,c,c.exports,g);c.l=!0;return c.exports}var d={};g.m=f;g.c=d;g.d=function(b,c,a){g.o(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:a})};g.r=function(b){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})};g.t=function(b,c){c&1&&(b=g(b));if(c&8||c&4&&"object"===typeof b&&b&&b.__esModule)return b;
var a=Object.create(null);g.r(a);Object.defineProperty(a,"default",{enumerable:!0,value:b});if(c&2&&"string"!=typeof b)for(var e in b)g.d(a,e,function(h){return b[h]}.bind(null,e));return a};g.n=function(b){var c=b&&b.__esModule?function(){return b["default"]}:function(){return b};g.d(c,"a",c);return c};g.o=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};g.p="";return g(g.s=3)})({"+B8m":function(f,g){var d=wp.media.view.Settings.AttachmentDisplay;g=d.extend({className:"embed-media-settings",
template:wp.template("embed-image-settings"),initialize:function(){d.prototype.initialize.apply(this,arguments);this.listenTo(this.model,"change:url",this.updateImage)},updateImage:function(){this.$("img").attr("src",this.model.get("url"))}});f.exports=g},"+mQJ":function(f,g){var d=wp.media.View,b=jQuery,c=wp.media.view.l10n;g=d.extend({tagName:"span",className:"embed-url",events:{input:"url"},initialize:function(){this.$input=b('<input id="embed-url-field" type="url" />').attr("aria-label",c.insertFromUrlTitle).val(this.model.get("url"));
this.input=this.$input[0];this.spinner=b('<span class="spinner" />')[0];this.$el.append([this.input,this.spinner]);this.listenTo(this.model,"change:url",this.render);this.model.get("url")&&_.delay(_.bind(function(){this.model.trigger("change:url")},this),500)},render:function(){if(!this.$input.is(":focus"))return this.input.value=this.model.get("url")||"http://",d.prototype.render.apply(this,arguments),this},url:function(a){this.model.set("url",(a.target.value||"").trim())}});f.exports=g},"04Ix":function(f,
g){var d=wp.i18n._n,b=wp.i18n.sprintf;g=wp.media.View.extend({tagName:"div",className:"media-selection",template:wp.template("media-selection"),events:{"click .edit-selection":"edit","click .clear-selection":"clear"},initialize:function(){_.defaults(this.options,{editable:!1,clearable:!0});this.attachments=new wp.media.view.Attachments.Selection({controller:this.controller,collection:this.collection,selection:this.collection,model:new Backbone.Model});this.views.set(".selection-view",this.attachments);
this.collection.on("add remove reset",this.refresh,this);this.controller.on("content:activate",this.refresh,this)},ready:function(){this.refresh()},refresh:function(){if(this.$el.children().length){var c=this.collection,a="edit-selection"===this.controller.content.mode();this.$el.toggleClass("empty",!c.length);this.$el.toggleClass("one",1===c.length);this.$el.toggleClass("editing",a);this.$(".count").text(b(d("%s item selected","%s items selected",c.length),c.length))}},edit:function(c){c.preventDefault();
this.options.editable&&this.options.editable.call(this,this.collection)},clear:function(c){c.preventDefault();this.collection.reset();this.controller.modal.focusManager.focus()}});f.exports=g},"1S4+":function(f,g){var d=jQuery;g=wp.media.View.extend({tagName:"select",className:"attachment-filters",id:"media-attachment-filters",events:{change:"change"},keys:[],initialize:function(){this.createFilters();_.extend(this.filters,this.options.filters);this.$el.html(_.chain(this.filters).map(function(b,c){return{el:d("<option></option>").val(c).html(b.text)[0],
priority:b.priority||50}},this).sortBy("priority").pluck("el").value());this.listenTo(this.model,"change",this.select);this.select()},createFilters:function(){this.filters={}},change:function(){var b=this.filters[this.el.value];b&&this.model.set(b.props)},select:function(){var b="all",c=this.model.toJSON();_.find(this.filters,function(a,e){if(_.all(a.props,function(h,k){return h===(_.isUndefined(c[k])?null:c[k])}))return b=e});this.$el.val(b)}});f.exports=g},"2AvB":function(f,g){var d=wp.media.view.Settings;
g=d.extend({className:"attachment-display-settings",template:wp.template("attachment-display-settings"),initialize:function(){var b=this.options.attachment;_.defaults(this.options,{userSettings:!1});d.prototype.initialize.apply(this,arguments);this.listenTo(this.model,"change:link",this.updateLinkTo);if(b)b.on("change:uploading",this.render,this)},dispose:function(){var b=this.options.attachment;b&&b.off(null,null,this);d.prototype.dispose.apply(this,arguments)},render:function(){var b=this.options.attachment;
b&&_.extend(this.options,{sizes:b.get("sizes"),type:b.get("type")});d.prototype.render.call(this);this.updateLinkTo();return this},updateLinkTo:function(){var b=this.model.get("link"),c=this.$(".link-to-custom"),a=this.options.attachment;"none"===b||"embed"===b||!a&&"custom"!==b?c.closest(".setting").addClass("hidden"):(a&&("post"===b?c.val(a.get("link")):"file"===b?c.val(a.get("url")):this.model.get("linkUrl")||c.val("http://"),c.prop("readonly","custom"!==b)),c.closest(".setting").removeClass("hidden"),
c.length&&c[0].scrollIntoView())}});f.exports=g},"2NU8":function(f,g){var d=wp.media.View;g=d.extend({tagName:"div",className:"media-toolbar",initialize:function(){var b=this.controller.state(),c=this.selection=b.get("selection");b=this.library=b.get("library");this._views={};this.primary=new wp.media.view.PriorityList;this.secondary=new wp.media.view.PriorityList;this.primary.$el.addClass("media-toolbar-primary search-form");this.secondary.$el.addClass("media-toolbar-secondary");this.views.set([this.secondary,
this.primary]);this.options.items&&this.set(this.options.items,{silent:!0});this.options.silent||this.render();if(c)c.on("add remove reset",this.refresh,this);if(b)b.on("add remove reset",this.refresh,this)},dispose:function(){this.selection&&this.selection.off(null,null,this);this.library&&this.library.off(null,null,this);return d.prototype.dispose.apply(this,arguments)},ready:function(){this.refresh()},set:function(b,c,a){a=a||{};if(_.isObject(b))_.each(b,function(h,k){this.set(k,h,{silent:!0})},
this);else{c instanceof Backbone.View||(c.classes=["media-button-"+b].concat(c.classes||[]),c=(new wp.media.view.Button(c)).render());c.controller=c.controller||this.controller;this._views[b]=c;var e=0>c.options.priority?"secondary":"primary";this[e].set(b,c,a)}a.silent||this.refresh();return this},get:function(b){return this._views[b]},unset:function(b,c){delete this._views[b];this.primary.unset(b,c);this.secondary.unset(b,c);c&&c.silent||this.refresh();return this},refresh:function(){var b=this.controller.state(),
c=b.get("library"),a=b.get("selection");_.each(this._views,function(e){if(e.model&&e.options&&e.options.requires){var h=e.options.requires,k=!1;a&&a.models&&(k=_.some(a.models,function(l){return!0===l.get("uploading")}));h.selection&&a&&!a.length?k=!0:h.library&&c&&!c.length&&(k=!0);e.model.set("disabled",k)}})}});f.exports=g},"2jku":function(f,g){g=wp.media.view.Attachment.extend({buttons:{check:!0}});f.exports=g},3:function(f,g,d){f.exports=d("tg/Y")},"3nJM":function(f,g){var d=jQuery;g=wp.media.View.extend({events:{keydown:"focusManagementMode"},
initialize:function(b){this.mode=b.mode||"constrainTabbing";this.tabsAutomaticActivation=b.tabsAutomaticActivation||!1},focusManagementMode:function(b){"constrainTabbing"===this.mode&&this.constrainTabbing(b);"tabsNavigation"===this.mode&&this.tabsNavigation(b)},getTabbables:function(){return this.$(":tabbable").not('.moxie-shim input[type="file"]')},focus:function(){this.$(".media-modal").trigger("focus")},constrainTabbing:function(b){if(9===b.keyCode){var c=this.getTabbables();if(c.last()[0]===
b.target&&!b.shiftKey)return c.first().focus(),!1;if(c.first()[0]===b.target&&b.shiftKey)return c.last().focus(),!1}},setAriaHiddenOnBodyChildren:function(b){var c=this;this.isBodyAriaHidden||(_.each(document.body.children,function(a){a!==b[0]&&c.elementShouldBeHidden(a)&&(a.setAttribute("aria-hidden","true"),c.ariaHiddenElements.push(a))}),this.isBodyAriaHidden=!0)},removeAriaHiddenFromBodyChildren:function(){_.each(this.ariaHiddenElements,function(b){b.removeAttribute("aria-hidden")});this.ariaHiddenElements=
[];this.isBodyAriaHidden=!1},elementShouldBeHidden:function(b){var c=b.getAttribute("role"),a=["alert","status","log","marquee","timer"];return!("SCRIPT"===b.tagName||b.hasAttribute("aria-hidden")||b.hasAttribute("aria-live")||-1!==a.indexOf(c))},isBodyAriaHidden:!1,ariaHiddenElements:[],tabs:d(),setupAriaTabs:function(){this.tabs=this.$('[role="tab"]');this.tabs.attr({"aria-selected":"false",tabIndex:"-1"});this.tabs.filter(".active").removeAttr("tabindex").attr("aria-selected","true")},tabsNavigation:function(b){var c=
"horizontal";-1!==[32,35,36,37,38,39,40].indexOf(b.which)&&("vertical"===this.$el.attr("aria-orientation")&&(c="vertical"),"horizontal"===c&&-1!==[38,40].indexOf(b.which)||"vertical"===c&&-1!==[37,39].indexOf(b.which)||this.switchTabs(b,this.tabs))},switchTabs:function(b){var c=b.which,a=this.tabs.index(d(b.target));switch(c){case 32:this.activateTab(this.tabs[a]);break;case 35:b.preventDefault();this.activateTab(this.tabs[this.tabs.length-1]);break;case 36:b.preventDefault();this.activateTab(this.tabs[0]);
break;case 37:case 38:b.preventDefault();b=0>a-1?this.tabs.length-1:a-1;this.activateTab(this.tabs[b]);break;case 39:case 40:b.preventDefault(),b=a+1===this.tabs.length?0:a+1,this.activateTab(this.tabs[b])}},activateTab:function(b){if(b)if(b.focus(),this.tabsAutomaticActivation)b.removeAttribute("tabindex"),b.setAttribute("aria-selected","true"),b.click();else d(b).on("click",function(){b.removeAttribute("tabindex");b.setAttribute("aria-selected","true")})}});f.exports=g},"4jjk":function(f,g){var d=
wp.media.view.l10n;g=wp.media.view.AttachmentFilters.extend({createFilters:function(){var b=this.model.get("type"),c=wp.media.view.settings.mimeTypes,a=window.userSettings?parseInt(window.userSettings.uid,10):0,e;c&&b&&(e=c[b]);this.filters={all:{text:e||d.allMediaItems,props:{uploadedTo:null,orderby:"date",order:"DESC",author:null},priority:10},uploaded:{text:d.uploadedToThisPost,props:{uploadedTo:wp.media.view.settings.post.id,orderby:"menuOrder",order:"ASC",author:null},priority:20},unattached:{text:d.unattached,
props:{uploadedTo:0,orderby:"menuOrder",order:"ASC",author:null},priority:50}};a&&(this.filters.mine={text:d.mine,props:{orderby:"date",order:"DESC",author:a},priority:50})}});f.exports=g},"4tHu":function(f,g){var d=wp.media.view.l10n;g=wp.media.controller.State.extend({defaults:{id:"edit-image",title:d.editImage,menu:!1,toolbar:"edit-image",content:"edit-image",url:""},activate:function(){this.frame.on("toolbar:render:edit-image",_.bind(this.toolbar,this))},deactivate:function(){this.frame.off("toolbar:render:edit-image")},
toolbar:function(){var b=this.frame,c=b.lastState(),a=c&&c.id;b.toolbar.set(new wp.media.view.Toolbar({controller:b,items:{back:{style:"primary",text:d.back,priority:20,click:function(){a?b.setState(a):b.close()}}}}))}});f.exports=g},"6B7g":function(f,g){var d=wp.media.view.MediaFrame.Select,b=wp.media.controller.Library,c=wp.media.view.l10n;g=d.extend({initialize:function(){this.counts={audio:{count:wp.media.view.settings.attachmentCounts.audio,state:"playlist"},video:{count:wp.media.view.settings.attachmentCounts.video,
state:"video-playlist"}};_.defaults(this.options,{multiple:!0,editing:!1,state:"insert",metadata:{}});d.prototype.initialize.apply(this,arguments);this.createIframeStates()},createStates:function(){var a=this.options;this.states.add([new b({id:"insert",title:c.insertMediaTitle,priority:20,toolbar:"main-insert",filterable:"all",library:wp.media.query(a.library),multiple:a.multiple?"reset":!1,editable:!0,allowLocalEdits:!0,displaySettings:!0,displayUserSettings:!0}),new b({id:"gallery",title:c.createGalleryTitle,
priority:40,toolbar:"main-gallery",filterable:"uploaded",multiple:"add",editable:!1,library:wp.media.query(_.defaults({type:"image"},a.library))}),new wp.media.controller.Embed({metadata:a.metadata}),new wp.media.controller.EditImage({model:a.editImage}),new wp.media.controller.GalleryEdit({library:a.selection,editing:a.editing,menu:"gallery"}),new wp.media.controller.GalleryAdd,new b({id:"playlist",title:c.createPlaylistTitle,priority:60,toolbar:"main-playlist",filterable:"uploaded",multiple:"add",
editable:!1,library:wp.media.query(_.defaults({type:"audio"},a.library))}),new wp.media.controller.CollectionEdit({type:"audio",collectionType:"playlist",title:c.editPlaylistTitle,SettingsView:wp.media.view.Settings.Playlist,library:a.selection,editing:a.editing,menu:"playlist",dragInfoText:c.playlistDragInfo,dragInfo:!1}),new wp.media.controller.CollectionAdd({type:"audio",collectionType:"playlist",title:c.addToPlaylistTitle}),new b({id:"video-playlist",title:c.createVideoPlaylistTitle,priority:60,
toolbar:"main-video-playlist",filterable:"uploaded",multiple:"add",editable:!1,library:wp.media.query(_.defaults({type:"video"},a.library))}),new wp.media.controller.CollectionEdit({type:"video",collectionType:"playlist",title:c.editVideoPlaylistTitle,SettingsView:wp.media.view.Settings.Playlist,library:a.selection,editing:a.editing,menu:"video-playlist",dragInfoText:c.videoPlaylistDragInfo,dragInfo:!1}),new wp.media.controller.CollectionAdd({type:"video",collectionType:"playlist",title:c.addToVideoPlaylistTitle})]);
wp.media.view.settings.post.featuredImageId&&this.states.add(new wp.media.controller.FeaturedImage)},bindHandlers:function(){d.prototype.bindHandlers.apply(this,arguments);this.on("activate",this.activate,this);"undefined"!==typeof _.find(this.counts,function(a){return 0===a.count})&&this.listenTo(wp.media.model.Attachments.all,"change:type",this.mediaTypeCounts);this.on("menu:create:gallery",this.createMenu,this);this.on("menu:create:playlist",this.createMenu,this);this.on("menu:create:video-playlist",
this.createMenu,this);this.on("toolbar:create:main-insert",this.createToolbar,this);this.on("toolbar:create:main-gallery",this.createToolbar,this);this.on("toolbar:create:main-playlist",this.createToolbar,this);this.on("toolbar:create:main-video-playlist",this.createToolbar,this);this.on("toolbar:create:featured-image",this.featuredImageToolbar,this);this.on("toolbar:create:main-embed",this.mainEmbedToolbar,this);_.each({menu:{"default":"mainMenu",gallery:"galleryMenu",playlist:"playlistMenu","video-playlist":"videoPlaylistMenu"},
content:{embed:"embedContent","edit-image":"editImageContent","edit-selection":"editSelectionContent"},toolbar:{"main-insert":"mainInsertToolbar","main-gallery":"mainGalleryToolbar","gallery-edit":"galleryEditToolbar","gallery-add":"galleryAddToolbar","main-playlist":"mainPlaylistToolbar","playlist-edit":"playlistEditToolbar","playlist-add":"playlistAddToolbar","main-video-playlist":"mainVideoPlaylistToolbar","video-playlist-edit":"videoPlaylistEditToolbar","video-playlist-add":"videoPlaylistAddToolbar"}},
function(a,e){_.each(a,function(h,k){this.on(e+":render:"+k,this[h],this)},this)},this)},activate:function(){_.each(this.counts,function(a){1>a.count&&this.menuItemVisibility(a.state,"hide")},this)},mediaTypeCounts:function(a,e){"undefined"!==typeof this.counts[e]&&1>this.counts[e].count&&(this.counts[e].count++,this.menuItemVisibility(this.counts[e].state,"show"))},mainMenu:function(a){a.set({"library-separator":new wp.media.View({className:"separator",priority:100,attributes:{role:"presentation"}})})},
menuItemVisibility:function(a,e){var h=this.menu.get();"hide"===e?h.hide(a):"show"===e&&h.show(a)},galleryMenu:function(a){var e=this.lastState(),h=e&&e.id,k=this;a.set({cancel:{text:c.cancelGalleryTitle,priority:20,click:function(){h?k.setState(h):k.close();this.controller.modal.focusManager.focus()}},separateCancel:new wp.media.View({className:"separator",priority:40})})},playlistMenu:function(a){var e=this.lastState(),h=e&&e.id,k=this;a.set({cancel:{text:c.cancelPlaylistTitle,priority:20,click:function(){h?
k.setState(h):k.close();this.controller.modal.focusManager.focus()}},separateCancel:new wp.media.View({className:"separator",priority:40})})},videoPlaylistMenu:function(a){var e=this.lastState(),h=e&&e.id,k=this;a.set({cancel:{text:c.cancelVideoPlaylistTitle,priority:20,click:function(){h?k.setState(h):k.close();this.controller.modal.focusManager.focus()}},separateCancel:new wp.media.View({className:"separator",priority:40})})},embedContent:function(){var a=(new wp.media.view.Embed({controller:this,
model:this.state()})).render();this.content.set(a)},editSelectionContent:function(){var a=this.state(),e=a.get("selection");a=(new wp.media.view.AttachmentsBrowser({controller:this,collection:e,selection:e,model:a,sortable:!0,search:!1,date:!1,dragInfo:!0,AttachmentView:wp.media.view.Attachments.EditSelection})).render();a.toolbar.set("backToLibrary",{text:c.returnToLibrary,priority:-100,click:function(){this.controller.content.mode("browse");this.controller.modal.focusManager.focus()}});this.content.set(a);
this.trigger("edit:selection",this)},editImageContent:function(){var a=this.state().get("image");a=(new wp.media.view.EditImage({model:a,controller:this})).render();this.content.set(a);a.loadEditor()},selectionStatusToolbar:function(a){var e=this.state().get("editable");a.set("selection",(new wp.media.view.Selection({controller:this,collection:this.state().get("selection"),priority:-40,editable:e&&function(){this.controller.content.mode("edit-selection")}})).render())},mainInsertToolbar:function(a){var e=
this;this.selectionStatusToolbar(a);a.set("insert",{style:"primary",priority:80,text:c.insertIntoPost,requires:{selection:!0},click:function(){var h=e.state(),k=h.get("selection");e.close();h.trigger("insert",k).reset()}})},mainGalleryToolbar:function(a){var e=this;this.selectionStatusToolbar(a);a.set("gallery",{style:"primary",text:c.createNewGallery,priority:60,requires:{selection:!0},click:function(){var h=e.state().get("selection"),k=e.state("gallery-edit"),l=h.where({type:"image"});k.set("library",
new wp.media.model.Selection(l,{props:h.props.toJSON(),multiple:!0}));this.controller.setState("gallery-edit");this.controller.modal.focusManager.focus()}})},mainPlaylistToolbar:function(a){var e=this;this.selectionStatusToolbar(a);a.set("playlist",{style:"primary",text:c.createNewPlaylist,priority:100,requires:{selection:!0},click:function(){var h=e.state().get("selection"),k=e.state("playlist-edit"),l=h.where({type:"audio"});k.set("library",new wp.media.model.Selection(l,{props:h.props.toJSON(),
multiple:!0}));this.controller.setState("playlist-edit");this.controller.modal.focusManager.focus()}})},mainVideoPlaylistToolbar:function(a){var e=this;this.selectionStatusToolbar(a);a.set("video-playlist",{style:"primary",text:c.createNewVideoPlaylist,priority:100,requires:{selection:!0},click:function(){var h=e.state().get("selection"),k=e.state("video-playlist-edit"),l=h.where({type:"video"});k.set("library",new wp.media.model.Selection(l,{props:h.props.toJSON(),multiple:!0}));this.controller.setState("video-playlist-edit");
this.controller.modal.focusManager.focus()}})},featuredImageToolbar:function(a){this.createSelectToolbar(a,{text:c.setFeaturedImage,state:this.options.state})},mainEmbedToolbar:function(a){a.view=new wp.media.view.Toolbar.Embed({controller:this})},galleryEditToolbar:function(){var a=this.state().get("editing");this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:a?c.updateGallery:c.insertGallery,priority:80,requires:{library:!0},click:function(){var e=this.controller,
h=e.state();e.close();h.trigger("update",h.get("library"));e.setState(e.options.state);e.reset()}}}}))},galleryAddToolbar:function(){this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:c.addToGallery,priority:80,requires:{selection:!0},click:function(){var a=this.controller,e=a.state();a.state("gallery-edit").get("library").add(e.get("selection").models);e.trigger("reset");a.setState("gallery-edit");this.controller.modal.focusManager.focus()}}}}))},playlistEditToolbar:function(){var a=
this.state().get("editing");this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:a?c.updatePlaylist:c.insertPlaylist,priority:80,requires:{library:!0},click:function(){var e=this.controller,h=e.state();e.close();h.trigger("update",h.get("library"));e.setState(e.options.state);e.reset()}}}}))},playlistAddToolbar:function(){this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:c.addToPlaylist,priority:80,requires:{selection:!0},
click:function(){var a=this.controller,e=a.state();a.state("playlist-edit").get("library").add(e.get("selection").models);e.trigger("reset");a.setState("playlist-edit");this.controller.modal.focusManager.focus()}}}}))},videoPlaylistEditToolbar:function(){var a=this.state().get("editing");this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:a?c.updateVideoPlaylist:c.insertVideoPlaylist,priority:140,requires:{library:!0},click:function(){var e=this.controller,
h=e.state(),k=h.get("library");k.type="video";e.close();h.trigger("update",k);e.setState(e.options.state);e.reset()}}}}))},videoPlaylistAddToolbar:function(){this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:c.addToVideoPlaylist,priority:140,requires:{selection:!0},click:function(){var a=this.controller,e=a.state();a.state("video-playlist-edit").get("library").add(e.get("selection").models);e.trigger("reset");a.setState("video-playlist-edit");this.controller.modal.focusManager.focus()}}}}))}});
f.exports=g},"72mI":function(f,g){var d=wp.media.View,b=wp.media.view.settings.mediaTrash,c=wp.media.view.l10n,a=jQuery,e=wp.media.view.settings.infiniteScrolling,h=wp.i18n.__,k=wp.i18n.sprintf;g=d.extend({tagName:"div",className:"attachments-browser",initialize:function(){_.defaults(this.options,{filters:!1,search:!0,date:!0,display:!1,sidebar:!0,AttachmentView:wp.media.view.Attachment.Library});this.controller.on("toggle:upload:attachment",this.toggleUploader,this);this.controller.on("edit:selection",
this.editSelection);this.options.sidebar&&"errors"===this.options.sidebar&&this.createSidebar();this.controller.isModeActive("grid")?(this.createUploader(),this.createToolbar()):(this.createToolbar(),this.createUploader());this.createAttachmentsHeading();this.createAttachmentsWrapperView();e||(this.$el.addClass("has-load-more"),this.createLoadMoreView());this.options.sidebar&&"errors"!==this.options.sidebar&&this.createSidebar();this.updateContent();e||this.updateLoadMoreView();this.options.sidebar&&
"errors"!==this.options.sidebar||(this.$el.addClass("hide-sidebar"),"errors"===this.options.sidebar&&this.$el.addClass("sidebar-for-errors"));this.collection.on("add remove reset",this.updateContent,this);if(!e)this.collection.on("add remove reset",this.updateLoadMoreView,this);this.collection.on("attachments:received",this.announceSearchResults,this)},announceSearchResults:_.debounce(function(){var l=h("Number of media items displayed: %d. Click load more for more results.");e&&(l=h("Number of media items displayed: %d. Scroll the page for more results."));
if(this.collection.mirroring.args.s){var m=this.collection.length;0===m?wp.a11y.speak(c.noMediaTryNewSearch):this.collection.hasMore()?wp.a11y.speak(l.replace("%d",m)):wp.a11y.speak(c.mediaFound.replace("%d",m))}},200),editSelection:function(l){l.$(".media-button-backToLibrary").focus()},dispose:function(){this.options.selection.off(null,null,this);d.prototype.dispose.apply(this,arguments);return this},createToolbar:function(){var l=-1!==a.inArray(this.options.filters,["uploaded","all"]);var m={controller:this.controller};
this.controller.isModeActive("grid")&&(m.className="media-toolbar wp-filter");this.toolbar=new wp.media.view.Toolbar(m);this.views.add(this.toolbar);this.toolbar.set("spinner",new wp.media.view.Spinner({priority:-20}));(l||this.options.date)&&this.toolbar.set("filters-heading",(new wp.media.view.Heading({priority:-100,text:c.filterAttachments,level:"h2",className:"media-attachments-filter-heading"})).render());if(l)if(this.toolbar.set("filtersLabel",(new wp.media.view.Label({value:c.filterByType,
attributes:{"for":"media-attachment-filters"},priority:-80})).render()),"uploaded"===this.options.filters)this.toolbar.set("filters",(new wp.media.view.AttachmentFilters.Uploaded({controller:this.controller,model:this.collection.props,priority:-80})).render());else{var t=new wp.media.view.AttachmentFilters.All({controller:this.controller,model:this.collection.props,priority:-80});this.toolbar.set("filters",t.render())}this.controller.isModeActive("grid")?(m=d.extend({className:"view-switch media-grid-view-switch",
template:wp.template("media-library-view-switcher")}),this.toolbar.set("libraryViewSwitcher",(new m({controller:this.controller,priority:-90})).render()),this.toolbar.set("dateFilterLabel",(new wp.media.view.Label({value:c.filterByDate,attributes:{"for":"media-attachment-date-filters"},priority:-75})).render()),this.toolbar.set("dateFilter",(new wp.media.view.DateFilter({controller:this.controller,model:this.collection.props,priority:-75})).render()),this.toolbar.set("selectModeToggleButton",(new wp.media.view.SelectModeToggleButton({text:c.bulkSelect,
controller:this.controller,priority:-70})).render()),this.toolbar.set("deleteSelectedButton",(new wp.media.view.DeleteSelectedButton({filters:t,style:"primary",disabled:!0,text:b?c.trashSelected:c.deletePermanently,controller:this.controller,priority:-80,click:function(){var p=[],q=[],r=this.controller.state().get("selection"),u=this.controller.state().get("library");!r.length||!b&&!window.confirm(c.warnBulkDelete)||b&&"trash"!==r.at(0).get("status")&&!window.confirm(c.warnBulkTrash)||(r.each(function(n){n.get("nonces")["delete"]?
b&&"trash"===n.get("status")?(n.set("status","inherit"),p.push(n.save()),q.push(n)):b?(n.set("status","trash"),p.push(n.save()),q.push(n)):n.destroy({wait:!0}):q.push(n)}),p.length?(r.remove(q),a.when.apply(null,p).then(_.bind(function(){u._requery(!0);this.controller.trigger("selection:action:done")},this))):this.controller.trigger("selection:action:done"))}})).render()),b&&this.toolbar.set("deleteSelectedPermanentlyButton",(new wp.media.view.DeleteSelectedPermanentlyButton({filters:t,style:"link button-link-delete",
disabled:!0,text:c.deletePermanently,controller:this.controller,priority:-55,click:function(){var p=[],q=[],r=this.controller.state().get("selection");r.length&&window.confirm(c.warnBulkDelete)&&(r.each(function(u){u.get("nonces")["delete"]?q.push(u):p.push(u)}),p.length&&r.remove(p),q.length&&a.when.apply(null,q.map(function(u){return u.destroy()})).then(_.bind(function(){this.controller.trigger("selection:action:done")},this)))}})).render())):this.options.date&&(this.toolbar.set("dateFilterLabel",
(new wp.media.view.Label({value:c.filterByDate,attributes:{"for":"media-attachment-date-filters"},priority:-75})).render()),this.toolbar.set("dateFilter",(new wp.media.view.DateFilter({controller:this.controller,model:this.collection.props,priority:-75})).render()));this.options.search&&(this.toolbar.set("searchLabel",(new wp.media.view.Label({value:c.searchLabel,className:"media-search-input-label",attributes:{"for":"media-search-input"},priority:60})).render()),this.toolbar.set("search",(new wp.media.view.Search({controller:this.controller,
model:this.collection.props,priority:60})).render()));this.options.dragInfo&&this.toolbar.set("dragInfo",new d({el:a('<div class="instructions">'+c.dragInfo+"</div>")[0],priority:-40}));this.options.suggestedWidth&&this.options.suggestedHeight&&this.toolbar.set("suggestedDimensions",new d({el:a('<div class="instructions">'+c.suggestedDimensions.replace("%1$s",this.options.suggestedWidth).replace("%2$s",this.options.suggestedHeight)+"</div>")[0],priority:-40}))},updateContent:function(){var l=this;
var m=this.controller.isModeActive("grid")?l.attachmentsNoResults:l.uploader;this.collection.length?(m.$el.addClass("hidden"),l.toolbar.get("spinner").hide()):(this.toolbar.get("spinner").show(),this.dfd=this.collection.more().done(function(){l.collection.length?m.$el.addClass("hidden"):m.$el.removeClass("hidden");l.toolbar.get("spinner").hide()}))},createUploader:function(){this.uploader=new wp.media.view.UploaderInline({controller:this.controller,status:!1,message:this.controller.isModeActive("grid")?
"":c.noItemsFound,canClose:this.controller.isModeActive("grid")});this.uploader.$el.addClass("hidden");this.views.add(this.uploader)},toggleUploader:function(){this.uploader.$el.hasClass("hidden")?this.uploader.show():this.uploader.hide()},createAttachmentsWrapperView:function(){this.attachmentsWrapper=new wp.media.View({className:"attachments-wrapper"});this.views.add(this.attachmentsWrapper);this.createAttachments()},createAttachments:function(){this.attachments=new wp.media.view.Attachments({controller:this.controller,
collection:this.collection,selection:this.options.selection,model:this.model,sortable:this.options.sortable,scrollElement:this.options.scrollElement,idealColumnWidth:this.options.idealColumnWidth,AttachmentView:this.options.AttachmentView});this.controller.on("attachment:keydown:arrow",_.bind(this.attachments.arrowEvent,this.attachments));this.controller.on("attachment:details:shift-tab",_.bind(this.attachments.restoreFocus,this.attachments));this.views.add(".attachments-wrapper",this.attachments);
this.controller.isModeActive("grid")&&(this.attachmentsNoResults=new d({controller:this.controller,tagName:"p"}),this.attachmentsNoResults.$el.addClass("hidden no-media"),this.attachmentsNoResults.$el.html(c.noMedia),this.views.add(this.attachmentsNoResults))},createLoadMoreView:function(){var l=this;this.loadMoreWrapper=new d({controller:this.controller,className:"load-more-wrapper"});this.loadMoreCount=new d({controller:this.controller,tagName:"p",className:"load-more-count hidden"});this.loadMoreButton=
new wp.media.view.Button({text:h("Load more"),className:"load-more hidden",style:"primary",size:"",click:function(){l.loadMoreAttachments()}});this.loadMoreSpinner=new wp.media.view.Spinner;this.loadMoreJumpToFirst=new wp.media.view.Button({text:h("Jump to first loaded item"),className:"load-more-jump hidden",size:"",click:function(){l.jumpToFirstAddedItem()}});this.views.add(".attachments-wrapper",this.loadMoreWrapper);this.views.add(".load-more-wrapper",this.loadMoreSpinner);this.views.add(".load-more-wrapper",
this.loadMoreCount);this.views.add(".load-more-wrapper",this.loadMoreButton);this.views.add(".load-more-wrapper",this.loadMoreJumpToFirst)},updateLoadMoreView:_.debounce(function(){this.loadMoreButton.$el.addClass("hidden");this.loadMoreCount.$el.addClass("hidden");this.loadMoreJumpToFirst.$el.addClass("hidden").prop("disabled",!0);this.collection.getTotalAttachments()&&(this.collection.length&&(this.loadMoreCount.$el.text(k(h("Showing %1$s of %2$s media items"),this.collection.length,this.collection.getTotalAttachments())),
this.loadMoreCount.$el.removeClass("hidden")),this.collection.hasMore()&&this.loadMoreButton.$el.removeClass("hidden"),this.firstAddedMediaItem=this.$el.find(".attachment").eq(this.firstAddedMediaItemIndex),this.firstAddedMediaItem.length&&(this.firstAddedMediaItem.addClass("new-media"),this.loadMoreJumpToFirst.$el.removeClass("hidden").prop("disabled",!1)),this.firstAddedMediaItem.length&&!this.collection.hasMore()&&this.loadMoreJumpToFirst.$el.trigger("focus"))},10),loadMoreAttachments:function(){var l=
this;this.collection.hasMore()&&(this.firstAddedMediaItemIndex=this.collection.length,this.$el.addClass("more-loaded"),this.collection.each(function(m){a('[data-id="'+m.attributes.id+'"]').addClass("found-media")}),l.loadMoreSpinner.show(),this.collection.once("attachments:received",function(){l.loadMoreSpinner.hide()}),this.collection.more())},jumpToFirstAddedItem:function(){this.firstAddedMediaItem.focus()},createAttachmentsHeading:function(){this.attachmentsHeading=new wp.media.view.Heading({text:c.attachmentsList,
level:"h2",className:"media-views-heading screen-reader-text"});this.views.add(this.attachmentsHeading)},createSidebar:function(){var l=this.options.selection,m=this.sidebar=new wp.media.view.Sidebar({controller:this.controller});this.views.add(m);this.controller.uploader&&m.set("uploads",new wp.media.view.UploaderStatus({controller:this.controller,priority:40}));l.on("selection:single",this.createSingle,this);l.on("selection:unsingle",this.disposeSingle,this);l.single()&&this.createSingle()},createSingle:function(){var l=
this.sidebar,m=this.options.selection.single();l.set("details",new wp.media.view.Attachment.Details({controller:this.controller,model:m,priority:80}));l.set("compat",new wp.media.view.AttachmentCompat({controller:this.controller,model:m,priority:120}));this.options.display&&l.set("display",new wp.media.view.Settings.AttachmentDisplay({controller:this.controller,model:this.model.display(m),attachment:m,priority:160,userSettings:this.model.get("displayUserSettings")}));"insert"===this.model.id&&l.$el.addClass("visible")},
disposeSingle:function(){var l=this.sidebar;l.unset("details");l.unset("compat");l.unset("display");l.$el.removeClass("visible")}});f.exports=g},"76BF":function(f,g){g=wp.media.view.Settings.extend({className:"collection-settings playlist-settings",template:wp.template("playlist-settings")});f.exports=g},"7Bpz":function(f,g){var d=wp.media.View;g=d.extend({tagName:"div",className:"uploader-inline",template:wp.template("uploader-inline"),events:{"click .close":"hide"},initialize:function(){_.defaults(this.options,
{message:"",status:!0,canClose:!1});!this.options.$browser&&this.controller.uploader&&(this.options.$browser=this.controller.uploader.$browser);_.isUndefined(this.options.postId)&&(this.options.postId=wp.media.view.settings.post.id);this.options.status&&this.views.set(".upload-inline-status",new wp.media.view.UploaderStatus({controller:this.controller}))},prepare:function(){var b=this.controller.state().get("suggestedWidth"),c=this.controller.state().get("suggestedHeight"),a={};a.message=this.options.message;
a.canClose=this.options.canClose;b&&c&&(a.suggestedWidth=b,a.suggestedHeight=c);return a},dispose:function(){if(this.disposing)return d.prototype.dispose.apply(this,arguments);this.disposing=!0;return this.remove()},remove:function(){var b=d.prototype.remove.apply(this,arguments);_.defer(_.bind(this.refresh,this));return b},refresh:function(){var b=this.controller.uploader;b&&b.refresh()},ready:function(){var b=this.options.$browser;if(this.controller.uploader){var c=this.$(".browser");if(c[0]===
b[0])return;b.detach().text(c.text());b[0].className=c[0].className;b[0].setAttribute("aria-labelledby",b[0].id+" "+c[0].getAttribute("aria-labelledby"));c.replaceWith(b.show())}this.refresh();return this},show:function(){this.$el.removeClass("hidden");this.controller.$uploaderToggler&&this.controller.$uploaderToggler.length&&this.controller.$uploaderToggler.attr("aria-expanded","true")},hide:function(){this.$el.addClass("hidden");this.controller.$uploaderToggler&&this.controller.$uploaderToggler.length&&
this.controller.$uploaderToggler.attr("aria-expanded","false").trigger("focus")}});f.exports=g},"99yY":function(f,g){var d=wp.media.controller.Library,b=wp.media.view.l10n;g=d.extend({defaults:{id:"gallery-edit",title:b.editGalleryTitle,multiple:!1,searchable:!1,sortable:!0,date:!1,display:!1,content:"browse",toolbar:"gallery-edit",describe:!0,displaySettings:!0,dragInfo:!0,idealColumnWidth:170,editing:!1,priority:60,syncSelection:!1},initialize:function(){this.get("library")||this.set("library",
new wp.media.model.Selection);this.get("AttachmentView")||this.set("AttachmentView",wp.media.view.Attachment.EditLibrary);d.prototype.initialize.apply(this,arguments)},activate:function(){this.get("library").props.set("type","image");this.get("library").observe(wp.Uploader.queue);this.frame.on("content:render:browse",this.gallerySettings,this);d.prototype.activate.apply(this,arguments)},deactivate:function(){this.get("library").unobserve(wp.Uploader.queue);this.frame.off("content:render:browse",this.gallerySettings,
this);d.prototype.deactivate.apply(this,arguments)},gallerySettings:function(c){if(this.get("displaySettings")){var a=this.get("library");a&&c&&(a.gallery=a.gallery||new Backbone.Model,c.sidebar.set({gallery:new wp.media.view.Settings.Gallery({controller:this,model:a.gallery,priority:40})}),c.toolbar.set("reverse",{text:b.reverseOrder,priority:80,click:function(){a.reset(a.toArray().reverse())}}))}}});f.exports=g},"9ARG":function(f,g){g=wp.media.view.PriorityList.extend({className:"media-sidebar"});
f.exports=g},Bbnu:function(f,g){g=wp.Backbone.View.extend({constructor:function(d){d&&d.controller&&(this.controller=d.controller);wp.Backbone.View.apply(this,arguments)},dispose:function(){this.undelegateEvents();this.model&&this.model.off&&this.model.off(null,null,this);this.collection&&this.collection.off&&this.collection.off(null,null,this);this.controller&&this.controller.off&&this.controller.off(null,null,this);return this},remove:function(){this.dispose();return wp.Backbone.View.prototype.remove.apply(this,
arguments)}});f.exports=g},EVvK:function(f,g){var d=wp.media.view.Menu;g=d.extend({tagName:"div",className:"media-router",property:"contentMode",ItemView:wp.media.view.RouterItem,region:"router",attributes:{role:"tablist","aria-orientation":"horizontal"},initialize:function(){this.controller.on("content:render",this.update,this);d.prototype.initialize.apply(this,arguments)},update:function(){var b=this.controller.content.mode();b&&this.select(b)}});f.exports=g},EvXF:function(f,g){g=wp.media.view.Attachment.extend({buttons:{close:!0}});
f.exports=g},"F/kE":function(f,g){var d=window.getUserSetting,b=window.setUserSetting;g=wp.media.controller.State.extend({defaults:{id:"library",title:wp.media.view.l10n.mediaLibraryTitle,multiple:!1,content:"upload",menu:"default",router:"browse",toolbar:"select",searchable:!0,filterable:!1,sortable:!0,autoSelect:!0,describe:!1,contentUserSetting:!0,syncSelection:!0},initialize:function(){var c=this.get("selection");this.get("library")||this.set("library",wp.media.query());c instanceof wp.media.model.Selection||
(c||(c=this.get("library").props.toJSON(),c=_.omit(c,"orderby","query")),this.set("selection",new wp.media.model.Selection(null,{multiple:this.get("multiple"),props:c})));this.resetDisplays()},activate:function(){this.syncSelection();wp.Uploader.queue.on("add",this.uploading,this);this.get("selection").on("add remove reset",this.refreshContent,this);this.get("router")&&this.get("contentUserSetting")&&(this.frame.on("content:activate",this.saveContentMode,this),this.set("content",d("libraryContent",
this.get("content"))))},deactivate:function(){this.recordSelection();this.frame.off("content:activate",this.saveContentMode,this);this.get("selection").off(null,null,this);wp.Uploader.queue.off(null,null,this)},reset:function(){this.get("selection").reset();this.resetDisplays();this.refreshContent()},resetDisplays:function(){var c=wp.media.view.settings.defaultProps;this._displays=[];this._defaultDisplaySettings={align:d("align",c.align)||"none",size:d("imgsize",c.size)||"medium",link:d("urlbutton",
c.link)||"none"}},display:function(c){var a=this._displays;a[c.cid]||(a[c.cid]=new Backbone.Model(this.defaultDisplaySettings(c)));return a[c.cid]},defaultDisplaySettings:function(c){var a=_.clone(this._defaultDisplaySettings);a.canEmbed=this.canEmbed(c);a.canEmbed?a.link="embed":this.isImageAttachment(c)||"none"!==a.link||(a.link="file");return a},isImageAttachment:function(c){return c.get("uploading")?/\.(jpe?g|png|gif|webp)$/i.test(c.get("filename")):"image"===c.get("type")},canEmbed:function(c){if(!c.get("uploading")){var a=
c.get("type");if("audio"!==a&&"video"!==a)return!1}return _.contains(wp.media.view.settings.embedExts,c.get("filename").split(".").pop())},refreshContent:function(){var c=this.get("selection"),a=this.frame,e=a.router.get();a=a.content.mode();this.active&&!c.length&&e&&!e.get(a)&&this.frame.content.render(this.get("content"))},uploading:function(c){"upload"===this.frame.content.mode()&&this.frame.content.mode("browse");this.get("autoSelect")&&(this.get("selection").add(c),this.frame.trigger("library:selection:add"))},
saveContentMode:function(){if("browse"===this.get("router")){var c=this.frame.content.mode(),a=this.frame.router.get();a&&a.get(c)&&b("libraryContent",c)}}});_.extend(g.prototype,wp.media.selectionSync);f.exports=g},GXJ6:function(f,g){var d=wp.media.view.Settings.AttachmentDisplay,b=jQuery;g=d.extend({className:"image-details",template:wp.template("image-details"),events:_.defaults(d.prototype.events,{"click .edit-attachment":"editAttachment","click .replace-attachment":"replaceAttachment","click .advanced-toggle":"onToggleAdvanced",
'change [data-setting="customWidth"]':"onCustomSize",'change [data-setting="customHeight"]':"onCustomSize",'keyup [data-setting="customWidth"]':"onCustomSize",'keyup [data-setting="customHeight"]':"onCustomSize"}),initialize:function(){this.options.attachment=this.model.attachment;this.listenTo(this.model,"change:url",this.updateUrl);this.listenTo(this.model,"change:link",this.toggleLinkSettings);this.listenTo(this.model,"change:size",this.toggleCustomSize);d.prototype.initialize.apply(this,arguments)},
prepare:function(){var c=!1;this.model.attachment&&(c=this.model.attachment.toJSON());return _.defaults({model:this.model.toJSON(),attachment:c},this.options)},render:function(){var c=arguments;this.model.attachment&&"pending"===this.model.dfd.state()?this.model.dfd.done(_.bind(function(){d.prototype.render.apply(this,c);this.postRender()},this)).fail(_.bind(function(){this.model.attachment=!1;d.prototype.render.apply(this,c);this.postRender()},this)):(d.prototype.render.apply(this,arguments),this.postRender());
return this},postRender:function(){setTimeout(_.bind(this.scrollToTop,this),10);this.toggleLinkSettings();"show"===window.getUserSetting("advImgDetails")&&this.toggleAdvanced(!0);this.trigger("post-render")},scrollToTop:function(){this.$(".embed-media-settings").scrollTop(0)},updateUrl:function(){this.$(".image img").attr("src",this.model.get("url"));this.$(".url").val(this.model.get("url"))},toggleLinkSettings:function(){"none"===this.model.get("link")?this.$(".link-settings").addClass("hidden"):
this.$(".link-settings").removeClass("hidden")},toggleCustomSize:function(){"custom"!==this.model.get("size")?this.$(".custom-size").addClass("hidden"):this.$(".custom-size").removeClass("hidden")},onCustomSize:function(c){var a=b(c.target).data("setting"),e=b(c.target).val();!/^\d+/.test(e)||1>parseInt(e,10)?c.preventDefault():"customWidth"===a?(c=Math.round(1/this.model.get("aspectRatio")*e),this.model.set("customHeight",c,{silent:!0}),this.$('[data-setting="customHeight"]').val(c)):(c=Math.round(this.model.get("aspectRatio")*
e),this.model.set("customWidth",c,{silent:!0}),this.$('[data-setting="customWidth"]').val(c))},onToggleAdvanced:function(c){c.preventDefault();this.toggleAdvanced()},toggleAdvanced:function(c){var a=this.$el.find(".advanced-section");a.hasClass("advanced-visible")||!1===c?(a.removeClass("advanced-visible"),a.find(".advanced-settings").addClass("hidden"),c="hide"):(a.addClass("advanced-visible"),a.find(".advanced-settings").removeClass("hidden"),c="show");window.setUserSetting("advImgDetails",c)},
editAttachment:function(c){var a=this.controller.states.get("edit-image");window.imageEdit&&a&&(c.preventDefault(),a.set("image",this.model.attachment),this.controller.setState("edit-image"))},replaceAttachment:function(c){c.preventDefault();this.controller.setState("replace-image")}});f.exports=g},GXkx:function(f,g){var d=wp.media.View,b=wp.media.view.l10n,c=jQuery;g=d.extend({tagName:"div",className:"uploader-editor",template:wp.template("uploader-editor"),localDrag:!1,overContainer:!1,overDropzone:!1,
draggingFile:null,initialize:function(){this.initialized=!1;if(!window.tinyMCEPreInit||!window.tinyMCEPreInit.dragDropUpload||!this.browserSupport())return this;this.$document=c(document);this.dropzones=[];this.files=[];this.$document.on("drop",".uploader-editor",_.bind(this.drop,this));this.$document.on("dragover",".uploader-editor",_.bind(this.dropzoneDragover,this));this.$document.on("dragleave",".uploader-editor",_.bind(this.dropzoneDragleave,this));this.$document.on("click",".uploader-editor",
_.bind(this.click,this));this.$document.on("dragover",_.bind(this.containerDragover,this));this.$document.on("dragleave",_.bind(this.containerDragleave,this));this.$document.on("dragstart dragend drop",_.bind(function(a){this.localDrag="dragstart"===a.type;"drop"===a.type&&this.containerDragleave()},this));this.initialized=!0;return this},browserSupport:function(){var a=document.createElement("div");return("draggable"in a||"ondragstart"in a&&"ondrop"in a)&&!!(window.File&&window.FileList&&window.FileReader)},
isDraggingFile:function(a){return null!==this.draggingFile?this.draggingFile:_.isUndefined(a.originalEvent)||_.isUndefined(a.originalEvent.dataTransfer)?!1:this.draggingFile=-1<_.indexOf(a.originalEvent.dataTransfer.types,"Files")&&-1===_.indexOf(a.originalEvent.dataTransfer.types,"text/plain")},refresh:function(a){for(var e in this.dropzones)this.dropzones[e].toggle(this.overContainer||this.overDropzone);_.isUndefined(a)||c(a.target).closest(".uploader-editor").toggleClass("droppable",this.overDropzone);
this.overContainer||this.overDropzone||(this.draggingFile=null);return this},render:function(){if(!this.initialized)return this;d.prototype.render.apply(this,arguments);c(".wp-editor-wrap").each(_.bind(this.attach,this));return this},attach:function(a,e){a=this.$el.clone();this.dropzones.push(a);c(e).append(a);return this},drop:function(a){this.containerDragleave(a);this.dropzoneDragleave(a);this.files=a.originalEvent.dataTransfer.files;if(!(1>this.files.length)){a=c(a.target).parents(".wp-editor-wrap");
0<a.length&&a[0].id&&(window.wpActiveEditor=a[0].id.slice(3,-5));if(this.workflow)this.workflow.state().reset(),this.addFiles.apply(this),this.workflow.open();else if(this.workflow=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:b.addMedia,multiple:!0}),a=this.workflow.uploader,a.uploader&&a.uploader.ready)this.addFiles.apply(this);else this.workflow.on("uploader:ready",this.addFiles,this);return!1}},addFiles:function(){this.files.length&&(this.workflow.uploader.uploader.uploader.addFile(_.toArray(this.files)),
this.files=[]);return this},containerDragover:function(a){!this.localDrag&&this.isDraggingFile(a)&&(this.overContainer=!0,this.refresh())},containerDragleave:function(){this.overContainer=!1;_.delay(_.bind(this.refresh,this),50)},dropzoneDragover:function(a){if(!this.localDrag&&this.isDraggingFile(a))return this.overDropzone=!0,this.refresh(a),!1},dropzoneDragleave:function(a){this.overDropzone=!1;_.delay(_.bind(this.refresh,this,a),50)},click:function(a){this.containerDragleave(a);this.dropzoneDragleave(a);
this.localDrag=!1}});f.exports=g},I7TD:function(f,g){var d=wp.media.model.Attachment,b=wp.media.controller.Library;g=b.extend({defaults:_.defaults({id:"featured-image",title:wp.media.view.l10n.setFeaturedImageTitle,multiple:!1,filterable:"uploaded",toolbar:"featured-image",priority:60,syncSelection:!0},b.prototype.defaults),initialize:function(){this.get("library")||this.set("library",wp.media.query({type:"image"}));b.prototype.initialize.apply(this,arguments);var c=this.get("library");var a=c.comparator;
c.comparator=function(e,h){var k=!!this.mirroring.get(e.cid),l=!!this.mirroring.get(h.cid);return!k&&l?-1:k&&!l?1:a.apply(this,arguments)};c.observe(this.get("selection"))},activate:function(){this.frame.on("open",this.updateSelection,this);b.prototype.activate.apply(this,arguments)},deactivate:function(){this.frame.off("open",this.updateSelection,this);b.prototype.deactivate.apply(this,arguments)},updateSelection:function(){var c=this.get("selection"),a=wp.media.view.settings.post.featuredImageId;
if(""!==a&&-1!==a){var e=d.get(a);e.fetch()}c.reset(e?[e]:[])}});f.exports=g},IgEq:function(f,g){var d=wp.media.view.Toolbar,b=wp.media.view.l10n;g=d.extend({initialize:function(){var c=this.options;_.bindAll(this,"clickSelect");_.defaults(c,{event:"select",state:!1,reset:!0,close:!0,text:b.select,requires:{selection:!0}});c.items=_.defaults(c.items||{},{select:{style:"primary",text:c.text,priority:80,click:this.clickSelect,requires:c.requires}});d.prototype.initialize.apply(this,arguments)},clickSelect:function(){var c=
this.options,a=this.controller;c.close&&a.close();c.event&&a.state().trigger(c.event);c.state&&a.setState(c.state);c.reset&&a.reset()}});f.exports=g},IkWq:function(f,g){var d=wp.media.controller.State;g=d.extend({defaults:_.defaults({id:"image-details",title:wp.media.view.l10n.imageDetailsTitle,content:"image-details",menu:!1,router:!1,toolbar:"image-details",editing:!1,priority:60},wp.media.controller.Library.prototype.defaults),initialize:function(b){this.image=b.image;d.prototype.initialize.apply(this,
arguments)},activate:function(){this.frame.modal.$el.addClass("image-details")}});f.exports=g},JecU:function(f,g){var d=jQuery;g=wp.media.view.Settings.extend({className:"embed-link-settings",template:wp.template("embed-link-settings"),initialize:function(){this.listenTo(this.model,"change:url",this.updateoEmbed)},updateoEmbed:_.debounce(function(){var b=this.model.get("url");this.$(".embed-container").hide().find(".embed-preview").empty();this.$(".setting").hide();b&&(11>b.length||!b.match(/^http(s)?:\/\//))||
this.fetch()},wp.media.controller.Embed.sensitivity),fetch:function(){var b=this.model.get("url"),c;d("#embed-url-field").val()===b&&(this.dfd&&"pending"===this.dfd.state()&&this.dfd.abort(),(c=/https?:\/\/www\.youtube\.com\/embed\/([^/]+)/.exec(b))&&(b="https://www.youtube.com/watch?v="+c[1]),this.dfd=wp.apiRequest({url:wp.media.view.settings.oEmbedProxyUrl,data:{url:b,maxwidth:this.model.get("width"),maxheight:this.model.get("height")},type:"GET",dataType:"json",context:this}).done(function(a){this.renderoEmbed({data:{body:a.html||
""}})}).fail(this.renderFail))},renderFail:function(b,c){"abort"!==c&&this.$(".link-text").show()},renderoEmbed:function(b){(b=b&&b.data&&b.data.body||"")?this.$(".embed-container").show().find(".embed-preview").html(b):this.renderFail()}});f.exports=g},Ju2C:function(f,g){var d=wp.media.view.PriorityList;g=d.extend({tagName:"div",className:"media-menu",property:"state",ItemView:wp.media.view.MenuItem,region:"menu",attributes:{role:"tablist","aria-orientation":"horizontal"},initialize:function(){this._views=
{};this.set(_.extend({},this._views,this.options.views),{silent:!0});delete this.options.views;this.options.silent||this.render();this.focusManager=new wp.media.view.FocusManager({el:this.el,mode:"tabsNavigation"});this.isVisible=!0},toView:function(b,c){b=b||{};b[this.property]=b[this.property]||c;return(new this.ItemView(b)).render()},ready:function(){d.prototype.ready.apply(this,arguments);this.visibility();this.focusManager.setupAriaTabs()},set:function(){d.prototype.set.apply(this,arguments);
this.visibility()},unset:function(){d.prototype.unset.apply(this,arguments);this.visibility()},visibility:function(){var b=this.region,c=this.controller[b].get(),a=this.views.get();a=!a||2>a.length;this===c&&(this.isVisible=!a,this.controller.$el.toggleClass("hide-"+b,a))},select:function(b){if(b=this.get(b))this.deselect(),b.$el.addClass("active"),this.focusManager.setupAriaTabs()},deselect:function(){this.$el.children().removeClass("active")},hide:function(b){(b=this.get(b))&&b.$el.addClass("hidden")},
show:function(b){(b=this.get(b))&&b.$el.removeClass("hidden")}});f.exports=g},KerO:function(f,g){var d=wp.media.view.l10n;g=wp.media.view.AttachmentFilters.extend({createFilters:function(){var b={},c=window.userSettings?parseInt(window.userSettings.uid,10):0;_.each(wp.media.view.settings.mimeTypes||{},function(a,e){b[e]={text:a,props:{status:null,type:e,uploadedTo:null,orderby:"date",order:"DESC",author:null}}});b.all={text:d.allMediaItems,props:{status:null,type:null,uploadedTo:null,orderby:"date",
order:"DESC",author:null},priority:10};wp.media.view.settings.post.id&&(b.uploaded={text:d.uploadedToThisPost,props:{status:null,type:null,uploadedTo:wp.media.view.settings.post.id,orderby:"menuOrder",order:"ASC",author:null},priority:20});b.unattached={text:d.unattached,props:{status:null,uploadedTo:0,type:null,orderby:"menuOrder",order:"ASC",author:null},priority:50};c&&(b.mine={text:d.mine,props:{status:null,type:null,uploadedTo:null,orderby:"date",order:"DESC",author:c},priority:50});wp.media.view.settings.mediaTrash&&
this.controller.isModeActive("grid")&&(b.trash={text:d.trash,props:{uploadedTo:null,status:"trash",type:null,orderby:"date",order:"DESC",author:null},priority:50});this.filters=b}});f.exports=g},LGdN:function(f,g){g=wp.media.View.extend({initialize:function(){_.defaults(this.options,{mode:["select"]});this._createRegions();this._createStates();this._createModes()},_createRegions:function(){this.regions=this.regions?this.regions.slice():[];_.each(this.regions,function(d){this[d]=new wp.media.controller.Region({view:this,
id:d,selector:".media-frame-"+d})},this)},_createStates:function(){this.states=new Backbone.Collection(null,{model:wp.media.controller.State});this.states.on("add",function(d){d.frame=this;d.trigger("ready")},this);this.options.states&&this.states.add(this.options.states)},_createModes:function(){this.activeModes=new Backbone.Collection;this.activeModes.on("add remove reset",_.bind(this.triggerModeEvents,this));_.each(this.options.mode,function(d){this.activateMode(d)},this)},reset:function(){this.states.invoke("trigger",
"reset");return this},triggerModeEvents:function(d,b,c){var a;b={add:"activate",remove:"deactivate"};_.each(c,function(e,h){e&&(a=h)});_.has(b,a)&&(d=d.get("id")+":"+b[a],this.trigger(d))},activateMode:function(d){if(!this.isModeActive(d))return this.activeModes.add([{id:d}]),this.$el.addClass("mode-"+d),this},deactivateMode:function(d){if(!this.isModeActive(d))return this;this.activeModes.remove(this.activeModes.where({id:d}));this.$el.removeClass("mode-"+d);this.trigger(d+":deactivate");return this},
isModeActive:function(d){return!!this.activeModes.where({id:d}).length}});_.extend(g.prototype,wp.media.controller.StateMachine.prototype);f.exports=g},LND6:function(f,g){var d=wp.media.View;g=d.extend({tagName:"form",className:"compat-item",events:{submit:"preventDefault","change input":"save","change select":"save","change textarea":"save"},initialize:function(){this.listenTo(this.model,"change:compat",this.render)},dispose:function(){this.$(":focus").length&&this.save();return d.prototype.dispose.apply(this,
arguments)},render:function(){var b=this.model.get("compat");if(b&&b.item)return this.views.detach(),this.$el.html(b.item),this.views.render(),this},preventDefault:function(b){b.preventDefault()},save:function(b){var c={};b&&b.preventDefault();_.each(this.$el.serializeArray(),function(a){c[a.name]=a.value});this.controller.trigger("attachment:compat:waiting",["waiting"]);this.model.saveCompat(c).always(_.bind(this.postSave,this))},postSave:function(){this.controller.trigger("attachment:compat:ready",
["ready"])}});f.exports=g},LZpE:function(f,g){g=wp.media.View.extend({tagName:"button",className:"media-button",attributes:{type:"button"},events:{click:"click"},defaults:{text:"",style:"",size:"large",disabled:!1},initialize:function(){this.model=new Backbone.Model(this.defaults);_.each(this.defaults,function(d,b){d=this.options[b];_.isUndefined(d)||(this.model.set(b,d),delete this.options[b])},this);this.listenTo(this.model,"change",this.render)},render:function(){var d=["button",this.className],
b=this.model.toJSON();b.style&&d.push("button-"+b.style);b.size&&d.push("button-"+b.size);d=_.uniq(d.concat(this.options.classes));this.el.className=d.join(" ");this.$el.attr("disabled",b.disabled);this.$el.text(this.model.get("text"));return this},click:function(d){"#"===this.attributes.href&&d.preventDefault();this.options.click&&!this.model.get("disabled")&&this.options.click.apply(this,arguments)}});f.exports=g},"M+xU":function(f,g){var d=wp.media.view.l10n;g=wp.media.controller.State.extend({defaults:{id:"cropper",
title:d.cropImage,toolbar:"crop",content:"crop",router:!1,canSkipCrop:!1,doCropArgs:{}},activate:function(){this.frame.on("content:create:crop",this.createCropContent,this);this.frame.on("close",this.removeCropper,this);this.set("selection",new Backbone.Collection(this.frame._selection.single))},deactivate:function(){this.frame.toolbar.mode("browse")},createCropContent:function(){this.cropperView=new wp.media.view.Cropper({controller:this,attachment:this.get("selection").first()});this.cropperView.on("image-loaded",
this.createCropToolbar,this);this.frame.content.set(this.cropperView)},removeCropper:function(){this.imgSelect.cancelSelection();this.imgSelect.setOptions({remove:!0});this.imgSelect.update();this.cropperView.remove()},createCropToolbar:function(){var b=this.get("canSkipCrop")||!1;var c={controller:this.frame,items:{insert:{style:"primary",text:d.cropImage,priority:80,requires:{library:!1,selection:!1},click:function(){var a=this.controller;var e=a.state().get("selection").first();e.set({cropDetails:a.state().imgSelect.getSelection()});
this.$el.text(d.cropping);this.$el.attr("disabled",!0);a.state().doCrop(e).done(function(h){a.trigger("cropped",h);a.close()}).fail(function(){a.trigger("content:error:crop")})}}}};b&&_.extend(c.items,{skip:{style:"secondary",text:d.skipCropping,priority:70,requires:{library:!1,selection:!1},click:function(){var a=this.controller.state().get("selection").first();this.controller.state().cropperView.remove();this.controller.trigger("skippedcrop",a);this.controller.close()}}});this.frame.toolbar.set(new wp.media.view.Toolbar(c))},
doCrop:function(b){return wp.ajax.post("custom-header-crop",_.extend({},this.defaults.doCropArgs,{nonce:b.get("nonces").edit,id:b.get("id"),cropDetails:b.get("cropDetails")}))}});f.exports=g},M5ZC:function(f,g){var d=Backbone.Model.extend({constructor:function(){this.on("activate",this._preActivate,this);this.on("activate",this.activate,this);this.on("activate",this._postActivate,this);this.on("deactivate",this._deactivate,this);this.on("deactivate",this.deactivate,this);this.on("reset",this.reset,
this);this.on("ready",this._ready,this);this.on("ready",this.ready,this);Backbone.Model.apply(this,arguments);this.on("change:menu",this._updateMenu,this)},ready:function(){},activate:function(){},deactivate:function(){},reset:function(){},_ready:function(){this._updateMenu()},_preActivate:function(){this.active=!0},_postActivate:function(){this.on("change:menu",this._menu,this);this.on("change:titleMode",this._title,this);this.on("change:content",this._content,this);this.on("change:toolbar",this._toolbar,
this);this.frame.on("title:render:default",this._renderTitle,this);this._title();this._menu();this._toolbar();this._content();this._router()},_deactivate:function(){this.active=!1;this.frame.off("title:render:default",this._renderTitle,this);this.off("change:menu",this._menu,this);this.off("change:titleMode",this._title,this);this.off("change:content",this._content,this);this.off("change:toolbar",this._toolbar,this)},_title:function(){this.frame.title.render(this.get("titleMode")||"default")},_renderTitle:function(b){b.$el.text(this.get("title")||
"")},_router:function(){var b=this.frame.router,c=this.get("router");this.frame.$el.toggleClass("hide-router",!c);c&&(this.frame.router.render(c),(b=b.get())&&b.select&&b.select(this.frame.content.mode()))},_menu:function(){var b=this.frame.menu,c=this.get("menu");this.frame.$el.toggleClass("hide-menu",!c);c&&(b.mode(c),(b=b.get())&&b.select&&b.select(this.id))},_updateMenu:function(){var b=this.previous("menu"),c=this.get("menu");b&&this.frame.off("menu:render:"+b,this._renderMenu,this);if(c)this.frame.on("menu:render:"+
c,this._renderMenu,this)},_renderMenu:function(b){var c=this.get("menuItem"),a=this.get("title"),e=this.get("priority");!c&&a&&(c={text:a},e&&(c.priority=e));c&&b.set(this.id,c)}});_.each(["toolbar","content"],function(b){d.prototype["_"+b]=function(){var c=this.get(b);c&&this.frame[b].render(c)}});f.exports=d},"Mt+m":function(f,g){var d=wp.media.controller.Library,b=wp.media.view.l10n,c=jQuery;g=d.extend({defaults:{multiple:!1,sortable:!0,date:!1,searchable:!1,content:"browse",describe:!0,dragInfo:!0,
idealColumnWidth:170,editing:!1,priority:60,SettingsView:!1,syncSelection:!1},initialize:function(){var a=this.get("collectionType");"video"===this.get("type")&&(a="video-"+a);this.set("id",a+"-edit");this.set("toolbar",a+"-edit");this.get("library")||this.set("library",new wp.media.model.Selection);this.get("AttachmentView")||this.set("AttachmentView",wp.media.view.Attachment.EditLibrary);d.prototype.initialize.apply(this,arguments)},activate:function(){this.get("library").props.set("type",this.get("type"));
this.get("library").observe(wp.Uploader.queue);this.frame.on("content:render:browse",this.renderSettings,this);d.prototype.activate.apply(this,arguments)},deactivate:function(){this.get("library").unobserve(wp.Uploader.queue);this.frame.off("content:render:browse",this.renderSettings,this);d.prototype.deactivate.apply(this,arguments)},renderSettings:function(a){var e=this.get("library"),h=this.get("collectionType"),k=this.get("dragInfoText"),l=this.get("SettingsView"),m={};e&&a&&(e[h]=e[h]||new Backbone.Model,
m[h]=new l({controller:this,model:e[h],priority:40}),a.sidebar.set(m),k&&a.toolbar.set("dragInfo",new wp.media.View({el:c('<div class="instructions">'+k+"</div>")[0],priority:-40})),a.toolbar.set("reverse",{text:b.reverseOrder,priority:80,click:function(){e.reset(e.toArray().reverse())}}))}});f.exports=g},NguE:function(f,g){var d=wp.media.View;g=d.extend({className:"media-uploader-status",template:wp.template("uploader-status"),events:{"click .upload-dismiss-errors":"dismiss"},initialize:function(){this.queue=
wp.Uploader.queue;this.queue.on("add remove reset",this.visibility,this);this.queue.on("add remove reset change:percent",this.progress,this);this.queue.on("add remove reset change:uploading",this.info,this);this.errors=wp.Uploader.errors;this.errors.reset();this.errors.on("add remove reset",this.visibility,this);this.errors.on("add",this.error,this)},dispose:function(){wp.Uploader.queue.off(null,null,this);d.prototype.dispose.apply(this,arguments);return this},visibility:function(){this.$el.toggleClass("uploading",
!!this.queue.length);this.$el.toggleClass("errors",!!this.errors.length);this.$el.toggle(!!this.queue.length||!!this.errors.length)},ready:function(){_.each({$bar:".media-progress-bar div",$index:".upload-index",$total:".upload-total",$filename:".upload-filename"},function(b,c){this[c]=this.$(b)},this);this.visibility();this.progress();this.info()},progress:function(){var b=this.queue,c=this.$bar;c&&b.length&&c.width(b.reduce(function(a,e){if(!e.get("uploading"))return a+100;e=e.get("percent");return a+
(_.isNumber(e)?e:100)},0)/b.length+"%")},info:function(){var b=this.queue,c=0;if(b.length){var a=this.queue.find(function(e,h){c=h;return e.get("uploading")});this.$index&&this.$total&&this.$filename&&(this.$index.text(c+1),this.$total.text(b.length),this.$filename.html(a?this.filename(a.get("filename")):""))}},filename:function(b){return _.escape(b)},error:function(b){var c=new wp.media.view.UploaderStatusError({filename:this.filename(b.get("file").name),message:b.get("message")}),a=this.$el.find("button");
this.views.add(".upload-errors",c,{at:0});_.delay(function(){a.trigger("focus");wp.a11y.speak(b.get("message"),"assertive")},1E3)},dismiss:function(){var b=this.views.get(".upload-errors");b&&_.invoke(b,"remove");wp.Uploader.errors.reset();this.controller.modal&&this.controller.modal.focusManager.focus()}});f.exports=g},NjyZ:function(f,g){g=wp.media.View.extend({tagName:"div",initialize:function(){this._views={};this.set(_.extend({},this._views,this.options.views),{silent:!0});delete this.options.views;
this.options.silent||this.render()},set:function(d,b,c){var a;c=c||{};if(_.isObject(d))return _.each(d,function(h,k){this.set(k,h)},this),this;b instanceof Backbone.View||(b=this.toView(b,d,c));b.controller=b.controller||this.controller;this.unset(d);var e=b.options.priority||10;c=this.views.get()||[];_.find(c,function(h,k){if(h.options.priority>e)return a=k,!0});this._views[d]=b;this.views.add(b,{at:_.isNumber(a)?a:c.length||0});return this},get:function(d){return this._views[d]},unset:function(d){var b=
this.get(d);b&&b.remove();delete this._views[d];return this},toView:function(d){return new wp.media.View(d)}});f.exports=g},P6DV:function(f,g){g=wp.media.view.Attachment.Selection.extend({buttons:{close:!0}});f.exports=g},PgTd:function(f,g){f.exports={syncSelection:function(){var d=this.get("selection"),b=this.frame._selection;this.get("syncSelection")&&b&&d&&(d.multiple&&(d.reset([],{silent:!0}),d.validateAll(b.attachments),b.difference=_.difference(b.attachments.models,d.models)),d.single(b.single))},
recordSelection:function(){var d=this.get("selection"),b=this.frame._selection;this.get("syncSelection")&&b&&d&&(d.multiple?(b.attachments.reset(d.toArray().concat(b.difference)),b.difference=[]):b.attachments.add(d.toArray()),b.single=d._single)}}},Pt9x:function(f,g){var d=wp.media.view.Frame,b=wp.media.view.l10n,c=jQuery;var a=d.extend({className:"media-frame",template:wp.template("media-frame"),regions:["menu","title","content","toolbar","router"],events:{"click .media-frame-menu-toggle":"toggleMenu"},
initialize:function(){d.prototype.initialize.apply(this,arguments);_.defaults(this.options,{title:b.mediaFrameDefaultTitle,modal:!0,uploader:!0});this.$el.addClass("wp-core-ui");this.options.modal&&(this.modal=new wp.media.view.Modal({controller:this,title:this.options.title}),this.modal.content(this));if(wp.Uploader.limitExceeded||!wp.Uploader.browser.supported)this.options.uploader=!1;this.options.uploader&&(this.uploader=new wp.media.view.UploaderWindow({controller:this,uploader:{dropzone:this.modal?
this.modal.$el:this.$el,container:this.$el}}),this.views.set(".media-frame-uploader",this.uploader));this.on("attach",_.bind(this.views.ready,this.views),this);this.on("title:create:default",this.createTitle,this);this.title.mode("default");this.on("menu:create:default",this.createMenu,this);this.on("open",this.setMenuTabPanelAriaAttributes,this);this.on("open",this.setRouterTabPanelAriaAttributes,this);this.on("content:render",this.setMenuTabPanelAriaAttributes,this);this.on("content:render",this.setRouterTabPanelAriaAttributes,
this)},setMenuTabPanelAriaAttributes:function(){var e=this.state().get("id"),h=this.$el.find(".media-frame-tab-panel");h.removeAttr("role aria-labelledby tabindex");this.state().get("menu")&&this.menuView&&this.menuView.isVisible&&h.attr({role:"tabpanel","aria-labelledby":"menu-item-"+e,tabIndex:"0"})},setRouterTabPanelAriaAttributes:function(){var e=this.$el.find(".media-frame-content");e.removeAttr("role aria-labelledby tabindex");if(this.state().get("router")&&this.routerView&&this.routerView.isVisible&&
this.content._mode){var h="menu-item-"+this.content._mode;e.attr({role:"tabpanel","aria-labelledby":h,tabIndex:"0"})}},render:function(){!this.state()&&this.options.state&&this.setState(this.options.state);return d.prototype.render.apply(this,arguments)},createTitle:function(e){e.view=new wp.media.View({controller:this,tagName:"h1"})},createMenu:function(e){e.view=new wp.media.view.Menu({controller:this,attributes:{role:"tablist","aria-orientation":"vertical"}});this.menuView=e.view},toggleMenu:function(e){var h=
this.$el.find(".media-menu");h.toggleClass("visible");c(e.target).attr("aria-expanded",h.hasClass("visible"))},createToolbar:function(e){e.view=new wp.media.view.Toolbar({controller:this})},createRouter:function(e){e.view=new wp.media.view.Router({controller:this,attributes:{role:"tablist","aria-orientation":"horizontal"}});this.routerView=e.view},createIframeStates:function(e){var h=wp.media.view.settings,k=h.tabs,l=h.tabUrl;k&&l&&(h=c("#post_ID"),h.length&&(l+="&post_id="+h.val()),_.each(k,function(m,
t){this.state("iframe:"+t).set(_.defaults({tab:t,src:l+"&tab="+t,title:m,content:"iframe",menu:"default"},e))},this),this.on("content:create:iframe",this.iframeContent,this),this.on("content:deactivate:iframe",this.iframeContentCleanup,this),this.on("menu:render:default",this.iframeMenu,this),this.on("open",this.hijackThickbox,this),this.on("close",this.restoreThickbox,this))},iframeContent:function(e){this.$el.addClass("hide-toolbar");e.view=new wp.media.view.Iframe({controller:this})},iframeContentCleanup:function(){this.$el.removeClass("hide-toolbar")},
iframeMenu:function(e){var h={};e&&(_.each(wp.media.view.settings.tabs,function(k,l){h["iframe:"+l]={text:this.state("iframe:"+l).get("title"),priority:200}},this),e.set(h))},hijackThickbox:function(){var e=this;window.tb_remove&&!this._tb_remove&&(this._tb_remove=window.tb_remove,window.tb_remove=function(){e.close();e.reset();e.setState(e.options.state);e._tb_remove.call(window)})},restoreThickbox:function(){this._tb_remove&&(window.tb_remove=this._tb_remove,delete this._tb_remove)}});_.each(["open",
"close","attach","detach","escape"],function(e){a.prototype[e]=function(){this.modal&&this.modal[e].apply(this.modal,arguments);return this}});f.exports=a},"Q9T/":function(f,g){g=wp.media.view.MenuItem.extend({click:function(){var d=this.options.contentMode;d&&this.controller.content.mode(d)}});f.exports=g},S4jH:function(f,g){var d=jQuery;g=wp.media.View.extend({tagName:"div",className:"uploader-window",template:wp.template("uploader-window"),initialize:function(){this.$browser=d('<button type="button" class="browser" />').hide().appendTo("body");
var b=this.options.uploader=_.defaults(this.options.uploader||{},{dropzone:this.$el,browser:this.$browser,params:{}});!b.dropzone||b.dropzone instanceof d||(b.dropzone=d(b.dropzone));this.controller.on("activate",this.refresh,this);this.controller.on("detach",function(){this.$browser.remove()},this)},refresh:function(){this.uploader&&this.uploader.refresh()},ready:function(){var b=wp.media.view.settings.post.id;this.uploader||(b&&(this.options.uploader.params.post_id=b),this.uploader=new wp.Uploader(this.options.uploader),
b=this.uploader.dropzone,b.on("dropzone:enter",_.bind(this.show,this)),b.on("dropzone:leave",_.bind(this.hide,this)),d(this.uploader).on("uploader:ready",_.bind(this._ready,this)))},_ready:function(){this.controller.trigger("uploader:ready")},show:function(){var b=this.$el.show();_.defer(function(){b.css({opacity:1})})},hide:function(){var b=this.$el.css({opacity:0});wp.media.transition(b).done(function(){"0"===b.css("opacity")&&b.hide()});_.delay(function(){"0"===b.css("opacity")&&b.is(":visible")&&
b.hide()},500)}});f.exports=g},U3Se:function(f,g){var d=function(){return{extend:Backbone.Model.extend}};_.extend(d.prototype,Backbone.Events,{state:function(b){this.states=this.states||new Backbone.Collection;(b=b||this._state)&&!this.states.get(b)&&this.states.add({id:b});return this.states.get(b)},setState:function(b){var c=this.state();if(c&&b===c.id||!this.states||!this.states.get(b))return this;c&&(c.trigger("deactivate"),this._lastState=c.id);this._state=b;this.state().trigger("activate");
return this},lastState:function(){if(this._lastState)return this.state(this._lastState)}});_.each(["on","off","trigger"],function(b){d.prototype[b]=function(){this.states=this.states||new Backbone.Collection;this.states[b].apply(this.states,arguments);return this}});f.exports=d},UmHM:function(f,g){var d=wp.media.view;g=d.Cropper.extend({className:"crop-content site-icon",ready:function(){d.Cropper.prototype.ready.apply(this,arguments);this.$(".crop-image").on("load",_.bind(this.addSidebar,this))},
addSidebar:function(){this.sidebar=new wp.media.view.Sidebar({controller:this.controller});this.sidebar.set("preview",new wp.media.view.SiteIconPreview({controller:this.controller,attachment:this.options.attachment}));this.controller.cropperView.views.add(this.sidebar)}});f.exports=g},V6sy:function(f,g){g=wp.media.View.extend({tagName:"label",className:"screen-reader-text",initialize:function(){this.value=this.options.value},render:function(){this.$el.html(this.value);return this}});f.exports=g},
VIJ9:function(f,g){var d=wp.media.view.MediaFrame.Select,b=wp.media.view.l10n;g=d.extend({defaults:{id:"image",url:"",menu:"image-details",content:"image-details",toolbar:"image-details",type:"link",title:b.imageDetailsTitle,priority:120},initialize:function(c){this.image=new wp.media.model.PostImage(c.metadata);this.options.selection=new wp.media.model.Selection(this.image.attachment,{multiple:!1});d.prototype.initialize.apply(this,arguments)},bindHandlers:function(){d.prototype.bindHandlers.apply(this,
arguments);this.on("menu:create:image-details",this.createMenu,this);this.on("content:create:image-details",this.imageDetailsContent,this);this.on("content:render:edit-image",this.editImageContent,this);this.on("toolbar:render:image-details",this.renderImageDetailsToolbar,this);this.on("toolbar:render:replace",this.renderReplaceImageToolbar,this)},createStates:function(){this.states.add([new wp.media.controller.ImageDetails({image:this.image,editable:!1}),new wp.media.controller.ReplaceImage({id:"replace-image",
library:wp.media.query({type:"image"}),image:this.image,multiple:!1,title:b.imageReplaceTitle,toolbar:"replace",priority:80,displaySettings:!0}),new wp.media.controller.EditImage({image:this.image,selection:this.options.selection})])},imageDetailsContent:function(c){c.view=new wp.media.view.ImageDetails({controller:this,model:this.state().image,attachment:this.state().image.attachment})},editImageContent:function(){var c=this.state().get("image");c&&(c=(new wp.media.view.EditImage({model:c,controller:this})).render(),
this.content.set(c),c.loadEditor())},renderImageDetailsToolbar:function(){this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{select:{style:"primary",text:b.update,priority:80,click:function(){var c=this.controller,a=c.state();c.close();a.trigger("update",c.image.toJSON());c.setState(c.options.state);c.reset()}}}}))},renderReplaceImageToolbar:function(){var c=this,a=c.lastState(),e=a&&a.id;this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{back:{text:b.back,priority:80,
click:function(){e?c.setState(e):c.close()}},replace:{style:"primary",text:b.replace,priority:20,requires:{selection:!0},click:function(){var h=this.controller,k=h.state(),l=k.get("selection").single();h.close();h.image.changeAttachment(l,k.display(l));k.trigger("replace",h.image.toJSON());h.setState(h.options.state);h.reset()}}}}))}});f.exports=g},VMHs:function(f,g){g=wp.media.View.extend({className:"media-embed",initialize:function(){this.url=(new wp.media.view.EmbedUrl({controller:this.controller,
model:this.model.props})).render();this.views.set([this.url]);this.refresh();this.listenTo(this.model,"change:type",this.refresh);this.listenTo(this.model,"change:loading",this.loading)},settings:function(d){this._settings&&this._settings.remove();this._settings=d;this.views.add(d)},refresh:function(){var d=this.model.get("type");if("image"===d)d=wp.media.view.EmbedImage;else if("link"===d)d=wp.media.view.EmbedLink;else return;this.settings(new d({controller:this.controller,model:this.model.props,
priority:40}))},loading:function(){this.$el.toggleClass("embed-loading",this.model.get("loading"))}});f.exports=g},Vh02:function(f,g){var d=wp.media.View,b=wp.media.view.UploaderStatus,c=wp.media.view.l10n,a=jQuery;g=d.extend({className:"crop-content",template:wp.template("crop-content"),initialize:function(){_.bindAll(this,"onImageLoad")},ready:function(){this.controller.frame.on("content:error:crop",this.onError,this);this.$image=this.$el.find(".crop-image");this.$image.on("load",this.onImageLoad);
a(window).on("resize.cropper",_.debounce(this.onImageLoad,250))},remove:function(){a(window).off("resize.cropper");this.$el.remove();this.$el.off();d.prototype.remove.apply(this,arguments)},prepare:function(){return{title:c.cropYourImage,url:this.options.attachment.get("url")}},onImageLoad:function(){var e=this.controller.get("imgSelectOptions");"function"===typeof e&&(e=e(this.options.attachment,this.controller));e=_.extend(e,{parent:this.$el,onInit:function(){var k=h.getOptions().aspectRatio;this.parent.children().on("mousedown touchstart",
function(l){!k&&l.shiftKey&&h.setOptions({aspectRatio:"1:1"})});this.parent.children().on("mouseup touchend",function(){h.setOptions({aspectRatio:k?k:!1})})}});this.trigger("image-loaded");var h=this.controller.imgSelect=this.$image.imgAreaSelect(e)},onError:function(){var e=this.options.attachment.get("filename");this.views.add(".upload-errors",new wp.media.view.UploaderStatusError({filename:b.prototype.filename(e),message:window._wpMediaViewsL10n.cropError}),{at:0})}});f.exports=g},VkcK:function(f,
g){var d=wp.media.view.l10n;g=wp.media.view.AttachmentFilters.extend({id:"media-attachment-date-filters",createFilters:function(){var b={};_.each(wp.media.view.settings.months||{},function(c,a){b[a]={text:c.text,props:{year:c.year,monthnum:c.month}}});b.all={text:d.allDates,props:{monthnum:!1,year:!1},priority:10};this.filters=b}});f.exports=g},"W+32":function(f,g){g=wp.media.controller.Cropper.extend({activate:function(){this.frame.on("content:create:crop",this.createCropContent,this);this.frame.on("close",
this.removeCropper,this);this.set("selection",new Backbone.Collection(this.frame._selection.single))},createCropContent:function(){this.cropperView=new wp.media.view.SiteIconCropper({controller:this,attachment:this.get("selection").first()});this.cropperView.on("image-loaded",this.createCropToolbar,this);this.frame.content.set(this.cropperView)},doCrop:function(d){var b=d.get("cropDetails"),c=this.get("control");b.dst_width=c.params.width;b.dst_height=c.params.height;return wp.ajax.post("crop-image",
{nonce:d.get("nonces").edit,id:d.get("id"),context:"site-icon",cropDetails:b})}});f.exports=g},WiNq:function(f,g){g=function(d){_.extend(this,_.pick(d||{},"id","view","selector"))};g.extend=Backbone.Model.extend;_.extend(g.prototype,{mode:function(d){if(!d)return this._mode;if(d===this._mode)return this;this.trigger("deactivate");this._mode=d;this.render(d);this.trigger("activate");return this},render:function(d){if(d&&d!==this._mode)return this.mode(d);d={view:null};this.trigger("create",d);d=d.view;
this.trigger("render",d);d&&this.set(d);return this},get:function(){return this.view.views.first(this.selector)},set:function(d,b){b&&(b.add=!1);return this.view.views.set(this.selector,d,b)},trigger:function(d){if(this._mode){var b=_.toArray(arguments);var c=this.id+":"+d;b[0]=c+":"+this._mode;this.view.trigger.apply(this.view,b);b[0]=c;this.view.trigger.apply(this.view,b);return this}}});f.exports=g},ZeG4:function(f,g){g=wp.media.View.extend({className:"upload-error",template:wp.template("uploader-status-error")});
f.exports=g},ZgZ7:function(f,g){g=wp.media.View.extend({tagName:"input",className:"search",id:"media-search-input",attributes:{type:"search"},events:{input:"search"},render:function(){this.el.value=this.model.escape("search");return this},search:_.debounce(function(d){(d=d.target.value.trim())&&1<d.length?this.model.set("search",d):this.model.unset("search")},500)});f.exports=g},aBqq:function(f,g){var d=wp.media.controller.Library;g=d.extend({defaults:_.defaults({id:"replace-image",title:wp.media.view.l10n.replaceImageTitle,
multiple:!1,filterable:"uploaded",toolbar:"replace",menu:!1,priority:60,syncSelection:!0},d.prototype.defaults),initialize:function(b){this.image=b.image;this.get("library")||this.set("library",wp.media.query({type:"image"}));d.prototype.initialize.apply(this,arguments);var c=this.get("library");var a=c.comparator;c.comparator=function(e,h){var k=!!this.mirroring.get(e.cid),l=!!this.mirroring.get(h.cid);return!k&&l?-1:k&&!l?1:a.apply(this,arguments)};c.observe(this.get("selection"))},activate:function(){this.frame.on("content:render:browse",
this.updateSelection,this);d.prototype.activate.apply(this,arguments)},deactivate:function(){this.frame.off("content:render:browse",this.updateSelection,this);d.prototype.deactivate.apply(this,arguments)},updateSelection:function(){var b=this.get("selection"),c=this.image.attachment;b.reset(c?[c]:[])}});f.exports=g},cH3P:function(f,g){g=wp.media.View.extend({tagName:"span",className:"spinner",spinnerTimeout:!1,delay:400,show:function(){this.spinnerTimeout||(this.spinnerTimeout=_.delay(function(d){d.addClass("is-active")},
this.delay,this.$el));return this},hide:function(){this.$el.removeClass("is-active");this.spinnerTimeout=clearTimeout(this.spinnerTimeout);return this}});f.exports=g},d3xu:function(f,g){var d=jQuery;g=wp.media.View.extend({className:"site-icon-preview",template:wp.template("site-icon-preview"),ready:function(){this.controller.imgSelect.setOptions({onInit:this.updatePreview,onSelectChange:this.updatePreview})},prepare:function(){return{url:this.options.attachment.get("url")}},updatePreview:function(b,
c){b=64/c.width;var a=64/c.height,e=16/c.width,h=16/c.height;d("#preview-app-icon").css({width:Math.round(b*this.imageWidth)+"px",height:Math.round(a*this.imageHeight)+"px",marginLeft:"-"+Math.round(b*c.x1)+"px",marginTop:"-"+Math.round(a*c.y1)+"px"});d("#preview-favicon").css({width:Math.round(e*this.imageWidth)+"px",height:Math.round(h*this.imageHeight)+"px",marginLeft:"-"+Math.round(e*c.x1)+"px",marginTop:"-"+Math.floor(h*c.y1)+"px"})}});f.exports=g},dpRc:function(f,g){g=wp.media.View.extend({tagName:"button",
className:"media-menu-item",attributes:{type:"button",role:"tab"},events:{click:"_click"},_click:function(){var d=this.options.click;d?d.call(this):this.click()},click:function(){var d=this.options.state;d&&(this.controller.setState(d),this.views.parent.$el.removeClass("visible"))},render:function(){var d=this.options,b=d.state||d.contentMode;d.text?this.$el.text(d.text):d.html&&this.$el.html(d.html);this.$el.attr("id","menu-item-"+b);return this}});f.exports=g},eqTc:function(f,g){g=wp.media.controller.Cropper.extend({doCrop:function(d){var b=
d.get("cropDetails"),c=this.get("control"),a=b.width/b.height;c.params.flex_width&&c.params.flex_height?(b.dst_width=b.width,b.dst_height=b.height):(b.dst_width=c.params.flex_width?c.params.height*a:c.params.width,b.dst_height=c.params.flex_height?c.params.width/a:c.params.height);return wp.ajax.post("crop-image",{wp_customize:"on",nonce:d.get("nonces").edit,id:d.get("id"),context:c.id,cropDetails:b})}});f.exports=g},fYN4:function(f,g){var d=wp.media.view.MediaFrame,b=wp.media.view.l10n;g=d.extend({initialize:function(){d.prototype.initialize.apply(this,
arguments);_.defaults(this.options,{selection:[],library:{},multiple:!1,state:"library"});this.createSelection();this.createStates();this.bindHandlers()},createSelection:function(){var c=this.options.selection;c instanceof wp.media.model.Selection||(this.options.selection=new wp.media.model.Selection(c,{multiple:this.options.multiple}));this._selection={attachments:new wp.media.model.Attachments,difference:[]}},editImageContent:function(){var c=this.state().get("image");c=(new wp.media.view.EditImage({model:c,
controller:this})).render();this.content.set(c);c.loadEditor()},createStates:function(){var c=this.options;this.options.states||this.states.add([new wp.media.controller.Library({library:wp.media.query(c.library),multiple:c.multiple,title:c.title,priority:20}),new wp.media.controller.EditImage({model:c.editImage})])},bindHandlers:function(){this.on("router:create:browse",this.createRouter,this);this.on("router:render:browse",this.browseRouter,this);this.on("content:create:browse",this.browseContent,
this);this.on("content:render:upload",this.uploadContent,this);this.on("toolbar:create:select",this.createSelectToolbar,this);this.on("content:render:edit-image",this.editImageContent,this)},browseRouter:function(c){c.set({upload:{text:b.uploadFilesTitle,priority:20},browse:{text:b.mediaLibraryTitle,priority:40}})},browseContent:function(c){var a=this.state();this.$el.removeClass("hide-toolbar");c.view=new wp.media.view.AttachmentsBrowser({controller:this,collection:a.get("library"),selection:a.get("selection"),
model:a,sortable:a.get("sortable"),search:a.get("searchable"),filters:a.get("filterable"),date:a.get("date"),display:a.has("display")?a.get("display"):a.get("displaySettings"),dragInfo:a.get("dragInfo"),idealColumnWidth:a.get("idealColumnWidth"),suggestedWidth:a.get("suggestedWidth"),suggestedHeight:a.get("suggestedHeight"),AttachmentView:a.get("AttachmentView")})},uploadContent:function(){this.$el.removeClass("hide-toolbar");this.content.set(new wp.media.view.UploaderInline({controller:this}))},
createSelectToolbar:function(c,a){a=a||this.options.button||{};a.controller=this;c.view=new wp.media.view.Toolbar.Select(a)}});f.exports=g},gOpb:function(f,g){var d=jQuery;g=wp.media.View.extend({tagName:"div",template:wp.template("media-modal"),events:{"click .media-modal-backdrop, .media-modal-close":"escapeHandler",keydown:"keydown"},clickedOpenerEl:null,initialize:function(){_.defaults(this.options,{container:document.body,title:"",propagate:!0,hasCloseButton:!0});this.focusManager=new wp.media.view.FocusManager({el:this.el})},
prepare:function(){return{title:this.options.title,hasCloseButton:this.options.hasCloseButton}},attach:function(){if(this.views.attached)return this;this.views.rendered||this.render();this.$el.appendTo(this.options.container);this.views.attached=!0;this.views.ready();return this.propagate("attach")},detach:function(){this.$el.is(":visible")&&this.close();this.$el.detach();this.views.attached=!1;return this.propagate("detach")},open:function(){var b=this.$el,c;if(b.is(":visible"))return this;this.clickedOpenerEl=
document.activeElement;this.views.attached||this.attach();d("body").addClass("modal-open");b.show();"ontouchend"in document&&(c=window.tinymce&&window.tinymce.activeEditor)&&!c.isHidden()&&c.iframeElement&&(c.iframeElement.focus(),c.iframeElement.blur(),setTimeout(function(){c.iframeElement.blur()},100));this.$(".media-modal").trigger("focus");this.focusManager.setAriaHiddenOnBodyChildren(b);return this.propagate("open")},close:function(b){if(!this.views.attached||!this.$el.is(":visible"))return this;
d(".mejs-pause button").trigger("click");d("body").removeClass("modal-open");this.$el.hide();this.focusManager.removeAriaHiddenFromBodyChildren();null!==this.clickedOpenerEl?this.clickedOpenerEl.focus():d("#wpbody-content").attr("tabindex","-1").trigger("focus");this.propagate("close");b&&b.escape&&this.propagate("escape");return this},escape:function(){return this.close({escape:!0})},escapeHandler:function(b){b.preventDefault();this.escape()},content:function(b){this.views.set(".media-modal-content",
b);return this},propagate:function(b){this.trigger(b);this.options.propagate&&this.controller.trigger(b);return this},keydown:function(b){27===b.which&&this.$el.is(":visible")&&(this.escape(),b.stopImmediatePropagation())}});f.exports=g},ibOK:function(f,g){var d=wp.media.View;g=d.extend({className:"image-editor",template:wp.template("image-editor"),initialize:function(b){this.editor=window.imageEdit;this.controller=b.controller;d.prototype.initialize.apply(this,arguments)},prepare:function(){return this.model.toJSON()},
loadEditor:function(){this.editor.open(this.model.get("id"),this.model.get("nonces").edit,this)},back:function(){var b=this.controller.lastState();this.controller.setState(b)},refresh:function(){this.model.fetch()},save:function(){var b=this.controller.lastState();this.model.fetch().done(_.bind(function(){this.controller.setState(b)},this))}});f.exports=g},iipZ:function(f,g){var d=wp.media.model.Selection,b=wp.media.controller.Library;g=b.extend({defaults:_.defaults({multiple:"add",filterable:"uploaded",
priority:100,syncSelection:!1},b.prototype.defaults),initialize:function(){var c=this.get("collectionType");"video"===this.get("type")&&(c="video-"+c);this.set("id",c+"-library");this.set("toolbar",c+"-add");this.set("menu",c);this.get("library")||this.set("library",wp.media.query({type:this.get("type")}));b.prototype.initialize.apply(this,arguments)},activate:function(){var c=this.get("library"),a=this.get("editLibrary"),e=this.frame.state(this.get("collectionType")+"-edit").get("library");a&&a!==
e&&c.unobserve(a);c.validator=function(h){return!!this.mirroring.get(h.cid)&&!e.get(h.cid)&&d.prototype.validator.apply(this,arguments)};c.reset(c.mirroring.models,{silent:!0});c.observe(e);this.set("editLibrary",e);b.prototype.activate.apply(this,arguments)}});f.exports=g},iupV:function(f,g){var d=wp.media.view.Attachment,b=wp.media.view.l10n,c=jQuery,a=wp.i18n.__;g=d.extend({tagName:"div",className:"attachment-details",template:wp.template("attachment-details"),attributes:{},events:{"change [data-setting]":"updateSetting",
"change [data-setting] input":"updateSetting","change [data-setting] select":"updateSetting","change [data-setting] textarea":"updateSetting","click .delete-attachment":"deleteAttachment","click .trash-attachment":"trashAttachment","click .untrash-attachment":"untrashAttachment","click .edit-attachment":"editAttachment",keydown:"toggleSelectionHandler"},copyAttachmentDetailsURLClipboard:function(){var e;(new ClipboardJS(".copy-attachment-url")).on("success",function(h){var k=c(h.trigger),l=c(".success",
k.closest(".copy-to-clipboard-container"));h.clearSelection();k.trigger("focus");clearTimeout(e);l.removeClass("hidden");e=setTimeout(function(){l.addClass("hidden")},3E3);wp.a11y.speak(a("The file URL has been copied to your clipboard"))})},initialize:function(){this.options=_.defaults(this.options,{rerenderOnModelChange:!1});d.prototype.initialize.apply(this,arguments);this.copyAttachmentDetailsURLClipboard()},getFocusableElements:function(){var e=c('li[data-id="'+this.model.id+'"]');this.previousAttachment=
e.prev();this.nextAttachment=e.next()},moveFocus:function(){this.previousAttachment.length?this.previousAttachment.trigger("focus"):this.nextAttachment.length?this.nextAttachment.trigger("focus"):this.controller.uploader&&this.controller.uploader.$browser?this.controller.uploader.$browser.trigger("focus"):this.moveFocusToLastFallback()},moveFocusToLastFallback:function(){c(".media-frame").attr("tabindex","-1").trigger("focus")},deleteAttachment:function(e){e.preventDefault();this.getFocusableElements();
window.confirm(b.warnDelete)&&(this.model.destroy(),this.moveFocus())},trashAttachment:function(e){var h=this.controller.library,k=this;e.preventDefault();this.getFocusableElements();wp.media.view.settings.mediaTrash&&"edit-metadata"===this.controller.content.mode()?(this.model.set("status","trash"),this.model.save().done(function(){h._requery(!0);k.moveFocusToLastFallback()})):(this.model.destroy(),this.moveFocus())},untrashAttachment:function(e){var h=this.controller.library;e.preventDefault();
this.model.set("status","inherit");this.model.save().done(function(){h._requery(!0)})},editAttachment:function(e){var h=this.controller.states.get("edit-image");window.imageEdit&&h?(e.preventDefault(),h.set("image",this.model),this.controller.setState("edit-image")):this.$el.addClass("needs-refresh")},toggleSelectionHandler:function(e){if("keydown"===e.type&&9===e.keyCode&&e.shiftKey&&e.target===this.$(":tabbable").get(0))return this.controller.trigger("attachment:details:shift-tab",e),!1},render:function(){d.prototype.render.apply(this,
arguments);wp.media.mixin.removeAllPlayers();this.$("audio, video").each(function(e,h){e=wp.media.view.MediaDetails.prepareSrc(h);new window.MediaElementPlayer(e,wp.media.mixin.mejsSettings)})}});f.exports=g},l2j4:function(f,g){g=wp.media.View.extend({tagName:function(){return this.options.level||"h1"},className:"media-views-heading",initialize:function(){this.options.className&&this.$el.addClass(this.options.className);this.text=this.options.text},render:function(){this.$el.html(this.text);return this}});
f.exports=g},mVaH:function(f,g){var d=wp.media.controller.Library;g=d.extend({defaults:_.defaults({filterable:"uploaded",displaySettings:!1,priority:80,syncSelection:!1},d.prototype.defaults),initialize:function(b){this.media=b.media;this.type=b.type;this.set("library",wp.media.query({type:this.type}));d.prototype.initialize.apply(this,arguments)},activate:function(){wp.media.frame.lastMime&&(this.set("library",wp.media.query({type:wp.media.frame.lastMime})),delete wp.media.frame.lastMime);d.prototype.activate.apply(this,
arguments)}});f.exports=g},ng6N:function(f,g){var d=wp.media.model.Selection,b=wp.media.controller.Library;g=b.extend({defaults:_.defaults({id:"gallery-library",title:wp.media.view.l10n.addToGalleryTitle,multiple:"add",filterable:"uploaded",menu:"gallery",toolbar:"gallery-add",priority:100,syncSelection:!1},b.prototype.defaults),initialize:function(){this.get("library")||this.set("library",wp.media.query({type:"image"}));b.prototype.initialize.apply(this,arguments)},activate:function(){var c=this.get("library"),
a=this.frame.state("gallery-edit").get("library");this.editLibrary&&this.editLibrary!==a&&c.unobserve(this.editLibrary);c.validator=function(e){return!!this.mirroring.get(e.cid)&&!a.get(e.cid)&&d.prototype.validator.apply(this,arguments)};c.reset(c.mirroring.models,{silent:!0});c.observe(a);this.editLibrary=a;b.prototype.activate.apply(this,arguments)}});f.exports=g},nwwF:function(f,g){var d=wp.media.View,b=Backbone.$;g=d.extend({events:{"click button":"updateHandler","change input":"updateHandler",
"change select":"updateHandler","change textarea":"updateHandler"},initialize:function(){this.model=this.model||new Backbone.Model;this.listenTo(this.model,"change",this.updateChanges)},prepare:function(){return _.defaults({model:this.model.toJSON()},this.options)},render:function(){d.prototype.render.apply(this,arguments);_(this.model.attributes).chain().keys().each(this.update,this);return this},update:function(c){var a=this.model.get(c),e=this.$('[data-setting="'+c+'"]');e.length&&(e.is("select")?
(a=e.find('[value="'+a+'"]'),a.length?(e.find("option").prop("selected",!1),a.prop("selected",!0)):this.model.set(c,e.find(":selected").val())):e.hasClass("button-group")?(c=e.find("button").removeClass("active").attr("aria-pressed","false"),c.filter('[value="'+a+'"]').addClass("active").attr("aria-pressed","true")):e.is('input[type="text"], textarea')?e.is(":focus")||e.val(a):e.is('input[type="checkbox"]')&&e.prop("checked",!!a&&"false"!==a))},updateHandler:function(c){var a=b(c.target).closest("[data-setting]"),
e=c.target.value;c.preventDefault();a.length&&(a.is('input[type="checkbox"]')&&(e=a[0].checked),this.model.set(a.data("setting"),e),(c=a.data("userSetting"))&&window.setUserSetting(c,e))},updateChanges:function(c){c.hasChanged()&&_(c.changed).chain().keys().each(this.update,this)}});f.exports=g},ojD6:function(f,g){var d=wp.media.View,b=jQuery,c=wp.media.view.settings.infiniteScrolling;g=d.extend({tagName:"ul",className:"attachments",attributes:{tabIndex:-1},initialize:function(){this.el.id=_.uniqueId("__attachments-view-");
_.defaults(this.options,{infiniteScrolling:c||!1,refreshSensitivity:wp.media.isTouchDevice?300:200,refreshThreshold:3,AttachmentView:wp.media.view.Attachment,sortable:!1,resize:!0,idealColumnWidth:640>b(window).width()?135:150});this._viewsByCid={};this.$window=b(window);this.resizeEvent="resize.media-modal-columns";this.collection.on("add",function(a){this.views.add(this.createAttachmentView(a),{at:this.collection.indexOf(a)})},this);this.collection.on("remove",function(a){var e=this._viewsByCid[a.cid];
delete this._viewsByCid[a.cid];e&&e.remove()},this);this.collection.on("reset",this.render,this);this.controller.on("library:selection:add",this.attachmentFocus,this);this.options.infiniteScrolling&&(this.scroll=_.chain(this.scroll).bind(this).throttle(this.options.refreshSensitivity).value(),this.options.scrollElement=this.options.scrollElement||this.el,b(this.options.scrollElement).on("scroll",this.scroll));this.initSortable();_.bindAll(this,"setColumns");this.options.resize&&(this.on("ready",this.bindEvents),
this.controller.on("open",this.setColumns),_.defer(this.setColumns,this))},bindEvents:function(){this.$window.off(this.resizeEvent).on(this.resizeEvent,_.debounce(this.setColumns,50))},attachmentFocus:function(){this.columns&&this.$el.focus()},restoreFocus:function(){this.$("li.selected:first").focus()},arrowEvent:function(a){var e=this.$el.children("li"),h=this.columns,k=e.filter(":focus").index(),l=k+1<=h?1:Math.ceil((k+1)/h);if(-1!==k){if(37===a.keyCode){if(0===k)return;e.eq(k-1).focus()}if(38===
a.keyCode){if(1===l)return;e.eq(k-h).focus()}if(39===a.keyCode){if(e.length===k)return;e.eq(k+1).focus()}40===a.keyCode&&Math.ceil(e.length/h)!==l&&e.eq(k+h).focus()}},dispose:function(){this.collection.props.off(null,null,this);this.options.resize&&this.$window.off(this.resizeEvent);d.prototype.dispose.apply(this,arguments)},setColumns:function(){var a=this.columns,e=this.$el.width();e&&(this.columns=Math.min(Math.round(e/this.options.idealColumnWidth),12)||1,a&&a===this.columns||this.$el.closest(".media-frame-content").attr("data-columns",
this.columns))},initSortable:function(){var a=this.collection;this.options.sortable&&b.fn.sortable&&(this.$el.sortable(_.extend({disabled:!!a.comparator,tolerance:"pointer",start:function(e,h){h.item.data("sortableIndexStart",h.item.index())},update:function(e,h){e=a.at(h.item.data("sortableIndexStart"));var k=a.comparator;delete a.comparator;a.remove(e,{silent:!0});a.add(e,{silent:!0,at:h.item.index()});a.comparator=k;a.trigger("reset",a);a.saveMenuOrder()}},this.options.sortable)),a.props.on("change:orderby",
function(){this.$el.sortable("option","disabled",!!a.comparator)},this),this.collection.props.on("change:orderby",this.refreshSortable,this),this.refreshSortable())},refreshSortable:function(){if(this.options.sortable&&b.fn.sortable){var a=this.collection;a="menuOrder"===a.props.get("orderby")||!a.comparator;this.$el.sortable("option","disabled",!a)}},createAttachmentView:function(a){var e=new this.options.AttachmentView({controller:this.controller,model:a,collection:this.collection,selection:this.options.selection});
return this._viewsByCid[a.cid]=e},prepare:function(){this.collection.length?this.views.set(this.collection.map(this.createAttachmentView,this)):(this.views.unset(),this.options.infiniteScrolling&&this.collection.more().done(this.scroll))},ready:function(){this.options.infiniteScrolling&&this.scroll()},scroll:function(){var a=this,e=this.options.scrollElement,h=e.scrollTop;e===document&&(e=document.body,h=b(document).scrollTop());if(b(e).is(":visible")&&this.collection.hasMore()){var k=this.views.parent.toolbar;
e.scrollHeight-(h+e.clientHeight)<e.clientHeight/3&&k.get("spinner").show();e.scrollHeight<h+e.clientHeight*this.options.refreshThreshold&&this.collection.more().done(function(){a.scroll();k.get("spinner").hide()})}}});f.exports=g},qe5n:function(f,g){var d=Backbone.$;g=wp.media.controller.State.extend({defaults:{id:"embed",title:wp.media.view.l10n.insertFromUrlTitle,content:"embed",menu:"default",toolbar:"main-embed",priority:120,type:"link",url:"",metadata:{}},sensitivity:400,initialize:function(b){this.metadata=
b.metadata;this.debouncedScan=_.debounce(_.bind(this.scan,this),this.sensitivity);this.props=new Backbone.Model(this.metadata||{url:""});this.props.on("change:url",this.debouncedScan,this);this.props.on("change:url",this.refresh,this);this.on("scan",this.scanImage,this)},scan:function(){var b=this,c={type:"link",scanners:[]};this.props.get("url")&&this.trigger("scan",c);if(c.scanners.length){var a=c.scanners=d.when.apply(d,c.scanners);a.always(function(){b.get("scanners")===a&&b.set("loading",!1)})}else c.scanners=
null;c.loading=!!c.scanners;this.set(c)},scanImage:function(b){var c=this.frame,a=this,e=this.props.get("url"),h=new Image,k=d.Deferred();b.scanners.push(k.promise());h.onload=function(){k.resolve();a===c.state()&&e===a.props.get("url")&&(a.set({type:"image"}),a.props.set({width:h.width,height:h.height}))};h.onerror=k.reject;h.src=e},refresh:function(){this.frame.toolbar.get().refresh()},reset:function(){this.props.clear().set({url:""});this.active&&this.refresh()}});f.exports=g},sULL:function(f,
g){var d=wp.media.View,b=jQuery;var c=d.extend({tagName:"li",className:"attachment",template:wp.template("attachment"),attributes:function(){return{tabIndex:0,role:"checkbox","aria-label":this.model.get("title"),"aria-checked":!1,"data-id":this.model.get("id")}},events:{click:"toggleSelectionHandler","change [data-setting]":"updateSetting","change [data-setting] input":"updateSetting","change [data-setting] select":"updateSetting","change [data-setting] textarea":"updateSetting","click .attachment-close":"removeFromLibrary",
"click .check":"checkClickHandler",keydown:"toggleSelectionHandler"},buttons:{},initialize:function(){var a=this.options.selection;_.defaults(this.options,{rerenderOnModelChange:!0}).rerenderOnModelChange?this.listenTo(this.model,"change",this.render):this.listenTo(this.model,"change:percent",this.progress);this.listenTo(this.model,"change:title",this._syncTitle);this.listenTo(this.model,"change:caption",this._syncCaption);this.listenTo(this.model,"change:artist",this._syncArtist);this.listenTo(this.model,
"change:album",this._syncAlbum);this.listenTo(this.model,"add",this.select);this.listenTo(this.model,"remove",this.deselect);a&&(a.on("reset",this.updateSelect,this),this.listenTo(this.model,"selection:single selection:unsingle",this.details),this.details(this.model,this.controller.state().get("selection")));this.listenTo(this.controller.states,"attachment:compat:waiting attachment:compat:ready",this.updateSave)},dispose:function(){var a=this.options.selection;this.updateAll();a&&a.off(null,null,
this);d.prototype.dispose.apply(this,arguments);return this},render:function(){var a=_.defaults(this.model.toJSON(),{orientation:"landscape",uploading:!1,type:"",subtype:"",icon:"",filename:"",caption:"",title:"",dateFormatted:"",width:"",height:"",compat:!1,alt:"",description:""},this.options);a.buttons=this.buttons;a.describe=this.controller.state().get("describe");"image"===a.type&&(a.size=this.imageSize());a.can={};a.nonces&&(a.can.remove=!!a.nonces["delete"],a.can.save=!!a.nonces.update);this.controller.state().get("allowLocalEdits")&&
(a.allowLocalEdits=!0);a.uploading&&!a.percent&&(a.percent=0);this.views.detach();this.$el.html(this.template(a));this.$el.toggleClass("uploading",a.uploading);a.uploading?this.$bar=this.$(".media-progress-bar div"):delete this.$bar;this.updateSelect();this.updateSave();this.views.render();return this},progress:function(){this.$bar&&this.$bar.length&&this.$bar.width(this.model.get("percent")+"%")},toggleSelectionHandler:function(a){var e;if("INPUT"!==a.target.nodeName&&"BUTTON"!==a.target.nodeName)if(37===
a.keyCode||38===a.keyCode||39===a.keyCode||40===a.keyCode)this.controller.trigger("attachment:keydown:arrow",a);else if("keydown"!==a.type||13===a.keyCode||32===a.keyCode){a.preventDefault();if(this.controller.isModeActive("grid")){if(this.controller.isModeActive("edit")){this.controller.trigger("edit:attachment",this.model,a.currentTarget);return}this.controller.isModeActive("select")&&(e="toggle")}if(a.shiftKey)e="between";else if(a.ctrlKey||a.metaKey)e="toggle";this.toggleSelection({method:e});
this.controller.trigger("selection:toggle")}},toggleSelection:function(a){var e=this.collection,h=this.options.selection,k=this.model;a=a&&a.method;if(h){var l=h.single();a=_.isUndefined(a)?h.multiple:a;if("between"===a&&l&&h.multiple)l!==k&&(a=e.indexOf(l),l=e.indexOf(this.model),e=a<l?e.models.slice(a,l+1):e.models.slice(l,a+1),h.add(e),h.single(k));else if("toggle"===a)h[this.selected()?"remove":"add"](k),h.single(k);else if("add"===a)h.add(k),h.single(k);else if(a||(a="add"),"add"!==a&&(a="reset"),
this.selected())h[l===k?"remove":"single"](k);else h[a](k),h.single(k)}},updateSelect:function(){this[this.selected()?"select":"deselect"]()},selected:function(){var a=this.options.selection;if(a)return!!a.get(this.model.cid)},select:function(a,e){a=this.options.selection;var h=this.controller;!a||e&&e!==a||this.$el.hasClass("selected")||(this.$el.addClass("selected").attr("aria-checked",!0),h.isModeActive("grid")&&h.isModeActive("select")||this.$(".check").attr("tabindex","0"))},deselect:function(a,
e){a=this.options.selection;!a||e&&e!==a||this.$el.removeClass("selected").attr("aria-checked",!1).find(".check").attr("tabindex","-1")},details:function(a,e){a=this.options.selection;a===e&&(e=a.single(),this.$el.toggleClass("details",e===this.model))},imageSize:function(a){var e=this.model.get("sizes"),h=!1;a=a||"medium";return e&&(e[a]?h=e[a]:e.large?h=e.large:e.thumbnail?h=e.thumbnail:e.full&&(h=e.full),h)?_.clone(h):{url:this.model.get("url"),width:this.model.get("width"),height:this.model.get("height"),
orientation:this.model.get("orientation")}},updateSetting:function(a){var e=b(a.target).closest("[data-setting]");e.length&&(e=e.data("setting"),a=a.target.value,this.model.get(e)!==a&&this.save(e,a))},save:function(){var a=this,e=this._save=this._save||{status:"ready"},h=this.model.save.apply(this.model,arguments),k=e.requests?b.when(h,e.requests):h;e.savedTimer&&clearTimeout(e.savedTimer);this.updateSave("waiting");e.requests=k;k.always(function(){e.requests===k&&(a.updateSave("resolved"===k.state()?
"complete":"error"),e.savedTimer=setTimeout(function(){a.updateSave("ready");delete e.savedTimer},2E3))})},updateSave:function(a){var e=this._save=this._save||{status:"ready"};a&&a!==e.status&&(this.$el.removeClass("save-"+e.status),e.status=a);this.$el.addClass("save-"+e.status);return this},updateAll:function(){var a=this.$("[data-setting]"),e=this.model;a=_.chain(a).map(function(h){var k=b("input, textarea, select, [value]",h);if(k.length&&(h=b(h).data("setting"),k=k.val(),e.get(h)!==k))return[h,
k]}).compact().object().value();_.isEmpty(a)||e.save(a)},removeFromLibrary:function(a){if("keydown"!==a.type||13===a.keyCode||32===a.keyCode)a.stopPropagation(),this.collection.remove(this.model)},checkClickHandler:function(a){var e=this.options.selection;e&&(a.stopPropagation(),e.where({id:this.model.get("id")}).length?(e.remove(this.model),this.$el.focus()):e.add(this.model),this.controller.trigger("selection:toggle"))}});_.each({caption:"_syncCaption",title:"_syncTitle",artist:"_syncArtist",album:"_syncAlbum"},
function(a,e){c.prototype[a]=function(h,k){h=this.$('[data-setting="'+e+'"]');return h.length&&k!==h.find("input, textarea, select, [value]").val()?this.render():this}});f.exports=c},t3nl:function(f,g){g=wp.media.View.extend({className:"media-iframe",render:function(){this.views.detach();this.$el.html('<iframe src="'+this.controller.state().get("src")+'" />');this.views.render();return this}});f.exports=g},"tg/Y":function(f,g,d){f=wp.media;var b=jQuery;f.isTouchDevice="ontouchend"in document;g=f.view.l10n=
window._wpMediaViewsL10n||{};f.view.settings=g.settings||{};delete g.settings;f.model.settings.post=f.view.settings.post;b.support.transition=function(){var c=document.documentElement.style,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;return(e=_.find(_.keys(a),function(h){return!_.isUndefined(c[h])}))&&{end:a[e]}}();f.events=_.extend({},Backbone.Events);f.transition=function(c,a){var e=b.Deferred();
a=a||2E3;b.support.transition?(c instanceof b||(c=b(c)),c.first().one(b.support.transition.end,e.resolve),_.delay(e.resolve,a)):e.resolve();return e.promise()};f.controller.Region=d("WiNq");f.controller.StateMachine=d("U3Se");f.controller.State=d("M5ZC");f.selectionSync=d("PgTd");f.controller.Library=d("F/kE");f.controller.ImageDetails=d("IkWq");f.controller.GalleryEdit=d("99yY");f.controller.GalleryAdd=d("ng6N");f.controller.CollectionEdit=d("Mt+m");f.controller.CollectionAdd=d("iipZ");f.controller.FeaturedImage=
d("I7TD");f.controller.ReplaceImage=d("aBqq");f.controller.EditImage=d("4tHu");f.controller.MediaLibrary=d("mVaH");f.controller.Embed=d("qe5n");f.controller.Cropper=d("M+xU");f.controller.CustomizeImageCropper=d("eqTc");f.controller.SiteIconCropper=d("W+32");f.View=d("Bbnu");f.view.Frame=d("LGdN");f.view.MediaFrame=d("Pt9x");f.view.MediaFrame.Select=d("fYN4");f.view.MediaFrame.Post=d("6B7g");f.view.MediaFrame.ImageDetails=d("VIJ9");f.view.Modal=d("gOpb");f.view.FocusManager=d("3nJM");f.view.UploaderWindow=
d("S4jH");f.view.EditorUploader=d("GXkx");f.view.UploaderInline=d("7Bpz");f.view.UploaderStatus=d("NguE");f.view.UploaderStatusError=d("ZeG4");f.view.Toolbar=d("2NU8");f.view.Toolbar.Select=d("IgEq");f.view.Toolbar.Embed=d("xQvM");f.view.Button=d("LZpE");f.view.ButtonGroup=d("z/+l");f.view.PriorityList=d("NjyZ");f.view.MenuItem=d("dpRc");f.view.Menu=d("Ju2C");f.view.RouterItem=d("Q9T/");f.view.Router=d("EVvK");f.view.Sidebar=d("9ARG");f.view.Attachment=d("sULL");f.view.Attachment.Library=d("2jku");
f.view.Attachment.EditLibrary=d("EvXF");f.view.Attachments=d("ojD6");f.view.Search=d("ZgZ7");f.view.AttachmentFilters=d("1S4+");f.view.DateFilter=d("VkcK");f.view.AttachmentFilters.Uploaded=d("4jjk");f.view.AttachmentFilters.All=d("KerO");f.view.AttachmentsBrowser=d("72mI");f.view.Selection=d("04Ix");f.view.Attachment.Selection=d("yGM1");f.view.Attachments.Selection=d("wfCN");f.view.Attachment.EditSelection=d("P6DV");f.view.Settings=d("nwwF");f.view.Settings.AttachmentDisplay=d("2AvB");f.view.Settings.Gallery=
d("umxe");f.view.Settings.Playlist=d("76BF");f.view.Attachment.Details=d("iupV");f.view.AttachmentCompat=d("LND6");f.view.Iframe=d("t3nl");f.view.Embed=d("VMHs");f.view.Label=d("V6sy");f.view.EmbedUrl=d("+mQJ");f.view.EmbedLink=d("JecU");f.view.EmbedImage=d("+B8m");f.view.ImageDetails=d("GXJ6");f.view.Cropper=d("Vh02");f.view.SiteIconCropper=d("UmHM");f.view.SiteIconPreview=d("d3xu");f.view.EditImage=d("ibOK");f.view.Spinner=d("cH3P");f.view.Heading=d("l2j4")},umxe:function(f,g){g=wp.media.view.Settings.extend({className:"collection-settings gallery-settings",
template:wp.template("gallery-settings")});f.exports=g},wfCN:function(f,g){var d=wp.media.view.Attachments;g=d.extend({events:{},initialize:function(){_.defaults(this.options,{sortable:!1,resize:!1,AttachmentView:wp.media.view.Attachment.Selection});return d.prototype.initialize.apply(this,arguments)}});f.exports=g},xQvM:function(f,g){var d=wp.media.view.Toolbar.Select,b=wp.media.view.l10n;g=d.extend({initialize:function(){_.defaults(this.options,{text:b.insertIntoPost,requires:!1});d.prototype.initialize.apply(this,
arguments)},refresh:function(){var c=this.controller.state().props.get("url");this.get("select").model.set("disabled",!c||"http://"===c);d.prototype.refresh.apply(this,arguments)}});f.exports=g},yGM1:function(f,g){g=wp.media.view.Attachment.extend({className:"attachment selection",toggleSelection:function(){this.options.selection.single(this.model)}});f.exports=g},"z/+l":function(f,g){var d=Backbone.$;g=wp.media.View.extend({tagName:"div",className:"button-group button-large media-button-group",initialize:function(){this.buttons=
_.map(this.options.buttons||[],function(b){return b instanceof Backbone.View?b:(new wp.media.view.Button(b)).render()});delete this.options.buttons;this.options.classes&&this.$el.addClass(this.options.classes)},render:function(){this.$el.html(d(_.pluck(this.buttons,"el")).detach());return this}});f.exports=g}});
