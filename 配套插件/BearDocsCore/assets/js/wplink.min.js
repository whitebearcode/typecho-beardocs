var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,h,k){b instanceof String&&(b=String(b));for(var l=b.length,e=0;e<l;e++){var q=b[e];if(h.call(k,q,e,b))return{i:e,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,h,k){if(b==Array.prototype||b==Object.prototype)return b;b[h]=k.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var h=0;h<b.length;++h){var k=b[h];if(k&&k.Math==Math)return k}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,h){var k=$jscomp.propertyToPolyfillSymbol[h];if(null==k)return b[h];k=b[k];return void 0!==k?k:b[h]};
$jscomp.polyfill=function(b,h,k,l){h&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,h,k,l):$jscomp.polyfillUnisolated(b,h,k,l))};$jscomp.polyfillUnisolated=function(b,h,k,l){k=$jscomp.global;b=b.split(".");for(l=0;l<b.length-1;l++){var e=b[l];if(!(e in k))return;k=k[e]}b=b[b.length-1];l=k[b];h=h(l);h!=l&&null!=h&&$jscomp.defineProperty(k,b,{configurable:!0,writable:!0,value:h})};
$jscomp.polyfillIsolated=function(b,h,k,l){var e=b.split(".");b=1===e.length;l=e[0];l=!b&&l in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<e.length-1;q++){var w=e[q];if(!(w in l))return;l=l[w]}e=e[e.length-1];k=$jscomp.IS_SYMBOL_NATIVE&&"es6"===k?l[e]:null;h=h(k);null!=h&&(b?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:h}):h!==k&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(l,e,{configurable:!0,writable:!0,value:h})))};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(h,k){return $jscomp.findInternal(this,h,k).v}},"es6","es3");
(function(b,h,k){function l(){return e?e.$('a[data-wplink-edit="true"]'):null}var e,q,w,G=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,63}$/i,H=/^(https?|ftp):\/\/[A-Z0-9.-]+\.[A-Z]{2,63}[^ "]*$/i,p,z,x,y,A,r,m,I,B,t,C,D,E,u,v,J,L="ontouchend"in document;window.wpLink={timeToTriggerRiver:150,minRiverAJAXDuration:200,riverBottomThreshold:5,keySensitivity:100,lastSearch:"",textarea:"",modalOpen:!1,init:function(){p=b("#wp-link-wrap");z=b("#wp-link");x=b("#wp-link-backdrop");y=b("#wp-link-submit");A=b("#wp-link-close");
r=b("#wp-link-text");m=b("#wp-link-url");I=b("#_ajax_linking_nonce");B=b("#wp-link-target");t=b("#wp-link-search");u=new F(b("#search-results"));v=new F(b("#most-recent-results"));J=z.find(".query-results");C=b("#query-notice-message");D=C.find(".query-notice-default");E=C.find(".query-notice-hint");z.on("keydown",wpLink.keydown);z.on("keyup",wpLink.keyup);y.on("click",function(a){a.preventDefault();wpLink.update()});A.add(x).add("#wp-link-cancel button").on("click",function(a){a.preventDefault();
wpLink.close()});J.on("river-select",wpLink.updateFields);t.on("focus.wplink",function(){D.hide();E.removeClass("screen-reader-text").show()}).on("blur.wplink",function(){D.show();E.addClass("screen-reader-text").hide()});t.on("keyup input",function(){window.clearTimeout(q);q=window.setTimeout(function(){wpLink.searchInternalLinks()},500)});m.on("paste",function(){setTimeout(wpLink.correctURL,0)});m.on("blur",wpLink.correctURL)},correctURL:function(){var a=m.val().trim();a&&w!==a&&!/^(?:[a-z]+:|#|\?|\.|\/)/.test(a)&&
(m.val("http://"+a),w=a)},open:function(a,c,d){var g=b(document.body);g.addClass("modal-open");wpLink.modalOpen=!0;wpLink.range=null;a&&(window.wpActiveEditor=a);window.wpActiveEditor&&(this.textarea=b("#"+window.wpActiveEditor).get(0),"undefined"!==typeof window.tinymce&&(g.append(x,p),e=(a=window.tinymce.get(window.wpActiveEditor))&&!a.isHidden()?a:null),!wpLink.isMCE()&&document.selection&&(this.textarea.focus(),this.range=document.selection.createRange()),p.show(),x.show(),wpLink.refresh(c,d),
b(document).trigger("wplink-open",p))},isMCE:function(){return e&&!e.isHidden()},refresh:function(a,c){u.refresh();v.refresh();wpLink.isMCE()?wpLink.mceRefresh(a,c):(p.hasClass("has-text-field")||p.addClass("has-text-field"),document.selection?document.selection.createRange():"undefined"!==typeof this.textarea.selectionStart&&this.textarea.selectionStart!==this.textarea.selectionEnd&&(c=this.textarea.value.substring(this.textarea.selectionStart,this.textarea.selectionEnd)||c||""),r.val(c),wpLink.setDefaultValues());
L?m.trigger("focus").trigger("blur"):window.setTimeout(function(){m[0].select();m.trigger("focus")});v.ul.children().length||v.ajax();w=m.val().replace(/^http:\/\//,"")},hasSelectedText:function(a){var c;var d=e.selection.getContent();if(/</.test(d)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(d)||-1===d.indexOf("href=")))return!1;if(a.length){d=a[0].childNodes;if(!d||!d.length)return!1;for(c=d.length-1;0<=c;c--)if(a=d[c],3!=a.nodeType&&!window.tinymce.dom.BookmarkManager.isBookmarkNode(a))return!1}return!0},
mceRefresh:function(a,c){var d=l(),g=this.hasSelectedText(d);if(d.length){var f=d.text();var n=d.attr("href");f.trim()||(f=c||"");a&&(H.test(a)||G.test(a))&&(n=a);"_wp_link_placeholder"!==n?(m.val(n),B.prop("checked","_blank"===d.attr("target")),y.val(h.update)):this.setDefaultValues(f);a&&a!==n?t.val(a):t.val("");window.setTimeout(function(){wpLink.searchInternalLinks()})}else f=e.selection.getContent({format:"text"})||c||"",this.setDefaultValues(f);g?(r.val(f),p.addClass("has-text-field")):(r.val(""),
p.removeClass("has-text-field"))},close:function(a){b(document.body).removeClass("modal-open");wpLink.modalOpen=!1;"noReset"!==a&&(wpLink.isMCE()?(e.plugins.wplink&&e.plugins.wplink.close(),e.focus()):(wpLink.textarea.focus(),wpLink.range&&(wpLink.range.moveToBookmark(wpLink.range.getBookmark()),wpLink.range.select())));x.hide();p.hide();w=!1;b(document).trigger("wplink-close",p)},getAttrs:function(){wpLink.correctURL();return{href:m.val().trim(),target:B.prop("checked")?"_blank":null}},buildHtml:function(a){var c=
'<a href="'+a.href+'"';a.target&&(c+=' rel="noopener" target="'+a.target+'"');return c+">"},update:function(){wpLink.isMCE()?wpLink.mceUpdate():wpLink.htmlUpdate()},htmlUpdate:function(){var a=wpLink.textarea;if(a){var c=wpLink.getAttrs();var d=r.val();var g=document.createElement("a");g.href=c.href;if("javascript:"===g.protocol||"data:"===g.protocol)c.href="";if(c.href){c=wpLink.buildHtml(c);if(document.selection&&wpLink.range)a.focus(),wpLink.range.text=c+(d||wpLink.range.text)+"</a>",wpLink.range.moveToBookmark(wpLink.range.getBookmark()),
wpLink.range.select(),wpLink.range=null;else if("undefined"!==typeof a.selectionStart){g=a.selectionStart;var f=a.selectionEnd;var n=d||a.value.substring(g,f);c=c+n+"</a>";d=g+c.length;g!==f||n||(d-=4);a.value=a.value.substring(0,g)+c+a.value.substring(f,a.value.length);a.selectionStart=a.selectionEnd=d}wpLink.close();a.focus();b(a).trigger("change")}}},mceUpdate:function(){var a=wpLink.getAttrs(),c,d,g=document.createElement("a");g.href=a.href;if("javascript:"===g.protocol||"data:"===g.protocol)a.href=
"";if(a.href){var f=l();e.undoManager.transact(function(){f.length||(e.execCommand("mceInsertLink",!1,{href:"_wp_link_placeholder","data-wp-temp-link":1}),f=e.$('a[data-wp-temp-link="1"]').removeAttr("data-wp-temp-link"),d=f.text().trim());f.length?(p.hasClass("has-text-field")&&((c=r.val())?f.text(c):d||f.text(a.href)),a["data-wplink-edit"]=null,a["data-mce-href"]=a.href,f.attr(a)):e.execCommand("unlink")});wpLink.close("noReset");e.focus();f.length&&(e.selection.select(f[0]),e.plugins.wplink&&e.plugins.wplink.checkLink(f[0]));
e.nodeChanged();k.a11y.speak(h.linkInserted)}else e.execCommand("unlink"),wpLink.close()},updateFields:function(a,c){m.val(c.children(".item-permalink").val());p.hasClass("has-text-field")&&!r.val()&&r.val(c.children(".item-title").text())},getUrlFromSelection:function(a){a||(this.isMCE()?a=e.selection.getContent({format:"text"}):document.selection&&wpLink.range?a=wpLink.range.text:"undefined"!==typeof this.textarea.selectionStart&&(a=this.textarea.value.substring(this.textarea.selectionStart,this.textarea.selectionEnd)));
return(a=(a||"").trim())&&G.test(a)?"mailto:"+a:a&&H.test(a)?a.replace(/&amp;|&#0?38;/gi,"&"):""},setDefaultValues:function(a){m.val(this.getUrlFromSelection(a));t.val("");wpLink.searchInternalLinks();y.val(h.save)},searchInternalLinks:function(){var a=t.val()||"",c=parseInt(h.minInputLength,10)||3;if(a.length>=c){if(v.hide(),u.show(),wpLink.lastSearch!=a){wpLink.lastSearch=a;var d=t.parent().find(".spinner").addClass("is-active");u.change(a);u.ajax(function(){d.removeClass("is-active")})}}else u.hide(),
v.show()},next:function(){u.next();v.next()},prev:function(){u.prev();v.prev()},keydown:function(a){if(27===a.keyCode)wpLink.close(),a.stopImmediatePropagation();else if(9===a.keyCode){var c=a.target.id;"wp-link-submit"!==c||a.shiftKey?"wp-link-close"===c&&a.shiftKey&&(y.trigger("focus"),a.preventDefault()):(A.trigger("focus"),a.preventDefault())}a.shiftKey||38!==a.keyCode&&40!==a.keyCode||document.activeElement&&("link-title-field"===document.activeElement.id||"url-field"===document.activeElement.id)||
(c=38===a.keyCode?"prev":"next",clearInterval(wpLink.keyInterval),wpLink[c](),wpLink.keyInterval=setInterval(wpLink[c],wpLink.keySensitivity),a.preventDefault())},keyup:function(a){if(38===a.keyCode||40===a.keyCode)clearInterval(wpLink.keyInterval),a.preventDefault()},delayedCallback:function(a,c){var d,g,f,n;if(!c)return a;setTimeout(function(){if(g)return a.apply(n,f);d=!0},c);return function(){if(d)return a.apply(this,arguments);f=arguments;n=this;g=!0}}};var F=function(a,c){var d=this;this.element=
a;this.ul=a.children("ul");this.contentHeight=a.children("#link-selector-height");this.waiting=a.find(".river-waiting");this.change(c);this.refresh();b("#wp-link .query-results, #wp-link #link-selector").on("scroll",function(){d.maybeLoad()});a.on("click","li",function(g){d.select(b(this),g)})};b.extend(F.prototype,{refresh:function(){this.deselect();this.visible=this.element.is(":visible")},show:function(){this.visible||(this.deselect(),this.element.show(),this.visible=!0)},hide:function(){this.element.hide();
this.visible=!1},select:function(a,c){if(!a.hasClass("unselectable")&&a!=this.selected){this.deselect();this.selected=a.addClass("selected");var d=a.outerHeight();var g=this.element.height();var f=a.position().top;var n=this.element.scrollTop();0>f?this.element.scrollTop(n+f):f+d>g&&this.element.scrollTop(n+f-g+d);this.element.trigger("river-select",[a,c,this])}},deselect:function(){this.selected&&this.selected.removeClass("selected");this.selected=!1},prev:function(){if(this.visible&&this.selected){var a=
this.selected.prev("li");a.length&&this.select(a)}},next:function(){if(this.visible){var a=this.selected?this.selected.next("li"):b("li:not(.unselectable):first",this.element);a.length&&this.select(a)}},ajax:function(a){var c=this,d=wpLink.delayedCallback(function(g,f){c.process(g,f);a&&a(g,f)},1==this.query.page?0:wpLink.minRiverAJAXDuration);this.query.ajax(d)},change:function(a){this.query&&this._search==a||(this._search=a,this.query=new K(a),this.element.scrollTop(0))},process:function(a,c){var d=
"",g=!0,f="";c=1==c.page;a?b.each(a,function(){f=g?"alternate":"";f+=this.title?"":" no-title";d+=f?'<li class="'+f+'">':"<li>";d+='<input type="hidden" class="item-permalink" value="'+this.permalink+'" />';d+='<span class="item-title">';d+=this.title?this.title:h.noTitle;d+='</span><span class="item-info">'+this.info+"</span></li>";g=!g}):c&&(d+='<li class="unselectable no-matches-found"><span class="item-title"><em>'+h.noMatchesFound+"</em></span></li>");this.ul[c?"html":"append"](d)},maybeLoad:function(){var a=
this,c=this.element,d=c.scrollTop()+c.height();!this.query.ready()||d<this.contentHeight.height()-wpLink.riverBottomThreshold||setTimeout(function(){var g=c.scrollTop(),f=g+c.height();!a.query.ready()||f<a.contentHeight.height()-wpLink.riverBottomThreshold||(a.waiting.addClass("is-active"),c.scrollTop(g+a.waiting.outerHeight()),a.ajax(function(){a.waiting.removeClass("is-active")}))},wpLink.timeToTriggerRiver)}});var K=function(a){this.page=1;this.querying=this.allLoaded=!1;this.search=a};b.extend(K.prototype,
{ready:function(){return!(this.querying||this.allLoaded)},ajax:function(a){var c=this,d={action:"wp-link-ajax",page:this.page,_ajax_linking_nonce:I.val()};this.search&&(d.search=this.search);this.querying=!0;b.post(window.ajaxurl,d,function(g){c.page++;c.querying=!1;c.allLoaded=!g;a(g,d)},"json")}});b(wpLink.init)})(jQuery,window.wpLinkL10n,window.wp);
