<?php if (!defined('__TYPECHO_ROOT_DIR__')) exit; ?>
<?php $this->need('header.php'); ?>

<div class="uk-section uk-section-muted">
  <div class="uk-container">
    <div class="uk-grid-small" data-uk-grid>
      <div class="uk-width-auto uk-text-secondary">
        <span class="uk-margin-xsmall-top" data-uk-icon="icon: <?php if($this->is('category')): ?><?php echo General::getCategoryDescriptionData($this->getDescription())['icon']; ?><?php else:?>search<?php endif;?>; ratio: 2.6"></span>
      </div>
      <div class="uk-width-expand">
        <h1 class="uk-article-title uk-margin-remove"><?php $this->archiveTitle(array(
            'category'  =>  _t('%s'),
            'search'    =>  _t('%s'),
            'tag'       =>  _t('%s'),
            'author'    =>  _t('%s')
        ), '', ''); ?></h1>
        <p class="uk-text-lead uk-text-muted uk-margin-remove-top uk-category-desc-ove"><?php if($this->is('category')): ?><?php echo General::getCategoryDescriptionData($this->getDescription())['desc']; ?><?php else:?>以下为 <?php $this->archiveTitle(array(
            'category'  =>  _t('%s'),
            'search'    =>  _t('%s'),
            'tag'       =>  _t('%s'),
            'author'    =>  _t('%s')
        ), '', ''); ?> 的相关结果<?php endif;?></p>
      </div>
    </div>
    <div class="uk-margin-medium-top">
        <?php if ($this->have()): ?>
        <?php while($this->next()): ?>
      <div class="uk-card uk-card-category uk-card-default uk-card-hover uk-card-body uk-inline uk-border-rounded uk-width-1-1">
        <a class="uk-position-cover" href="<?php $this->permalink() ?>"></a>
        <h3 class="uk-card-title uk-margin-remove uk-text-secondary uk-article-titles"><?php echo $this->title; ?></h3>
        <p class="uk-margin-small-top"><?php if($this->fields->excerpt):?><?php echo $this->fields->excerpt;?><?php else:?><?php echo General::cutexpert($this->excerpt,30);?><?php endif; ?></p>
        <div class="uk-article-meta uk-flex uk-flex-middle">
          <img class="uk-border-circle uk-avatar-small" src="<?php echo General::getAvatar($this->author->mail); ?>" alt="Sara Galen">
          <div>
            由 <?php $this->author->screenName();?> 撰写<br>
            <time class="uk-margin-small-right" datetime="<?php $this->date('Y年m月d日 H:i:s'); ?>">发布于 <?php $this->date('Y年m月d日 H:i:s'); ?></time><br>
            
          </div>
        </div>
      </div>
      <?php endwhile;?>
      <?php else:?>
      <svg height="600" node-id="1" sillyvg="true" template-height="1024" template-width="1024" version="1.1" viewBox="0 0 1024 1024" width="1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs node-id="100"><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_1_" node-id="16" spreadMethod="pad" x1="512" x2="512" y1="762.4744" y2="822.4647"><stop offset="0" stop-color="#e8e8e8"></stop><stop offset="0.6" stop-color="#f8f8f8" stop-opacity="0.5"></stop><stop offset="1" stop-color="#ffffff" stop-opacity="0"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_2_" node-id="22" spreadMethod="pad" x1="361.2672" x2="361.2672" y1="211.8065" y2="374.6912"><stop offset="0" stop-color="#e8e8e8"></stop><stop offset="0.6" stop-color="#f9f9f9" stop-opacity="0.1"></stop><stop offset="1" stop-color="#ffffff" stop-opacity="0"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_3_" node-id="27" spreadMethod="pad" x1="599.6069" x2="599.6069" y1="199.8064" y2="412.1855"><stop offset="0" stop-color="#e8e8e8"></stop><stop offset="0.8" stop-color="#f6f6f6" stop-opacity="0.1"></stop><stop offset="1" stop-color="#ffffff" stop-opacity="0"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_4_" node-id="33" spreadMethod="pad" x1="235.6873" x2="406.3704" y1="431.3283" y2="431.3283"><stop offset="0" stop-color="#ebebeb"></stop><stop offset="1" stop-color="#c5c5c7"></stop></linearGradient><linearGradient gradientTransform="matrix(0.7901 -0.613 0.613 0.7901 -595.9419 -2725.3416)" gradientUnits="userSpaceOnUse" id="SVGID_5_" node-id="37" spreadMethod="pad" x1="-1355.1254" x2="-1426.7167" y1="3131.5752" y2="3121.3582"><stop offset="0" stop-color="#ebebeb"></stop><stop offset="1" stop-color="#c5c5c7"></stop></linearGradient><linearGradient gradientTransform="matrix(0.9763 0.2164 -0.2164 0.9763 -181.8312 793.0645)" gradientUnits="userSpaceOnUse" id="SVGID_6_" node-id="42" spreadMethod="pad" x1="946.6353" x2="922.1001" y1="-289.5782" y2="-305.2094"><stop offset="0" stop-color="#ebebeb"></stop><stop offset="1" stop-color="#c5c5c7"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_7_" node-id="46" spreadMethod="pad" x1="720.0015" x2="720.0015" y1="763.6751" y2="792.5177"><stop offset="0" stop-color="#ebebeb"></stop><stop offset="1" stop-color="#c5c5c7"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_8_" node-id="52" spreadMethod="pad" x1="691.9523" x2="691.9523" y1="620.3621" y2="528.7466"><stop offset="0" stop-color="#a5a5a5"></stop><stop offset="1" stop-color="#d1d1d1"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_9_" node-id="59" spreadMethod="pad" x1="715.7626" x2="577.9139" y1="563.2402" y2="563.2402"><stop offset="0" stop-color="#969696"></stop><stop offset="1" stop-color="#ababab"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_10_" node-id="64" spreadMethod="pad" x1="470.1545" x2="556.1038" y1="443.9398" y2="592.8082"><stop offset="0" stop-color="#fee38d"></stop><stop offset="1" stop-color="#f25c19"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_11_" node-id="68" spreadMethod="pad" x1="436.7363" x2="504.9037" y1="463.2338" y2="581.3033"><stop offset="0" stop-color="#fee38d"></stop><stop offset="1" stop-color="#f25c19"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_12_" node-id="73" spreadMethod="pad" x1="325.4865" x2="481.8584" y1="536.2589" y2="722.6157"><stop offset="0" stop-color="#a5a5a5"></stop><stop offset="1" stop-color="#d1d1d1"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_13_" node-id="78" spreadMethod="pad" x1="461.2101" x2="654.2184" y1="524.7377" y2="754.756"><stop offset="0" stop-color="#ebebeb"></stop><stop offset="1" stop-color="#c5c5c7"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_14_" node-id="83" spreadMethod="pad" x1="447.1427" x2="392.9577" y1="583.817" y2="583.817"><stop offset="0" stop-color="#969696"></stop><stop offset="1" stop-color="#ababab"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_15_" node-id="88" spreadMethod="pad" x1="393.0422" x2="304.7307" y1="614.8081" y2="614.8081"><stop offset="0" stop-color="#a5a5a5"></stop><stop offset="1" stop-color="#d1d1d1"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_16_" node-id="93" spreadMethod="pad" x1="339.7715" x2="412.1865" y1="524.4767" y2="610.7776"><stop offset="0" stop-color="#ebebeb"></stop><stop offset="1" stop-color="#c5c5c7"></stop></linearGradient></defs><path d="M 735.24 822.46 C 735.24 805.90 635.29 762.47 512.00 762.47 C 388.71 762.47 288.76 805.90 288.76 822.46 L 735.24 822.46 Z" fill="url(#SVGID_1_)" fill-rule="nonzero" node-id="206" stroke="none" target-height="59.99005" target-width="446.47998" target-x="288.76" target-y="762.47"></path><g node-id="277"><path d="M 490.07 316.80 C 490.07 291.33 469.65 270.63 444.29 270.17 C 444.94 266.99 445.29 263.70 445.29 260.33 C 445.29 233.53 423.56 211.80 396.76 211.80 C 378.74 211.80 363.03 221.63 354.66 236.21 C 349.50 233.95 343.81 232.69 337.82 232.69 C 319.97 232.69 304.74 243.81 298.63 259.50 C 295.92 259.11 293.16 258.90 290.34 258.90 C 258.37 258.90 232.45 284.82 232.45 316.79 C 232.45 348.76 258.37 374.68 290.34 374.68 C 303.33 374.68 315.32 370.40 324.98 363.18 L 438.42 363.18 C 440.06 363.35 441.72 363.45 443.41 363.45 C 445.10 363.45 446.76 363.36 448.40 363.18 L 448.40 363.18 L 448.40 363.18 C 471.83 360.70 490.07 340.88 490.07 316.80 Z" fill="url(#SVGID_2_)" fill-rule="nonzero" group-id="1" node-id="210" stroke="none" target-height="162.87999" target-width="257.62" target-x="232.45" target-y="211.8"></path><path d="M 791.54 336.24 C 791.54 301.21 763.14 272.81 728.11 272.81 C 723.60 272.81 719.20 273.29 714.96 274.18 C 707.58 231.93 670.74 199.80 626.37 199.80 C 594.18 199.80 565.96 216.72 550.06 242.14 C 547.01 241.71 543.90 241.47 540.73 241.47 C 514.47 241.47 491.78 256.75 481.06 278.90 C 478.89 278.69 476.70 278.57 474.48 278.57 C 437.59 278.57 407.68 308.48 407.68 345.37 C 407.68 382.26 437.59 412.17 474.48 412.17 C 489.30 412.17 502.98 407.34 514.06 399.17 L 720.29 399.17 C 722.85 399.49 725.46 399.66 728.11 399.66 C 730.73 399.66 733.31 399.48 735.85 399.17 L 736.17 399.17 L 736.17 399.13 C 767.39 395.18 791.54 368.54 791.54 336.24 Z" fill="url(#SVGID_3_)" fill-rule="nonzero" group-id="1" node-id="212" stroke="none" target-height="212.37001" target-width="383.86" target-x="407.68" target-y="199.8"></path></g><g node-id="278"><path d="M 237.69 505.49 C 236.62 505.49 235.73 504.64 235.69 503.56 C 235.65 502.46 236.52 501.53 237.62 501.50 C 265.17 500.60 295.86 465.41 296.17 465.06 C 298.09 462.74 299.71 460.41 301.04 458.10 C 299.89 458.11 298.73 458.08 297.58 458.02 L 297.42 458.01 C 288.55 456.85 278.32 451.35 275.94 443.07 C 274.73 438.86 275.10 432.35 283.74 425.20 L 283.99 425.02 C 292.14 420.18 300.39 420.90 305.53 426.92 C 310.44 432.67 311.90 442.66 307.62 453.69 C 363.87 446.90 402.13 359.33 402.53 358.40 C 402.97 357.39 404.14 356.92 405.16 357.35 C 406.17 357.79 406.64 358.96 406.21 359.98 C 406.10 360.23 395.14 385.52 376.50 410.05 C 354.13 439.49 329.82 455.87 305.73 457.89 C 304.08 461.12 301.92 464.39 299.22 467.65 C 297.90 469.18 267.06 504.55 237.75 505.51 C 237.73 505.49 237.71 505.49 237.69 505.49 Z M 297.86 454.02 C 299.62 454.11 301.37 454.11 303.10 454.04 C 307.65 443.79 306.70 434.44 302.49 429.51 C 298.67 425.04 292.58 424.62 286.17 428.37 C 282.35 431.56 278.21 436.47 279.78 441.95 C 281.44 447.68 289.20 452.86 297.86 454.02 Z" fill="url(#SVGID_4_)" fill-rule="nonzero" group-id="2" node-id="217" stroke="none" target-height="148.59" target-width="170.99002" target-x="235.65" target-y="356.92"></path></g><path d="M 199.89 630.77 C 206.77 627.54 252.66 612.63 235.30 578.41 C 235.30 578.41 241.56 569.26 245.71 567.53 C 246.05 567.39 246.08 566.93 245.77 566.74 L 244.51 565.95 C 244.31 565.82 244.07 565.79 243.84 565.87 C 242.63 566.29 238.54 568.20 232.72 576.06 C 232.72 576.06 187.66 570.02 198.83 630.21 C 198.91 630.70 199.44 630.98 199.89 630.77 Z" fill="url(#SVGID_5_)" fill-rule="nonzero" node-id="220" stroke="none" target-height="65.19" target-width="65" target-x="187.66" target-y="565.79"></path><path d="M 771.99 741.90 C 771.46 741.78 770.98 741.45 770.69 740.94 C 770.14 739.98 770.47 738.76 771.43 738.21 C 796.46 723.86 806.31 705.49 810.17 692.60 C 814.36 678.61 812.61 667.84 812.59 667.74 C 812.41 666.65 813.14 665.62 814.22 665.43 C 815.30 665.25 816.34 665.97 816.53 667.06 C 816.61 667.53 818.46 678.70 814.06 693.55 C 810.02 707.20 799.69 726.62 773.42 741.68 C 772.96 741.94 772.46 742.00 771.99 741.90 Z" fill="url(#SVGID_6_)" fill-rule="nonzero" group-id="3" node-id="224" stroke="none" target-height="76.75" target-width="48.320007" target-x="770.14" target-y="665.25"></path><path d="M 744.10 763.96 C 744.10 763.96 742.23 770.72 737.18 771.41 C 732.13 772.10 726.80 756.84 714.11 767.42 C 699.22 779.85 699.61 780.02 694.38 780.36 C 690.39 780.61 704.36 795.57 724.14 791.95 C 735.18 788.97 739.42 781.44 738.42 776.78 C 738.26 776.04 738.52 775.27 739.10 774.78 C 740.94 773.22 744.68 769.89 746.04 767.47 C 746.56 766.55 746.24 765.38 745.37 764.77 L 744.10 763.96 Z" fill="url(#SVGID_7_)" fill-rule="nonzero" node-id="227" stroke="none" target-height="38.72998" target-width="56.169983" target-x="690.39" target-y="756.84"></path><path d="M 664.64 533.02 L 668.14 528.75 L 719.27 616.09 L 715.76 620.36 Z" fill="url(#SVGID_8_)" fill-rule="nonzero" group-id="4,5" node-id="233" stroke="none" target-height="91.609985" target-width="54.630005" target-x="664.64" target-y="528.75"></path><path d="M 577.91 506.12 L 581.42 501.84 L 668.14 528.75 L 664.64 533.02 Z" fill="#b0b0b0" fill-rule="nonzero" group-id="4,6" node-id="238" stroke="none" target-height="31.180023" target-width="90.23004" target-x="577.91" target-y="501.84"></path><path d="M 664.64 533.02 L 715.76 620.36 L 629.04 593.46 L 577.91 506.12 Z" fill="url(#SVGID_9_)" fill-rule="nonzero" group-id="4,7" node-id="243" stroke="none" target-height="114.23999" target-width="137.85004" target-x="577.91" target-y="506.12"></path><path d="M 447.36 536.36 L 359.09 508.06 L 578.90 500.39 L 667.17 528.68 Z" fill="url(#SVGID_10_)" fill-rule="nonzero" group-id="4,8" node-id="248" stroke="none" target-height="35.96997" target-width="308.08" target-x="359.09" target-y="500.39"></path><path d="M 579.11 538.46 L 359.46 538.46 L 359.09 508.06 L 578.90 500.39 Z" fill="url(#SVGID_11_)" fill-rule="nonzero" group-id="4" node-id="251" stroke="none" target-height="38.070007" target-width="220.01999" target-x="359.09" target-y="500.39"></path><path d="M 448.26 750.81 L 359.99 722.52 L 359.09 508.06 L 447.36 536.36 Z" fill="url(#SVGID_12_)" fill-rule="nonzero" group-id="4,9" node-id="255" stroke="none" target-height="242.75" target-width="89.17001" target-x="359.09" target-y="508.06"></path><path d="M 667.17 528.68 L 668.07 743.13 L 448.26 750.81 L 447.36 536.36 Z" fill="url(#SVGID_13_)" fill-rule="nonzero" group-id="4,10" node-id="260" stroke="none" target-height="222.13" target-width="220.71002" target-x="447.36" target-y="528.68"></path><path d="M 392.96 631.00 L 393.04 626.84 L 447.14 536.64 L 447.06 540.79 Z" fill="url(#SVGID_14_)" fill-rule="nonzero" group-id="4,11" node-id="265" stroke="none" target-height="94.359985" target-width="54.180023" target-x="392.96" target-y="536.64"></path><path d="M 304.73 602.77 L 304.82 598.62 L 393.04 626.84 L 392.96 631.00 Z" fill="url(#SVGID_15_)" fill-rule="nonzero" group-id="4,12" node-id="270" stroke="none" target-height="32.380005" target-width="88.31" target-x="304.73" target-y="598.62"></path><path d="M 393.04 626.84 L 304.82 598.62 L 358.92 508.41 L 447.14 536.64 Z" fill="url(#SVGID_16_)" fill-rule="nonzero" group-id="4,13" node-id="275" stroke="none" target-height="118.43002" target-width="142.32" target-x="304.82" target-y="508.41"></path></svg>
      <?php endif;?>
  

      
    </div>


<?php
      ob_start(); 
      $this->pageNav('&laquo;','&raquo;', 1, '');
      $content = ob_get_contents();
      ob_end_clean();
      $content = preg_replace("/<ol class=\"(.*?)\">/sm", '<ul class="uk-pagination  uk-flex-center uk-margin-medium-top" uk-margin>', $content);
      $content = preg_replace("/<li><span>(.*?)<\/span><\/li>/sm", '<li class="uk-disabled"><span>…</span></li>', $content);
      $content = preg_replace("/<li class=\"current\"><a href=\"(.*?)\">(.*?)<\/a><\/li>/sm", '<li class="uk-active"><span>$2</span></li>', $content);
      $content = preg_replace("/<li><a href=\"(.*?)\">(.*?)<\/a><\/li>/sm", '<li><a href="$1">$2</a></li>', $content);
       $content = preg_replace("/<li [class=\"prev\"]+><a href=\"(.*?)\">(.*?)<\/a><\/li>/sm", '<li><a href="$1"><span uk-pagination-previous></span></a></li>', $content);
      $content = preg_replace("/<li [class=\"next\"]+><a href=\"(.*?)\">(.*?)<\/a><\/li>/sm", '<li><a href="$1"><span uk-pagination-next></span></a></li>', $content);
      $content = preg_replace("/<\/ol>/sm", '</ul>', $content);
      echo $content;
     ?>
     
     
     
  </div>
</div>
<?php $this->need('footer.php'); ?>
